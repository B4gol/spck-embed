/*

ace
---
Copyright (c) 2010, Ajax.org B.V.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of Ajax.org B.V. nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


axios
---
Copyright (c) 2014 Matt Zabriskie

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


base-64
---
Copyright Mathias Bynens <http://mathiasbynens.be/>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


Dexie.js

Copyright (c) 2014-2017 David Fahlander

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.


dot
---
Copyright (c) 2011 Laura Doktorova

Software includes portions from jQote2 Copyright (c) 2010 aefxx,
http://aefxx.com/ licensed under the MIT license.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


hashids
---
Copyright (c) 2012-2016 Ivan Akimov

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


Jdenticon
---
MIT License

Copyright (c) 2014-2018 Daniel Mester Pirttij√§rvi

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


jquery
---
Copyright 2014 jQuery Foundation and other contributors
http://jquery.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


js-github
---
The MIT License (MIT)

Copyright (c) 2013 Tim Caswell

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


jsdiff
---
Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


spck-module
---
The MIT License (MIT)
=====================

Copyright ¬© `2018` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the ‚ÄúSoftware‚Äù), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED ‚ÄúAS IS‚Äù, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


spck-ui, indent.js
---
The MIT License (MIT)
=====================

Copyright ¬© `2017` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the ‚ÄúSoftware‚Äù), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED ‚ÄúAS IS‚Äù, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


uikit
---
The MIT License (MIT)

Copyright (c) YOOtheme GmbH

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


zingtouch
---
The MIT License (MIT)

Copyright (c) 2016-2017 ZingChart

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


minimatch
---
The ISC License

Copyright (c) Isaac Z. Schlueter and Contributors

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.


jaro-winkler
---
The MIT License (MIT)

Copyright (c) 2015 Jordan Thomas

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


typescript
---

*****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************

----------------- TypeScript ThirdPartyNotices -------------------------------------------------------

The TypeScript software is based on or incorporates material and code from the projects listed below
(collectively "Third Party Code"). Microsoft is not the original author of the
Third Party Code. The original copyright notice and the license, under which
Microsoft received such Third Party Code, are set forth below. Such license and
notices are provided for informational purposes only. Microsoft licenses the Third
Party Code to you under the terms of the Apache 2.0 License.
All Third Party Code licensed by Microsoft under the Apache License, Version 2.0 (the "License"); you
may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR
CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions and
limitations under the License.
---------------------------------------------
Third Party Code Components
--------------------------------------------

------------------- DefinitelyTyped --------------------
This file is based on or incorporates material from the projects listed below (collectively "Third Party Code"). Microsoft is not the original author of the Third Party Code. The original copyright notice and the license, under which Microsoft received such Third Party Code, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft, not the third party, licenses the Third Party Code to you under the terms set forth in the EULA for the Microsoft Product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise.
DefinitelyTyped
This project is licensed under the MIT license.
Copyrights are respective of each contributor listed at the beginning of each definition file.
Provided for Informational Purposes Only

MIT License
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--------------------------------------------------------------------------------------

------------------- Unicode --------------------
UNICODE, INC. LICENSE AGREEMENT - DATA FILES AND SOFTWARE

Unicode Data Files include all data files under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

Unicode Data Files do not include PDF online code charts under the
directory http://www.unicode.org/Public/.

Software includes any source code published in the Unicode Standard
or under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

NOTICE TO USER: Carefully read the following legal agreement.
BY DOWNLOADING, INSTALLING, COPYING OR OTHERWISE USING UNICODE INC.'S
DATA FILES ("DATA FILES"), AND/OR SOFTWARE ("SOFTWARE"),
YOU UNEQUIVOCALLY ACCEPT, AND AGREE TO BE BOUND BY, ALL OF THE
TERMS AND CONDITIONS OF THIS AGREEMENT.
IF YOU DO NOT AGREE, DO NOT DOWNLOAD, INSTALL, COPY, DISTRIBUTE OR USE
THE DATA FILES OR SOFTWARE.

COPYRIGHT AND PERMISSION NOTICE

Copyright (c) 1991-2017 Unicode, Inc. All rights reserved.
Distributed under the Terms of Use in http://www.unicode.org/copyright.html.

Permission is hereby granted, free of charge, to any person obtaining
a copy of the Unicode data files and any associated documentation
(the "Data Files") or Unicode software and any associated documentation
(the "Software") to deal in the Data Files or Software
without restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, and/or sell copies of
the Data Files or Software, and to permit persons to whom the Data Files
or Software are furnished to do so, provided that either
(a) this copyright and permission notice appear with all copies
of the Data Files or Software, or
(b) this copyright and permission notice appear in associated
Documentation.

THE DATA FILES AND SOFTWARE ARE PROVIDED "AS IS", WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT OF THIRD PARTY RIGHTS.
IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS
NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT OR CONSEQUENTIAL
DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THE DATA FILES OR SOFTWARE.

Except as contained in this notice, the name of a copyright holder
shall not be used in advertising or otherwise to promote the sale,
use or other dealings in these Data Files or Software without prior
written authorization of the copyright holder.
--------------------------------------------------------------------------------------

------------- End of ThirdPartyNotices ---------------------------------------------------


vscode-css-languageservice, vscode-nls
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


vscode-html-languageservice
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

THIRD-PARTY SOFTWARE NOTICES AND INFORMATION

vscode-html-languageservice incorporates third party material from the projects listed below. The original copyright
notice and the license under which Microsoft received such third party material are set forth below. Microsoft
reserves all other rights not expressly granted, whether by implication, estoppel or otherwise.

1. JS Beautifier (https://github.com/beautify-web/js-beautify)

The MIT License (MIT)

Copyright (c) 2007-2017 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

2.	HTML 5.1 W3C Working Draft version 08 October 2015 (http://www.w3.org/TR/2015/WD-html51-20151008/)

%% HTML 5.1 W3C Working Draft NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright ¬© 2015 W3C¬Æ (MIT, ERCIM, Keio, Beihang). This software or document includes material copied
from or derived from HTML 5.1 W3C Working Draft (http://www.w3.org/TR/2015/WD-html51-20151008/.)

THIS DOCUMENT IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT
NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF
THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY
PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE
DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to this document or its contents
without specific, written prior permission. Title to copyright in this document will at all times remain with copyright holders.
=========================================
END OF HTML 5.1 W3C Working Draft NOTICES AND INFORMATION

3. Ionic documentation version 1.2.4 (https://github.com/driftyco/ionic-site)

%% Ionic documentation NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright Drifty Co. http://drifty.com/.

Apache License

Version 2.0, January 2004

http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

"License" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.

"Licensor" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.

"Legal Entity" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, "control" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.

"You" (or "Your") shall mean an individual or Legal Entity exercising permissions granted by this License.

"Source" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.

"Object" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.

"Work" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).

"Derivative Works" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.

"Contribution" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, "submitted" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as "Not a Contribution."

"Contributor" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:

You must give any other recipients of the Work or Derivative Works a copy of this License; and

You must cause any modified files to carry prominent notices stating that You changed the files; and

You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and

If the Work includes a "NOTICE" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License. You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS
=========================================
END OF Ionic documentation NOTICES AND INFORMATION


vscode-languageserver-types, vscode-uri
---
Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/

function PromisePool(e,o,i,r){var a=!1,c=0,s=[],u=e.map(function(e){return{failures:0,entry:e}});return new Promise(function(e,t){for(var n=0;n<i&&l(e,t);n++);});function l(t,n){if(u.length){var i=u.pop();return c++,o(i.entry).then(function(e){s.push(e),c--,a||l(t,n)},function(e){i.failures<r?(i.failures++,u.push(i),c--,a||l(t,n)):(a=!0,n(e))}),!0}return!(0===c&&!a)||(t(s),!1)}}Dexie.debug=!1,m.debug=!1,window.$consoleEnabled=!1,ace.config.set("basePath","/ace"),define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){"use strict";var o=e("../lib/dom"),i=e("../lib/lang"),a=e("../lib/event"),r=e("../keyboard/hash_handler").HashHandler,c=e("../lib/keys"),s='<div class="ace_search right">    <button action="toggleReplace" class="ace_search_toggle collapse" title="Toggle Replace"></button>    <div class="ace_search_form uk-flex uk-flex-middle">        <div class="x-search-field x-input uk-flex-item-1">            <input placeholder="Find" spellcheck="false" style="padding-right:96px">            <div class="search-options uk-flex uk-flex-middle">                <span class="ace_search_counter"></span>                <button action="toggleRegexpMode" class="ace_icon x-menu-toggle regex" title="RegExp Search"></button>                <button action="toggleCaseSensitive" class="ace_icon x-menu-toggle case-sensitive" title="Case-Sensitive Search"></button>                <button action="toggleWholeWords" class="ace_icon x-menu-toggle whole-word" title="Whole Word Search"></button>            </div>        </div>        <div class="uk-flex" style="width:90px">            <span action="findPrev" class="ace_icon prev" title="Previous (Ctrl-Shift-G)"></span>            <span action="findNext" class="ace_icon next" title="Next (Ctrl-G)"></span>            <span action="findAll" class="ace_icon find-all" title="All (Alt-Enter)"></span>            <span action="hide" class="ace_searchbtn_close" title="Close (Esc)"></span>        </div>    </div>    <div class="ace_replace_form uk-flex uk-flex-middle">        <div class="x-search-field x-input uk-flex-item-1">            <input placeholder="Replace" spellcheck="false">        </div>        <div class="uk-flex" style="width:90px">            <div action="replaceAndFindNext" class="ace_icon replace" title="Replace"></div>            <div action="replaceAll" class="ace_icon replace-all" title="Replace All"></div>        </div>    </div></div>'.replace(/> +/g,">"),u=function(e,t,n){var i=o.createElement("div");i.innerHTML=s,this.element=i.firstChild,this.checkedClass="uk-active",this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".x-search-field input"),this.replaceInput=this.replaceBox.querySelector(".x-search-field input"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var r=this;a.addListener(e,"mousedown",function(e){setTimeout(function(){r.activeInput.focus()},0),a.stopPropagation(e)}),a.addListener(e,"click",function(e){var t=(e.target||e.srcElement).getAttribute("action");t&&r[t]?r[t]():r.$searchBarKb.commands[t]&&r.$searchBarKb.commands[t].exec(r),a.stopPropagation(e)}),a.addCommandKeyListener(e,function(e,t,n){var i=c.keyCodeToString(n),o=r.$searchBarKb.findKeyCommand(t,i);o&&o.exec&&(o.exec(r),a.stopEvent(e))}),this.$onChange=i.delayedCall(function(){r.find(!1,!1)}),a.addListener(this.searchInput,"input",function(){r.$onChange.schedule(20)}),a.addListener(this.searchInput,"focus",function(){r.activeInput=r.searchInput,r.searchInput.value&&r.highlight()}),a.addListener(this.replaceInput,"focus",function(){r.activeInput=r.replaceInput,r.searchInput.value&&r.highlight()})},this.$closeSearchBarKb=new r([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new r,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-R|Ctrl-H|Command-Option-F":function(e){e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){(this.searchRange=e)?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){o.setCssClass(this.replaceOption,this.checkedClass,this.searchRange),o.setCssClass(this.replaceOption,this.checkedClass,this.replaceOption.checked),o.setCssClass(this.regExpOption,this.checkedClass,this.regExpOption.checked),o.setCssClass(this.wholeWordOption,this.checkedClass,this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,this.checkedClass,this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var i=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var o=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),r=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(r-=e.session.doc.positionToIndex(this.searchRange.start));for(var a,c=t.lastIndex=0;(a=t.exec(o))&&(n++,(c=a.index)<=r&&i++,!(999<n))&&(a[0]||(t.lastIndex=c+=1,!(c>=o.length))););}this.searchCounter.textContent=i+"/"+(999<n?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),t?(this.replaceInput.focus(),this.replaceInput.select()):(this.searchInput.focus(),this.searchInput.select()),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(u.prototype),t.SearchBox=u,t.Search=function(e,t){(e.searchBox||new u(e)).show(e.session.getTextRange(),t)}}),window.require(["ace/ext/searchbox"],function(){}),function(e){"use strict";function t(e,t,n){var i,o,r=0,a=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({caseSensitive:!0},n);if(0===e.length||0===t.length)return 0;if(a.caseSensitive||(e=e.toUpperCase(),t=t.toUpperCase()),e===t)return 1;var c=Math.floor(Math.max(e.length,t.length)/2)-1,s=new Array(e.length),u=new Array(t.length);for(i=0;i<e.length;i++){var l=c<=i?i-c:0,h=i+c<=t.length-1?i+c:t.length-1;for(o=l;o<=h;o++)if(!0!==s[i]&&!0!==u[o]&&e[i]===t[o]){++r,s[i]=u[o]=!0;break}}if(0===r)return 0;var f=0,d=0;for(i=0;i<e.length;i++)if(!0===s[i]){for(o=f;o<t.length;o++)if(!0===u[o]){f=o+1;break}e[i]!==t[o]&&++d}var p=(r/e.length+r/t.length+(r-d/2)/r)/3,m=0;if(.7<p){for(;e[m]===t[m]&&m<4;)++m;p+=.1*m*(1-p)}return p}"function"==typeof define&&define.amd?define([],function(){return t}):"object"==typeof exports?module.exports=t:e.distance=t}(window.jaroWinkler={}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).minimatch=e()}}(function(){return function r(a,c,s){function u(n,e){if(!c[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=c[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return u(t||e)},o,o.exports,r,a,c,s)}return c[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){(t.exports=a).Minimatch=o;var u={sep:"/"},B=a.GLOBSTAR=o.GLOBSTAR={},i=e("brace-expansion"),D="[^/]",M=D+"*?",O="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var l=/\/+/;function r(t,n){t=t||{},n=n||{};var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),Object.keys(t).forEach(function(e){i[e]=t[e]}),i}function a(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new o(t,n).match(e))}function o(e,t){if(!(this instanceof o))return new o(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==u.sep&&(e=e.split(u.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function c(e,t){if(t||(t=this instanceof o?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new Error("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}a.filter=function(i,o){return o=o||{},function(e,t,n){return a(e,i,o)}},a.defaults=function(i){if(!i||!Object.keys(i).length)return a;var o=a,e=function(e,t,n){return o.minimatch(e,t,r(i,n))};return e.Minimatch=function(e,t){return new o.Minimatch(e,r(i,t))},e},o.defaults=function(e){return e&&Object.keys(e).length?a.defaults(e).Minimatch:o},o.prototype.debug=function(){},o.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(l)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},o.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,i=0;if(n.nonegate)return;for(var o=0,r=e.length;o<r&&"!"===e.charAt(o);o++)t=!t,i++;i&&(this.pattern=e.substr(i));this.negate=t},a.braceExpand=function(e,t){return c(e,t)},o.prototype.braceExpand=c,o.prototype.parse=function(e,t){var n=this.options;if(!n.noglobstar&&"**"===e)return B;if(""===e)return"";var i,o,r="",a=!!n.nocase,c=!1,s=[],u=[],l=!1,h=-1,f=-1,d="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function m(){if(o){switch(o){case"*":r+=M,a=!0;break;case"?":r+=D,a=!0;break;default:r+="\\"+o}p.debug("clearStateChar %j %j",o,r),o=!1}}for(var v,g=0,k=e.length;g<k&&(v=e.charAt(g));g++)if(this.debug("%s\t%s %s %j",e,g,r,v),c&&O[v])r+="\\"+v,c=!1;else switch(v){case"/":return!1;case"\\":m(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,g,r,v),l){this.debug("  in class"),"!"===v&&g===f+1&&(v="^"),r+=v;continue}p.debug("call clearStateChar %j",o),m(),o=v,n.noext&&m();continue;case"(":if(l){r+="(";continue}if(!o){r+="\\(";continue}i=o,s.push({type:i,start:g-1,reStart:r.length}),r+="!"===o?"(?:(?!(?:":"(?:",this.debug("plType %j %j",o,r),o=!1;continue;case")":if(l||!s.length){r+="\\)";continue}m(),a=!0,r+=")";var b=s.pop();switch(i=b.type){case"!":u.push(b),r+=")[^/]*?)",b.reEnd=r.length;break;case"?":case"+":case"*":r+=i}continue;case"|":if(l||!s.length||c){r+="\\|",c=!1;continue}m(),r+="|";continue;case"[":if(m(),l){r+="\\"+v;continue}l=!0,f=g,h=r.length,r+=v;continue;case"]":if(g===f+1||!l){r+="\\"+v,c=!1;continue}if(l){var w=e.substring(f+1,g);try{RegExp("["+w+"]")}catch(e){var y=this.parse(w,z);r=r.substr(0,h)+"\\["+y[0]+"\\]",a=a||y[1],l=!1;continue}}l=!(a=!0),r+=v;continue;default:m(),c?c=!1:!O[v]||"^"===v&&l||(r+="\\"),r+=v}l&&(w=e.substr(f+1),y=this.parse(w,z),r=r.substr(0,h)+"\\["+y[0],a=a||y[1]);for(b=s.pop();b;b=s.pop()){var x=r.slice(b.reStart+3);x=x.replace(/((?:\\{2})*)(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",x,x);var _="*"===b.type?M:"?"===b.type?D:"\\"+b.type;a=!0,r=r.slice(0,b.reStart)+_+"\\("+x}m(),c&&(r+="\\\\");var C=!1;switch(r.charAt(0)){case".":case"[":case"(":C=!0}for(var S=u.length-1;-1<S;S--){var F=u[S],I=r.slice(0,F.reStart),P=r.slice(F.reStart,F.reEnd-8),T=r.slice(F.reEnd-8,F.reEnd),j=r.slice(F.reEnd);T+=j;var E=I.split("(").length-1,A=j;for(g=0;g<E;g++)A=A.replace(/\)[+*?]?/,"");var U="";""===(j=A)&&t!==z&&(U="$");var R=I+P+j+U+T;r=R}""!==r&&a&&(r="(?=.)"+r);C&&(r=d+r);if(t===z)return[r,a];if(!a)return e.replace(/\\(.)/g,"$1");var $=n.nocase?"i":"",L=new RegExp("^"+r+"$",$);return L._glob=e,L._src=r,L};var z={};a.makeRe=function(e,t){return new o(e,t||{}).makeRe()},o.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?M:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===B?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch(e){this.regexp=!1}return this.regexp},a.match=function(e,t,n){var i=new o(t,n=n||{});return e=e.filter(function(e){return i.match(e)}),i.options.nonull&&!e.length&&e.push(t),e},o.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==u.sep&&(e=e.split(u.sep).join("/"));e=e.split(l),this.debug(this.pattern,"split",e);var i,o,r=this.set;for(this.debug(this.pattern,"set",r),o=e.length-1;0<=o&&!(i=e[o]);o--);for(o=0;o<r.length;o++){var a=r[o],c=e;n.matchBase&&1===a.length&&(c=[i]);var s=this.matchOne(c,a,t);if(s)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},o.prototype.matchOne=function(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,r=0,a=e.length,c=t.length;o<a&&r<c;o++,r++){this.debug("matchOne loop");var s,u=t[r],l=e[o];if(this.debug(t,u,l),!1===u)return!1;if(u===B){this.debug("GLOBSTAR",[t,u,l]);var h=o,f=r+1;if(f===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!i.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var d=e[h];if(this.debug("\nglobstar while",e,h,t,f,d),this.matchOne(e.slice(h),t.slice(f),n))return this.debug("globstar found match!",h,a,d),!0;if("."===d||".."===d||!i.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}if("string"==typeof u?(s=i.nocase?l.toLowerCase()===u.toLowerCase():l===u,this.debug("string match",u,l,s)):(s=l.match(u),this.debug("pattern match",u,l,s)),!s)return!1}if(o===a&&r===c)return!0;if(o===a)return n;if(r===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},{"brace-expansion":2}],2:[function(e,t,n){var S=e("concat-map"),F=e("balanced-match");t.exports=function(e){return e?function t(e){var n=[],i=F("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var o,r=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),c=r||a,s=/^(.*,)+(.+)?$/.test(i.body);if(!c&&!s)return i.post.match(/,.*}/)?(e=i.pre+"{"+i.body+I+i.post,t(e)):[e];if(c)o=i.body.split(/\.\./);else if(1===(o=function e(t){if(!t)return[""];var n=[],i=F("{","}",t);if(!i)return t.split(",");var o=i.pre,r=i.body,a=i.post,c=o.split(",");c[c.length-1]+="{"+r+"}";var s=e(a);return a.length&&(c[c.length-1]+=s.shift(),c.push.apply(c,s)),n.push.apply(n,c),n}(i.body)).length&&1===(o=t(o[0]).map(T)).length){var u=i.post.length?t(i.post):[""];return u.map(function(e){return i.pre+o[0]+e})}var l,h=i.pre,u=i.post.length?t(i.post):[""];if(c){var f=P(o[0]),d=P(o[1]),p=Math.max(o[0].length,o[1].length),m=3==o.length?Math.abs(P(o[2])):1,v=E,g=d<f;g&&(m*=-1,v=A);var k=o.some(j);l=[];for(var b=f;v(b,d);b+=m){var w;if(a)"\\"===(w=String.fromCharCode(b))&&(w="");else if(w=String(b),k){var y=p-w.length;if(0<y){var x=new Array(y+1).join("0");w=b<0?"-"+x+w.slice(1):x+w}}l.push(w)}}else l=S(o,function(e){return t(e)});for(var _=0;_<l.length;_++)for(var C=0;C<u.length;C++)n.push([h,l[_],u[C]].join(""));return n}((t=e,t.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(I).split("\\,").join(r).split("\\.").join(a))).filter(s).map(c):[];var t};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",I="\0CLOSE"+Math.random()+"\0",r="\0COMMA"+Math.random()+"\0",a="\0PERIOD"+Math.random()+"\0";function P(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function c(e){return e.split(i).join("\\").split(o).join("{").split(I).join("}").split(r).join(",").split(a).join(".")}function s(e){return e}function T(e){return"{"+e+"}"}function j(e){return/^-?0\d/.test(e)}function E(e,t){return e<=t}function A(e,t){return t<=e}},{"balanced-match":3,"concat-map":4}],3:[function(e,t,n){t.exports=function e(t,n,i){var o=0;var r={};var a=!1;for(var c=0;c<i.length;c++)if(t==i.substr(c,t.length))"start"in r||(r.start=c),o++;else if(n==i.substr(c,n.length)&&"start"in r&&(a=!0,!--o))return r.end=c,r.pre=i.substr(0,r.start),r.body=1<r.end-r.start?i.substring(r.start+t.length,r.end):"",r.post=i.slice(r.end+n.length),r;if(o&&a){var s=r.start+t.length;return(r=e(t,n,i.substr(s)))&&(r.start+=s,r.end+=s,r.pre=i.slice(0,s)+r.pre),r}}},{}],4:[function(e,t,n){t.exports=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=t(e[i],i);Array.isArray(o)?n.push.apply(n,o):n.push(o)}return n}},{}]},{},[1])(1)}),m.module("assets").__new__(function(e){e.svgIcons={github:'<svg class="svg-icon" style="width:100%" viewBox="-2 0 20 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>'}}),m.module("dataUrl").require("path").require("mime").require("encode").__init__(function(e,t){e.path=t.path,e.mime=t.mime,e.encode=t.encode}).def({e:function(e,t){return"data:"+e+";base64,"+this.encode.t(t)},n:function(e,t){return"data:"+e+";base64,"+this.encode.t(JSON.stringify(t))},i:function(e,t){return"data:"+(this.mime.MimeTypes[this.path.o(t).slice(1)]||"text/plain")+";base64,"+e}}),m.module("dom").def({r:function(e,t,n,i){return e.slice(0,t)+i+e.slice(n)},a:function(e){e=e||"";var t=this.c(e,"script"),n=this.s(t,"src"),i=this.c(e,"link");return{scripts:n,links:this.s(i,"href")}},u:function(e,t,n,i){var o,r,a=e.toLowerCase(),c="<"+t+" ",s="<"+t+">",u="link"==t?"":"</"+t+">",l=a.indexOf(c,0);if(-1==l&&(l=a.indexOf(s,0)),-1!=l&&-1!=l){var h=this.l(a,l+c.length-1);if(-1!=h){var f=a.substring(l+c.length,h);if(!n||-1!=f.indexOf(n)){var d=a.indexOf(u,h+1);if(-1!=d)return i?(o=h+1,r=d):(o=l,r=d+u.length),{start:o,end:r,html:e.slice(o,r)}}}}},l:function(e,t){for(var n,i=null,o=t;o<e.length;o++)if(n=e.charAt(o),i)i==n&&(i=null);else if("'"==n||'"'==n)i=n;else if(">"==n)return o;return-1},f:function(e,t,n,i){for(var o,r,a={text:e,removedCount:0},c="",s=0,u=new RegExp(n+"s*=s*[\"'](.+?)[\"']");s<1e3&&(r=this.u(e,t,null));)(o=r.html.match(u))&&l(o[1])?(c+=e.slice(0,r.start).replace(/[\s]+$/,""),a.removedCount++):c+=e.slice(0,r.end),e=e.slice(r.end),s++;return c+=e,0<a.removedCount&&(a.text=c),a;function l(e){return m.isFunction(i)?i(e):-1!==i.indexOf(e)}},c:function(e,t){for(var n,i=0,o=[];i<1e3&&(n=this.u(e,t,null));)o.push(n),e=e.slice(n.end),i++;return o},d:function(e){return e.reduce(function(e,t){return e+t.end},0)},s:function(e,t){var n=new RegExp(t+"s*=s*[\"'](.+?)[\"']","i");return e.map(function(e){var t=e.html.match(n);if(t)return t[1]}).filter(function(e){return!!e})},p:function(e,t,n,i,o,r){r=r||"";var a={text:e,addedCount:0},c=this.u(e,t,null,!0);if(!c)return a;var s=e.slice(c.start,c.end),u=this.c(s,n),l=this.d(u),h=this.s(u,i);if(o=o.filter(function(e){return-1===h.indexOf(e)}),a.addedCount=o.length,0<a.addedCount){var f,d=o.reduce(function(e,t){return e+"\n"+r+UI.interpolate("link"==n?'<{{tag}} {{attr}}="{{url}}">':'<{{tag}} {{attr}}="{{url}}"></{{tag}}>',{tag:n,url:t,attr:i})},""),p=s.match(/[\s]+$/);p=p?p[0].length:0,f=l?c.start+l:c.end-p,a.text=this.r(e,f,f,d)}return a}}),m.module("encode").require("path").__init__(function(e,t){e.path=t.path,e.base64Extensions=[".jpe",".jpg",".jpeg",".png",".gif",".bmp",".woff",".woff2",".eot",".otf",".ttf"],e.base64RegEx=/^[a-z0-9!\$&',\(\)\*\+;=\-\._~:@\/\?%\s]*$/i}).def({m:function(e){return unescape(encodeURIComponent(e))},v:function(e){return decodeURIComponent(escape(e))},g:function(e){return base64.decode(e)},t:function(e){return base64.encode(e)},k:function(e){if(e.match(this.base64RegEx))try{return this.g(e),!0}catch(e){return!1}return!1},b:function(e){return-1!==this.base64Extensions.indexOf(this.path.o(e))},_:function(e){return this.k(e)?this.g(e):null}}),m.module("git").require("hash").require("model").require("path").require("encode").require("date").__init__(function(e,t){e.hash=t.hash,e.model=t.model,e.path=t.path,e.encode=t.encode,e.date=t.date,e.git=window.git,e.maxSize=16777216,e.GitErrors={UNKNOWN:0,FAST_FORWARD_REQUIRED:1,RATE_LIMIT_EXCEEDED:2}}).def({C:function(e,t,n){var i={};return this.git.github(i,e,n||this.S(),t),this.git.formats(i),i},S:function(){return localStorage.gitToken||""},F:function(){return localStorage.gitAuthorName||""},I:function(){return localStorage.gitAuthorEmail||""},P:function(){var e=new Date;return{offset:e.getTimezoneOffset(),seconds:e.getTime()/1e3}},T:function(n,e){m.check(n,String,"projectPath",!0),m.check(e,Array,"blobs",!0);var i=this;return Promise.all(e.map(function(t){return i.model.j(function(){var e=n+"/"+t.fullPath;i.model.A(e,{remoteHash:t.local.hash,remotePath:e}),i.model.U(t.local.fid,function(e){e.remoteText=e.text,e.remoteEncoding=e.encoding})})}))},R:function(e,t,n,a){m.check(a,{projectPath:String},"sharedObject",!0),n("Mount Repo: Fetching blobs...",a.progress+=10);var c=this,i=t.filter(function(e){return e.size<c.maxSize}),o=i.length;return PromisePool(i,function(r){return c.$(e,r.hash).then(function(e){return a.cancelled?Promise.reject("Task cancelled."):(n("Mount Repo: Fetching blobs...",a.progress+=60/o),e)}).then(function(n){var i=a.projectPath+"/"+r.fullPath,o=n.hash;if(c.encode.b(i))n={text:n.content,encoding:n.encoding,remoteText:n.content,remoteEncoding:n.encoding};else{var e=c.encode._(n.content);null===e&&(n.remoteDecodingFailed=n.encoding),n={text:e=e||"",encoding:"utf8",remoteText:e,remoteEncoding:"utf8"}}return c.model.j(function(){var e=r.local;if(e)c.model.A(i,{hash:o,remoteHash:o,remotePath:i,conflict:r.mergeRequired}),r.mergeRequired?c.model.U(e.fid,{remoteText:n.text,remoteEncoding:n.encoding}):(n.fid=e.fid,c.model.L(n));else{var t={path:i,remotePath:i,hash:o,remoteHash:o};c.model.B(t),n.fid=t.fid,c.model.L(n)}})})},6,3)},D:function(n,i,o,r){var a=this;return o("Push Changes: Checking last commit...",r.progress),a.model.M(i).then(function(e){if(!e)return Promise.reject("Project does not exist!");var t=e.pushData;return t?a.O(n,t.ref).then(function(e){if(e.object.sha!==t.parentCommit)return Promise.reject({message:"Push rejected. Fast-forward required.",reason:a.GitErrors.FAST_FORWARD_REQUIRED})}).then(function(){if(!t.commit&&t.tree)return o("Push Changes: Saving commit...",r.progress+=5),a.z(n,{tree:t.tree.hash,author:t.author,parent:t.parentCommit,message:t.message}).then(function(e){return t.commit=e,a.model.N(i,{pushData:t})})}).then(function(){return t.commit?(o("Push Changes: Updating head...",r.progress+=5),a.G(n,t.ref,t.commit)):Promise.reject("No commit found.")}).then(function(){return a.model.N(i,{pushData:void 0})}):void 0})},W:function(n,i,t,c,s){m.check(i,{commit:String,tree:String},"project",!0);var u=this;return u.O(n,t).then(function(e){if(e.object.sha!==i.commit)return Promise.reject({message:"Push rejected.",reason:u.GitErrors.FAST_FORWARD_REQUIRED});if(s.cancelled)return Promise.reject("Task cancelled.");c("Push Changes: Fetching tree...",s.progress+=5);var t=u.path.H({pid:i.pid,ref:e.ref});return u.hash.K(t).then(function(e){return s.hashes=e,u.V(n,"",i.tree,e,s)})}).then(function(e){if(s.cancelled)return Promise.reject("Task cancelled.");c("Push Changes: Calculating changes...",s.progress+=10);var t=s.hashes,o=u.git.modes,r=[];e.blobs.forEach(function(e){t[e.fullPath]||r.push({path:e.fullPath})});var a=u.hash.StatusTypes;return Object.keys(t).forEach(function(n){var i=t[n];i.mode!==o.blob&&localStorage.mode!==o.exec||(i.status===a.MOVED?r.push({path:n,mode:i.mode,hash:i.hash}):i.status&a.CHANGED&&r.push(u.model.q(i.fid).then(function(e){var t=e&&e.text?e.text:"";return{path:n,mode:i.mode,content:t}})))}),Promise.all(r)}).then(function(e){return c("Push Changes: Creating tree...",s.progress+=5),e.base=i.tree,u.Y(n,e)}).then(function(e){return s.progress+=30,u.model.N(i.pid,{pushData:{ref:t,tree:e,parentCommit:i.commit,message:s.message,author:s.author}})}).then(function(){return u.D(n,i.pid,c,s)}).then(function(){return u.J(n,i,t,function(e,t){c("Push Changes: Updating local repository...",s.progress+30*t/100)},{})}).then(function(){c("Push Changes: Completed.",s.progress=100)})},J:function(t,e,n,i,o){var r=this;return r.Q(t,e,n,i,o).then(function(e){return o.cancelled?Promise.reject("Task cancelled."):(i("Mount Repo: Creating folders...",o.progress+=5),Promise.all(e.trees.map(function(e){return r.model.X({path:o.projectPath+"/"+e.fullPath})})).then(function(){return Promise.all([r.T(o.projectPath,e.matchingBlobs),r.R(t,e.blobs,i,o)])},function(){r.prompt.open("Problem encountered creating folders.")}))}).then(function(){return r.model.N(e.pid,{ref:o.ref,commit:o.commit,tree:o.tree})}).then(function(){i("Mount Repo: Completed.",o.progress=100)})},Q:function(n,t,e,i,o){var r=this;return i("Mount Repo: Fetching refs...",o.progress+=5),r.O(n,e).then(function(e){return e.object.sha===t.commit?Promise.reject({message:"No changes found."}):o.cancelled?Promise.reject({message:"Task cancelled."}):(o.commit=e.object.sha,o.ref=e.ref,o.projectPath=r.path.H({pid:t.pid,ref:e.ref}),i("Mount Repo: Fetching commit...",o.progress+=5),r.Z(n,e.object.sha))}).then(function(t){return o.cancelled?Promise.reject({message:"Task cancelled."}):(o.tree=t.tree,i("Mount Repo: Fetching tree...",o.progress+=10),r.hash.K(o.projectPath).then(function(e){return r.V(n,"",t.tree,e,o)}))})},V:function(c,s,e,u,l,h){var f=this,d=f.git.modes;return h=h||{blobs:[],trees:[],matchingBlobs:[]},u[s]===e?Promise.resolve(h):f.ee(c,e).then(function(e){if(l.cancelled)return Promise.reject("Task cancelled.");var t,n=[];for(var i in e){(t=e[i]).fullPath=s?s+"/"+i:i;var o=u[t.fullPath],r=!o||o.hash!==t.hash&&o.remoteHash!==t.hash,a=o&&o.hash===t.hash&&o.remoteHash!==t.hash;if(r)switch(t.mode){case d.tree:h.trees.push(t),n.push(f.V(c,t.fullPath,t.hash,u,l,h));break;case d.blob:case d.exec:t.mergeRequired=!!o&&t.hash!==o.remoteHash,t.local=o,h.blobs.push(t);break;default:return Promise.reject('Unknown mode "'+t.mode+'" found for file "'+i+'".')}else if(a)switch(t.mode){case d.blob:case d.exec:t.local=o,h.matchingBlobs.push(t)}}return Promise.all(n)}).then(function(){return h})},te:function(e,t){t=t||"heads/";var o=this;return new Promise(function(n,i){e.listRefs(t,function(e,t){e?i(e):t?n(t):o.ne(i)})})},O:function(e,n){return this.te(e).then(function(e){var t=(e=e||[]).reduce(function(e,t){return e[t.ref]=t,e},{})[n||"refs/heads/master"]||e[0];return t||Promise.reject({name:NOT_FOUND_ERROR,type:"ref",message:"No refs found for repo."})})},ie:function(e,t){var o=this;return new Promise(function(n,i){e.readRef(t,function(e,t){e?i({name:NOT_FOUND_ERROR,type:"ref",message:e}):t?n(t):o.ne(i)})})},Z:function(e,t){var o=this;return new Promise(function(n,i){e.loadAs("commit",t,function(e,t){e?i({name:NOT_FOUND_ERROR,type:"commit",message:e}):t?n(t):o.ne(i)})})},ee:function(e,t){var o=this;return new Promise(function(n,i){e.loadAs("tree",t,function(e,t){e?i({name:NOT_FOUND_ERROR,type:"tree",message:e}):t?n(t):o.ne(i)})})},$:function(e,t){var o=this;return new Promise(function(n,i){e.loadAs("blob",t,function(e,t){e?i({name:NOT_FOUND_ERROR,type:"blob",message:e}):t?n(t):o.ne(i)})})},Y:function(e,t){var r=this;return new Promise(function(i,o){e.createTree(t,function(e,t,n){e?o(e):t?i({hash:t,data:n}):r.ne(o)})})},z:function(e,t){m.check(t,{tree:String,author:{name:String,email:String},parent:String,message:String},"commitObject",!0);var o=this;return new Promise(function(n,i){e.saveAs("commit",t,function(e,t){e?i(e):t?n(t):o.ne(i)})})},G:function(e,t,o){var r=this;return new Promise(function(n,i){e.updateRef(t,o,function(e,t){e?i(e):t?n(t):r.ne(i)})})},oe:function(e,t){var n=this;return axios.post("https://api.github.com/user/repos",{name:e,description:t||"Created by https://spck.io"}).then(function(e){return 201===e.status?e.data.html_url:n.ne()},function(e){return Promise.reject({reason:n.GitErrors.UNKNOWN,message:"Github is unreachable right now.",payload:e})})},ne:function(n){var i=this;return axios.get("https://api.github.com/rate_limit").then(function(e){var t;return t=200===e.status&&0===e.data.resources.core.remaining?{reason:i.GitErrors.RATE_LIMIT_EXCEEDED,message:"Rate limit has been exceeded for your IP. Resets in "+i.date.ae(1e3*e.data.resources.core.reset,!0)+"."}:{reason:i.GitErrors.UNKNOWN,message:"An unknown error has occurred with Github.",payload:e},n&&n(t),Promise.reject(t)},function(e){var t={reason:i.GitErrors.UNKNOWN,message:"Github is unreachable right now.",payload:e};return n&&n(t),Promise.reject(t)})}}),m.module("hash").require("model").require("path").__init__(function(e,t){e.model=t.model,e.path=t.path,e.git=window.git,e.sha1=e.git.sha1,e.StatusTypes={UNKNOWN:0,NEW:1,MOVED:2,CHANGED:4}}).def({ce:function(e,t){return this.sha1(this.git.objectCodec.frame({type:e,body:t}))},se:function(e,t){return this.ce("blob",t?this.git.bodec.fromBase64(e):this.git.bodec.fromUnicode(e))},ue:function(e){return this.ce("tree",e)},K:function(e){var c=this,s=c.git.modes;return Promise.all([c.model.le(e),c.model.he(e)]).then(function(e){var t,n,i={},o=c.fe(e[0],e[1]);o.unshift({name:"",mode:s.tree,depth:0});for(var r,a=o.length-1;0<=a;a--)(r=o[a]).mode===s.tree?(n=o.slice(a+1).filter(function(e){return-1!==e.name.indexOf(r.name)&&e.depth===r.depth+1})).length&&(t=n.reduce(function(e,t){return t.name&&t.hash&&(e[t.name]=t),e},{}),r.hash=c.ue(t),i[r.name]=r):i[r.name]=r;return i})},fe:function(e,t){var n=this,i=n.git.modes,o=n.path;return e.map(function(e){return{fid:e.fid,name:o.de(e.path),mode:i.blob,hash:e.hash,status:n.pe(e),depth:e.path.split("/").length-1}}).concat(t.map(function(e){return{name:o.de(e.path),mode:i.tree,depth:e.path.split("/").length-1}})).sort(n.git.objectCodec.treeSort)},me:function(e){var t=this;return t.K(e).then(function(e){return t.ue(e)})},pe:function(e){var t=this.StatusTypes,n=t.UNKNOWN;return e.remotePath?e.remotePath!==e.path&&(n|=t.MOVED):n|=t.NEW,e.hash!==e.remoteHash&&(n|=t.CHANGED),n}}),m.module("history").__new__(function(e){e.HistoryTracker=function(){this.reset()},e.HistoryTracker.prototype={reset:function(){this.current=null,this.undoStack=[],this.redoStack=[]},getLastRedo:function(){return this.redoStack.length?this.redoStack[this.redoStack.length-1]:null},getLastUndo:function(){return this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},truncate:function(e){this.undoStack=this.undoStack.slice(this.undoStack.length-e)},clearRedo:function(){this.redoStack.length=0},push:function(e){this.current&&this.pushUndo(this.current),this.current=e,this.clearRedo()},pushUndo:function(e){return this.undoStack.push(e)},popUndo:function(){return this.undoStack.pop()},pushRedo:function(e){return this.redoStack.push(e)},popRedo:function(){return this.redoStack.pop()},canUndo:function(){return 0<this.undoStack.length},canRedo:function(){return 0<this.redoStack.length},redo:function(e){var t=this.popRedo();return t&&(e?(this.current&&this.pushUndo(this.current),this.current=t):this.pushUndo(t)),t},undo:function(e){var t=this.popUndo();return t&&(e?(this.current&&this.pushRedo(this.current),this.current=t):this.pushRedo(t)),t}}}),function(e){var n=["Ctrl-p","Ctrl-s","Ctrl-f","Ctrl-g","Ctrl-r","Ctrl-Shift-R","Meta-r","Meta-Shift-R","Meta-q"];e.addEventListener("keydown",function(e){UI.polyfillKeyboardEvent(e);var t="";e.metaKey&&(t+="Meta-"),e.ctrlKey&&(t+="Ctrl-"),e.shiftKey&&(t+="Shift-"),e.altKey&&(t+="Alt-"),t+=e.key,-1!==n.indexOf(t)&&UI.preventEvent(e)})}(document),m.module("lang").require("path").__init__(function(e,t){var n={".js":"javascript",".ts":"typescript",".jsx":"jsx",".tsx":"tsx",".css":"css",".scss":"scss",".sass":"scss",".less":"less",".html":"html",".xhtml":"html",".htm":"html"};e.LanguageServerClient=function(e){this.pending={},this.messageId=0,this.editor=e,this.start()},e.LanguageServerClient.prototype={$postMessage:function(e,t,n){var i=this;if(n&&(e.id=++i.messageId,i.pending[i.messageId]=n),t){e.index=i.$getDocumentIndex(),e.position=i.$getCursorPosition();var o=i.editor.getCurrentFilePath();e.name=o,e.mode=i.$getModeFromName(o),i.worker.postMessage(e)}else e.mode||(e.mode=i.$getModeFromName(e.name)),i.worker.postMessage(e)},$getModeFromName:function(e){return n[t.path.o(e||"")]},$getCursorPosition:function(){var e=this.editor.getCursorPosition();return{line:e.row,character:e.column}},$getDocumentIndex:function(){var e=this.editor.getCursorPosition();return this.editor.getSession().getDocument().positionToIndex(e)},addFile:function(e,t,n){this.$postMessage({type:"add",name:e,text:t},!1,n)},editFile:function(e,t,n,i,o,r){this.$postMessage({type:"edit",name:e,version:t,minChar:i,limChar:o,text:n},!1,r)},updateFile:function(e,t,n){this.$postMessage({type:"update",name:e,text:t},!1,n)},removeFile:function(e,t){this.$postMessage({type:"remove",name:e},!1,t)},clearFiles:function(e){this.$postMessage({type:"clear",mode:"javascript"},!1,e),this.$postMessage({type:"clear",mode:"html"},!1,e),this.$postMessage({type:"clear",mode:"css"},!1,e)},getCompleter:function(){var r=this;return{getCompletions:function(e,t,n,i,o){r.getCompletions(function(e){e&&e.completions&&(e.completions.forEach(function(e){e.score=jaroWinkler.distance(i,e.label)}),o(null,e.completions))})}}},getCompletions:function(e){this.$postMessage({type:"completion"},!0,e)},getInfo:function(e){this.$postMessage({type:"info"},!0,e)},goToDefinition:function(t){var n=this.editor.getSession().getDocument();this.$postMessage({type:"def"},!0,function(e){e&&e.def&&(e.def.forEach(function(e){e.textSpan.startPosition=n.indexToPosition(e.textSpan.start)}),t(e))})},getSignature:function(e){this.$postMessage({type:"signature"},!0,e)},getRefs:function(e){this.$postMessage({type:"ref"},!0,e)},getRenameLocations:function(t){var n=this.editor.getSession().getDocument();this.$postMessage({types:["rename","renameInfo"]},!0,function(e){e&&e.rename&&(e.rename.forEach(function(e){var t=e.textSpan;t.startPosition=n.indexToPosition(t.start),t.endPosition=n.indexToPosition(t.start+t.length)}),t(e))})},getRenameInfo:function(e){this.$postMessage({type:"renameInfo"},!0,e)},start:function(){if(!this.worker){var n=this.pending;this.worker=new Worker("/workers/language.worker.js"),this.worker.onmessage=function(e){var t=e.data;"log"==t.type?$console.log(t.message):"debug"==t.type?$console.debug(t.message):"warn"==t.type?$console.warn(t.message):"error"==t.type?$console.error(t.message):t.id&&n[t.id]&&(n[t.id](t),delete n[t.id])},this.worker.onerror=function(e){for(var t in n)n[t](null,e);n={}}}this.stopped=!1},stop:function(){this.worker&&(this.worker.terminate(),this.worker=null,this.stopped=!0)}}}),m.module("mime").__new__(function(e){e.MimeTypes={"3g2":"video/3gpp2","3gp":"video/3gpp",avi:"video/x-msvideo",flv:"video/x-flv",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgm:"video/jpm",jpgv:"video/jpeg",jpm:"video/jpm",m1v:"video/mpeg",m2v:"video/mpeg",m4u:"video/vnd.mpegurl",m4v:"video/mp4",mj2:"video/mj2",mjp2:"video/mj2",mk3d:"video/x-matroska",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",mp4:"video/mp4",mp4v:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",ogv:"video/ogg",qt:"video/quicktime",smv:"video/x-smv",webm:"video/webm",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",aac:"audio/x-aac",adp:"audio/adpcm",au:"audio/basic",flac:"audio/x-flac",kar:"audio/midi",m2a:"audio/mpeg",m3a:"audio/mpeg",m3u:"audio/x-mpegurl",m3u8:"application/vnd.apple.mpegurl",m4a:"audio/mp4",mid:"audio/midi",midi:"audio/midi",mka:"audio/x-matroska",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4a:"audio/mp4",mpga:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",rmi:"audio/midi",s3m:"audio/s3m",snd:"audio/basic",spx:"audio/ogg",wav:"audio/x-wav",weba:"audio/webm",wma:"audio/x-ms-wma",xm:"audio/xm",bmp:"image/bmp",gif:"image/gif",ico:"image/x-icon",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",psd:"image/vnd.adobe.photoshop",svg:"image/svg+xml",svgz:"image/svg+xml",tga:"image/x-tga",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",css:"text/css",csv:"text/csv",htm:"text/html",html:"text/html",js:"text/javascript",sass:"text/x-sass",scss:"text/x-scss",styl:"text/x-styl",txt:"text/plain",yaml:"text/yaml",yml:"text/yaml",md:"text/markdown",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/x-gzip",hdf:"application/x-hdf",json:"application/json",jsonml:"application/jsonml+json",latex:"application/x-latex",mp4s:"application/mp4",ogx:"application/ogg",otf:"application/x-font-otf",pdf:"application/pdf",ps:"application/postscript",psf:"application/x-font-linux-psf",rar:"application/x-rar-compressed",snf:"application/x-font-snf",swa:"application/x-director",swf:"application/x-shockwave-flash",tar:"application/x-tar",tex:"application/x-tex",tgz:"application/x-gzip",ttc:"application/x-font-ttf",ttf:"application/x-font-ttf",unityweb:"application/vnd.unity",woff:"application/x-font-woff",woff2:"application/x-font-woff",xml:"application/xml",xsl:"application/xml",zip:"application/zip"}}),m.module("model").require("schema").require("date").__init__(function(e,t){e.ChangeTypes={CREATED:1,UPDATED:2,DELETED:3},e.date=t.date,e.db=t.schema.db,e.hashids=new Hashids("42"),e.microId=0}).def({ve:function(e,t,n){if(typeof e!=t)throw new Error("Expecting "+t+" for "+n+" got "+typeof e)},ge:function(){return window.performance},ke:function(){return window.crypto},be:function(){var t,n=this.date.we(),e=this.ge(),i=this.ke();return void 0!==e&&"function"==typeof e.now&&(n+=e.now()),t=i&&"function"==typeof i.getRandomValues?function(){return i.getRandomValues(new Uint32Array(1))[0]}:function(){return 36*Math.random()},"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){var e=(n+t())%36|0;return n=Math.floor(n/(Math.random()+1)),e.toString(36)})},ye:function(){var t,n=this;return n._cachedDatabaseId?Promise.resolve(n._cachedDatabaseId):n.xe("databaseId").then(function(e){if(!e)return t=n.be(),delete localStorage.token,n._e("databaseId",t);t=e}).then(function(){return n._cachedDatabaseId=t})},xe:function(e){return this.db.meta.where("key").equals(e).first().then(function(e){return e&&e.value?e.value:null})},_e:function(e,t){return this.ve(e,"string","key"),this.db.meta.put({key:e,value:t})},Ce:function(e){this.microId=(this.microId+1)%1e3;var t=1e3*(new Date).getTime()+this.microId;return e?t:this.hashids.encode(t)},Se:function(e,t){return e+(t=null==t?"/":t)},Fe:function(e){return this.ve(e,"object","schema"),this.ve(e.name,"string","schema.name"),e.pid=e.pid||this.Ce(),this.db.projects.add(e)},Ie:function(e){return this.ve(e,"object","schema"),this.ve(e.name,"string","schema.name"),this.ve(e.pid,"string","schema.pid"),this.db.projects.put(e)},Pe:function(e){return this.ve(e,"string","pid"),this.db.projects.delete(e)},N:function(e,t){return this.ve(e,"string","pid"),t.modifiedAt=this.date.we(),this.db.projects.update(e,t)},M:function(e){return this.ve(e,"string","pid"),this.db.projects.get(e)},Te:function(n){this.ve(n,"string","pid");var i=this;return i.le(n,"").then(function(e){var t=e;return i.je(function(){i.Ee(n),i.Ae(t.map(function(e){return e.fid})),i.Ue(n),i.Re(n),i.Pe(n)})})},$e:function(){return this.db.projects.toArray()},Le:function(){return this.db.projects.orderBy("name").keys()},Be:function(t){return this.ve(t,"string","repo"),this.db.projects.where("repo").equals(t).first().then(function(e){return e||Promise.reject("Project "+t+" not found.")})},B:function(e){return this.ve(e,"object","schema"),e.id=this.Ce(!0),e.fid=e.fid?e.fid:this.hashids.encode(e.id),this.db.files.add(e)},De:function(e){return this.ve(e,"string","path"),this.db.files.where("path").equals(e).delete()},Ee:function(e,t){return this.ve(e,"string","path"),this.db.files.where("path").startsWith(this.Se(e,t)).delete()},A:function(e,t){return this.ve(e,"string","path"),this.db.files.where("path").equals(e).modify(t)},Me:function(e,t,n){return this.ve(e,"string","path"),this.db.files.where("path").startsWith(this.Se(e,n)).modify(t)},Oe:function(e){return this.ve(e,"string","path"),this.db.files.where("path").equals(e).first()},ze:function(t){return this.ve(t,"string","path"),this.db.files.where("path").equals(t).first().then(function(e){return e||Promise.reject("File "+t+" not found.")})},Ne:function(t){return this.ve(t,"string","fid"),this.db.files.where("fid").equals(t).first().then(function(e){return e||Promise.reject("File fid "+t+" not found.")})},le:function(e,t){return this.ve(e,"string","path"),this.db.files.where("path").startsWith(this.Se(e,t)).toArray()},Ge:function(e){return this.ve(e,"object","schema"),e.id=this.Ce(),this.db.folders.add(e)},X:function(t){var n=this;return n.ve(t,"object","schema"),n.We(t.path).then(function(e){if(!e)return n.Ge(t)})},He:function(e){return this.ve(e,"string","path"),this.db.folders.where("path").equals(e).delete()},Ue:function(e,t){return this.ve(e,"string","path"),this.db.folders.where("path").startsWith(this.Se(e,t)).delete()},Ke:function(e,t){return this.ve(e,"string","path"),this.db.folders.where("path").equals(e).modify(t)},Ve:function(e,t,n){return this.ve(e,"string","path"),this.db.folders.where("path").startsWith(this.Se(e,n)).modify(t)},We:function(e){return this.ve(e,"string","path"),this.db.folders.where("path").equals(e).first()},qe:function(t){return this.ve(t,"string","path"),this.db.folders.where("path").equals(t).first().then(function(e){return e||Promise.reject("Folder "+t+" not found.")})},he:function(e,t){return this.ve(e,"string","path"),this.db.folders.where("path").startsWith(this.Se(e,t)).toArray()},Ye:function(e){return this.db.libraries.add(e)},Je:function(e){return this.db.libraries.delete(e)},Qe:function(t){return this.db.libraries.get(t).then(function(e){return e||Promise.reject("Library "+t+" not found.")})},Xe:function(e){return this.db.libraries.get(e)},Ze:function(){return this.db.libraries.clear()},et:function(e){return this.db.sessions.add(e)},Re:function(e){return this.db.sessions.delete(e)},tt:function(e){return this.db.sessions.get(e)},nt:function(e,t){return this.db.sessions.update(e,t)},it:function(){return this.db.sessions.clear()},ot:function(e){return this.db.data.add(e)},rt:function(e){return this.db.data.delete(e)},Ae:function(e){return this.db.data.bulkDelete(e)},at:function(e,t){return this.db.data.update(e,t)},L:function(e){return this.db.data.put(e)},q:function(e){return this.db.data.get(e)},U:function(t,n){var i=this;return i.ve(t,"string","fid"),i.db.data.get(t).then(function(e){return e=e||{fid:t},m.isFunction(n)?n(e):m.extend(e,n),i.db.data.put(e).then(function(){return e})})},ct:function(e){var t=this;if(t.testing||"RISKY_STUFF!"==e)return t.db.projects.clear().then(function(){return t.db.files.clear()}).then(function(){return t.db.folders.clear()}).then(function(){return t.db.libraries.clear()}).then(function(){return t.db.data.clear()}).then(function(){return t.db.sessions.clear()}).then(function(){return t.db.meta.clear()})},j:function(e){return this.db.transaction("rw",this.db.files,this.db.data,e)},st:function(e){return this.db.transaction("rw",this.db.files,this.db.folders,e)},je:function(e){return this.db.transaction("rw",this.db.files,this.db.folders,this.db.projects,this.db.sessions,this.db.data,e)},ut:function(n,i){var o=this;return o.ve(i.fid,"string","schema.fid"),o.q(i.fid).then(function(t){return o.j(function(){var e={path:n,hash:i.hash,type:i.type};return o.B(e).then(function(){if(t)return t.fid=e.fid,o.ot(t)})})})},lt:function(t,n){var e=this,i=e.ChangeTypes,o=function(e){e.forEach(function(e){if(e.type===t)switch(t){case i.CREATED:n(e.table,e.key,e.obj);break;case i.UPDATED:n(e.table,e.key,e.oldObj,e.mods);break;case i.DELETED:n(e.table,e.key,e.oldObj)}})};return e.db.on("changes",o),{unsubscribe:function(){e.db.on("changes").unsubscribe(o)}}}}),m.module("schema").__init__(function(e){e.db=new Dexie("ProjectStore"),e.db.version(1).stores({projects:"pid, name, hash, repo",files:"id, &path, &fid, type, hash",folders:"id, &path, hash",data:"fid",libraries:"url",sessions:"pid",meta:"key"})}),m.module("completion").require("model").require("path").__init__(function(e,t){e.model=t.model,e.path=t.path,e.client=axios.create()}).def({ht:function(i){var o=this;if(o.path.ft(i)){var r=o.path.dt(i),e=r.replace(/\.min\.js$/,".js");return o.model.Qe(i).catch(function(){return o.client.get(e).catch(function(){return o.client.get(r)}).then(function(e){var t=e&&e.data;if(t){var n={url:i,text:t};return o.model.Ye(n).then(function(){return n})}return Promise.reject("Empty file for url: "+r)})})}return Promise.reject("Invalid URL.")}}),m.module("payload").require("path").require("model").require("encode").__init__(function(e,t){e.model=t.model,e.path=t.path,e.encode=t.encode}).def({pt:function(e){var t={},n=this.path;return e.forEach(function(e){t[n.de(e.path)]=e}),t},mt:function(e){var t={};return e.forEach(function(e){t[e.hash]=e}),t},vt:function(e,t){var n=this.pt(t),i=this.gt(e,n,{});return this.kt(e,t,i)},bt:function(o){return Object.keys(o).sort(function(e,t){var n=o[e].length,i=o[t].length;return i<n?-1:n<i?1:0})},wt:function(e,t,n){for(var i,o,r,a=this.bt(e),c=[],s=0,u=[0],l={};a.length;)r=e[o=a.pop()],i=u[c.length]||2,l[o]=r,i+=o.length+r.length+4,s+=1,(n<=(u[c.length]=i)||t<=s)&&(c.push(l),s=0,l={});return s?c.push(l):0===c.length&&c.push(l),c},gt:function(e,t,n){for(var i in n=n||{},e)e.hasOwnProperty(i)&&(i in t||(n[i]="-"));return n},kt:function(e,t,i){i=i||{};var o=this,r={};for(var n in e)e.hasOwnProperty(n)&&(r[e[n]]=n);var a=[];return t.forEach(function(t){var n=o.path.de(t.path);t.hash in r?t.hash!=e[n]&&(i[n]="&"+r[t.hash]):a.push(o.model.q(t.fid).then(function(e){e&&(i[n]=(o.encode.b(n)?"*":"+")+t.hash+e.text)}))}),Promise.all(a).then(function(){return i})}}),m.module("remote").require("model").require("payload").require("token").require("path").require("hash").__init__(function(e,t){e.model=t.model,e.payload=t.payload,e.client=t.token.client,e.path=t.path,e.hash=t.hash,e.maxFilesPerRequest=25,e.maxPayloadLength=1572864}).def({yt:function(i){var o=this;return o.model.M(i).then(function(e){return e?o.hash.me(i).then(function(t){return e.location&&e.hash==t?{location:e.location,errors:{}}:o.xt(i).then(function(e){if(n=e,0===Object.keys(e.errors).length)return o.model.N(i,{hash:t,location:e.location})}).then(function(){return n});var n}):Promise.reject(0)})},_t:function(e,t){return m.check(e,String,"pid",!0),m.check(t,Object,"payload",!0),this.client.post("/api/projects/"+e+"/files",{meta:{id:e,mod:(new Date).getTime()},files:t})},Ct:function(e,t){var n=this;return n.model.Me(e,function(e){e.violation=t[n.path.de(e.path)]})},St:function(e,t){var n=this;return n.model.Me(e,function(e){void 0!==t[n.path.de(e.path)]&&delete e.violation})},Ft:function(n,i){var o=this;return o._t(n,i).then(function(e){var t=e.data.error_value;switch(e.data.error_type){case"FileInvalidFilesDataError":return o.Ct(n,t).then(function(){return e});case void 0:return o.St(n,i).then(function(){return e});default:return e}})},xt:function(t){m.check(t,String,"projectPath",!0);var n=this;return Promise.all([n.It(t),n.model.le(t)]).then(function(e){var t=e[0].data.files||{};return n.payload.vt(t,e[1])}).then(function(e){return PromisePool(n.payload.wt(e,n.maxFilesPerRequest,n.maxPayloadLength),function(e){return n.Ft(t,e)},1,1)}).then(n.Pt)},Pt:function(e){var n,i={};return e.forEach(function(e){if(e.data.error_type){var t=i[e.data.error_type];t=t?m.isArray(t)?t.concat(e.data.error_value):m.extend(e.data.error_value):e.data.error_value,i[e.data.error_type]=t}else n=n||e.data.location}),{location:n,errors:i}},Tt:function(t,n,i){n=n||0;var o=this;return $.ajax({url:t,type:"GET",mimeType:"text/plain; charset=x-user-defined"}).then(null,function(e){return n<i?Promise.reject(e):o.Tt(t,n,(i||0)+1)})},It:function(e){return m.check(e,String,"pid",!0),this.client.get("/api/projects/"+e+"/files")}}),m.module("token").require("model").require("messages").__init__(function(e,t){e.model=t.model,e.messages=t.messages,e.anonymous=axios.create(),e.client=axios.create()}).__init__(function(n){n.anonymous.interceptors.request.use(n.jt.bind(n),n.Et.bind(n)),n.anonymous.interceptors.response.use(n.At.bind(n),n.Ut.bind(n)),n.client.interceptors.request.use(function(t){return t.headers.common.Authorization?t:n.model.ye().then(function(e){return n.Rt(t,e),t.headers.common.Authorization?t:n.$t().then(function(){return n.jt(t,e)})})},function(e){return Promise.reject(e)}),n.client.interceptors.response.use(n.At.bind(n),n.Lt.bind(n))}).def({jt:function(t){var n=this;return n.model.ye().then(function(e){return n.Rt(t,e)})},Rt:function(e,t){return e.headers.common["Database-ID"]||(e.headers.common["Database-ID"]=t),sessionStorage.token?e.headers.common.Authorization=sessionStorage.token:localStorage.token&&(e.headers.common.Authorization=localStorage.token),e},At:function(e){var t=e.headers["x-set-authorization"];return t&&(sessionStorage.isTemporarySession?sessionStorage.token=t:localStorage.token=t),e},Et:function(e){return Promise.reject(e)},Ut:function(e){return e.response&&401==e.response.status&&(delete localStorage.token,delete sessionStorage.token),e.name=CONNECTION_ERROR,Promise.reject(e)},Lt:function(e){return this.messages.Bt("serverConnectionError"),this.Ut(e)},$t:function(){var e=this;return e.anonymous.get("/api/grant-token").then(function(){return new Promise(function(e){setTimeout(e,2e3)})}).then(function(){return e.anonymous.get("/api/token")})},Dt:function(e,t){var n=$.param({exp:e,pid:t});return this.client.get("/api/project-token?"+n)}}),m.module("observer").require("model").require("session").require("path").__init__(function(e,t){e.ChangeTypes={CREATE:1,UPDATE:2,DELETE:4,ALL:7},e.ExtensionFilters={ALL:e.Mt([".js",".jsx",".tsx",".ts",".css",".scss",".less",".html"]),HTML:e.Mt([".html"])},e.model=t.model,e.session=t.session,e.path=t.path,e.observers=[],e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler)}).__init__(function(o){var e=o.model.ChangeTypes;o.model.lt(e.CREATED,function(e,t,n){o.Nt(o.ChangeTypes.CREATE,n,null,e)}),o.model.lt(e.DELETED,function(e,t,n){o.Nt(o.ChangeTypes.DELETE,n,null,e)}),o.model.lt(e.UPDATED,function(e,t,n,i){o.Nt(o.ChangeTypes.UPDATE,n,i,e)})}).def({Ot:function(e,t){var n=this;return t&&t.pid?n.model.le(n.path.H(t)).then(function(e){e.forEach(function(e){n.Nt(n.ChangeTypes.CREATE,e,null,"files")})}):Promise.resolve()},Nt:function(t,n,i,o){m.check(t,Number,"type",!0),m.check(n,Object,"obj",!0),m.check(o,String,"table",!0),this.observers.forEach(function(e){e.type&t&&o===e.table&&(e.check&&n?e.check(n,i)&&e.callback(n,i):e.callback(n,i))})},Mt:function(n){m.check(n,Array,"extensions",!0);var i=this;return function(e,t){return t&&t.path?-1!==n.indexOf(i.path.o(t.path)):!!e.path&&-1!==n.indexOf(i.path.o(e.path))}},Gt:function(e,t,n){m.check(e,Number,"type",!0),m.check(n,Function,"callback",!0),t&&m.check(t,Function,"check",!0),this.observers.push({type:e,check:t,callback:n,table:"files"})},Wt:function(e,t,n){m.check(e,Number,"type",!0),m.check(n,Function,"callback",!0),t&&m.check(t,Function,"check",!0),this.observers.push({type:e,check:t,callback:n,table:"data"})}}),m.module("session").require("model").require("path").__init__(function(e,t){e.model=t.model,e.path=t.path,e._currentSession=null,e._currentProject=null,e._callbacks=[]}).def({Ht:function(e){this._currentSession=e},Kt:function(){return this._currentSession},Vt:function(e){this._currentProject=e},Yt:function(){return this._currentProject},Jt:function(){return this._currentProject?this._currentProject.pid:null},Qt:function(){var e=this._currentProject;return e&&e.repo},Xt:function(){var e=this._currentProject;return e?this.path.H(e):null},Zt:function(){return this._callbacks.length},zt:function(e){return m.check(e,Function,"callback",!0),this.en(e)?this._callbacks.length:this._callbacks.push(e)},tn:function(e){m.check(e,Function,"callback",!0);var t=this._callbacks,n=t.indexOf(e);return-1!=n&&t.splice(n,1),t.length},en:function(e){return 0<=this._callbacks.indexOf(e)},nn:function(){this._callbacks.length=0},in:function(){return this._callbacks.forEach(function(e){e(null,null)}),this._currentSession=null,this._currentProject=null,this.model._e("currentProjectId",null)},nt:function(t,n){m.check(t,String,"pid",!0),m.check(n,Object,"changes",!0);var i=this;return i.model.nt(t,n).then(function(e){return e||i.model.et(m.extend({pid:t},n))})},rn:function(t,n){this.Ht(n),this.Vt(t),this._callbacks.forEach(function(e){e(n,t)})},an:function(t){var n,i=this;return i.model.tt(t).then(function(e){return e?(n=e).pid:(n={pid:t},i.model.et(n))}).then(function(){return i.model._e("currentProjectId",t)}).then(function(){return i.model.M(t)}).then(function(e){return i.rn(e,n),[n,e]})}}),m.module("templates").__new__(function(e){e.frameworks={js:{angular:{name:"Angular",info:"Learn one way to build applications with Angular and reuse your code and abilities to build apps for any deployment target.",templates:[{path:"index.html",src:"index.html"},{path:"systemjs.config.js",src:"angular-systemjs.config.js",include:!0},{path:"app.ts",src:"angular-app.ts"},{path:"main.ts",src:"angular-main.ts"},{path:"app.html",src:"angular-app.html"}],scripts:["//unpkg.com/core-js@2.5.7/client/shim.min.js","//unpkg.com/zone.js@0.8.26?main=browser","//unpkg.com/zone.js@0.8.26/dist/long-stack-trace-zone.js","//unpkg.com/reflect-metadata@0.1.8","//unpkg.com/systemjs@0.19.47/dist/system.js"],body:"<my-app>Loading...</my-app>",defaultFile:"app.ts"},angularjs:{name:"AngularJS",info:"AngularJS is what HTML would have been, had it been designed for building web-apps.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"angularjs-index.js",include:!0}],bodyTemplate:"angularjs-body.html",scripts:["//cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","//cdn.jsdelivr.net/npm/angular@1.7.3/angular.min.js"],defaultFile:"index.js"},d3:{name:"D3",info:"Library for visualizing data using web standards. D3 helps you bring data to life using SVG, Canvas and HTML.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"d3-index.js",include:!0},{path:"style.css",src:"d3-style.css",stylesheet:!0}],scripts:["//cdn.jsdelivr.net/npm/d3@5.5.0/dist/d3.min.js"],defaultFile:"index.js"},react:{name:"React",info:"React will efficiently update and render just the right components when your data changes.",scripts:["//unpkg.com/systemjs@0.19.47/dist/system.js"],templates:[{path:"index.html",src:"index.html"},{path:"config.js",src:"react-config.js",include:!0},{path:"app.jsx",src:"react-app.jsx"}],body:'<div id="react-app"></div>',defaultFile:"app.jsx"},vue:{name:"Vue.js",info:"A progressive framework for building user interfaces. (Vue files not supported)",templates:[{path:"index.html",src:"index.html"},{path:"app.js",src:"vue-app.js",include:!0}],scripts:["//cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"],bodyTemplate:"vue-body.html",defaultFile:"app.js"}},css:{bootstrap:{name:"Bootstrap",info:"Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.",classes:{container:"container text-center",heading:"h2",text:"lead"},links:["//cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/css/bootstrap.min.css"],scripts:["//cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","//cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/js/bootstrap.min.js"]},mdl:{name:"Material Design Lite",info:"A front-end template that helps you build fast, modern mobile web apps.",classes:{container:"mdl-grid mdl-typography--text-center",heading:"mdl-layout-title mdl-cell--12-col",text:"mdl-cell--12-col"},links:["//fonts.googleapis.com/icon?family=Material+Icons","//cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.indigo-pink.min.css"],scripts:["//cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.min.js"]},uikit:{name:"UIkit",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"uk-container uk-text-center",heading:"uk-text-lead",text:"uk-text-meta"},links:["https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/css/uikit.min.css"],scripts:["//cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","//cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/js/uikit.min.js"]}}},e.quotes=["Hard work pays off in the future. Laziness pays off now.","A closed mouth gathers no foot.","A dog is a dog unless he is facing you. Then he is Mr. Dog.","A neat desk is a sign of a cluttered desk drawer.","A sine curve goes off to infinity, or at least to the end of the blackboard.","Artificial intelligence is no match for natural stupidity.","Caution: do not look into laser with remaining eye.","Change is inevitable, except from a vending machine.","Democracy is four wolves and a lamb voting on what to have for lunch.","Diplomacy is the art of saying 'good doggie' while looking for a bigger stick.","Don't personify computers - we don't like it.","Do not worry about the world ending today, it's already tomorrow in Australia","Experience is something you get just after you need it.","Give a man a fish and you feed him for a day. Teach a man to fish, and you can sell him some tackle.","Happiness makes up in height what it lacks in length.","As a computer, I find your faith in technology amusing.","If it weren't for the last minute, nothing would get done.","My favourite scientific theory is that the rings of Saturn are made of lost airline luggage.","Never attribute to malice what can be adequately explained by stupidity.","Never test the depth of the water with both feet.","No problem is so big that you can't run away from it.","On the other hand... I have some fingers.","Personifiers of the world! Unite! You have nothing to lose but Mr. Dignity!","Rome wasn't built in a day, it just looks like that.","Smash forehead on keyboard to continue.","The amount of sleep needed by the average person is ten minutes more.","The early bird gets the worm, but the early worm gets eaten.","Time flies like an arrow, fruit flies like a banana","To steal ideas from one person is plagiarism; to steal from many is research.","The person who knows how to laugh at himself will never cease to be amused","Where in the nursery rhyme does it say Humpty Dumpty is an egg?","The trouble with doing something right the first time, is nobody appreciates how difficult it was.","Be nice to other people; they outnumber you 5.5 billion to one. ","Talk is cheap because supply exceeds demand","There has been an alarming increase in the number of things you know absolutely nothing about.","For every problem there is a solution which is simple, neat and wrong. ","When you find yourself in a hole, the first thing to do is stop digging.","If it's stupid but works, it isn't stupid.","Anything free is worth the price.","Always listen to experts. They'll tell you what can't be done, and why. Then go and do it anyway.","Compromise is the art of dividing a cake so everyone believes he got the biggest piece. -Ludwig Erhard","It is better to have enough ideas for some of them to be wrong than to always be right by having no ideas at all. -Edward de Bono","Time is what keeps everything from happening all at once.","When all else fails, read the instructions.","There are 10 types of people in this world; those who understand the binary number system and those who do not"]}),m.module("templates").require("remote").__init__(function(e,t){e.remote=t.remote,e.dataLocation="/assets/templates",e.template=doT.template,e.templateCache={},doT.templateSettings.varname="d",doT.templateSettings.strip=!1}).def({cn:function(e){return this.sn("",".js",e)},un:function(e){return this.sn(["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8">','<meta name="viewport" content="width=device-width, initial-scale=1">',"<title></title>","</head>","<body>","","</body>","</html>"].join("\n"),".html",e)},ln:function(e){return this.sn("",".css",e)},sn:function(e,t,n){m.check(e,String,"text",!0),m.check(t,String,"ext",!0);var i={tabString:n};switch(t){case".less":case".scss":case".css":return indent.css(e,i);case".json":case".js":case".jsx":return indent.js(e,i);case".ts":return indent.ts(e,i);case".html":case".htm":case".xhtml":case".xml":case".svg":return indent.html(e,i);default:return e}},hn:function(n){var i=this,e=i.dataLocation+"/"+n;return i.templateCache[n]?Promise.resolve(i.templateCache[n]):i.remote.Tt(e,1).then(function(e){var t=doT.template(e);return i.templateCache[n]=t})},fn:function(){return this.quotes[Math.floor(Math.random()*this.quotes.length)]},dn:function(e){var t={scripts:e.scripts||[],links:e.links||[],name:e.name,headTemplate:doT.template(e.head||""),bodyTemplate:doT.template(e.body||"")},n=[];return e.bodyTemplate&&n.push(this.hn(e.bodyTemplate).then(function(e){t.bodyTemplate=e})),e.headTemplate&&n.push(this.hn(e.headTemplate).then(function(e){t.bodyTemplate=e})),Promise.all(n).then(function(){return t})}}),m.module("date").def({ae:function(e,t){var n=this.pn,i=(this.we()-e)/1e3,o=t?"from now":"ago";return isNaN(i)?"at ?":i<10?t?"in a few seconds":"just now":i<60?n(i,1)+" seconds "+o:i<120?"a minute "+o:i<3600?n(i,60)+" minutes "+o:i<7200?"an hour "+o:i<86400?n(i,3600)+" hours "+o:i<172800?"a day "+o:n(i,86400)+" days "+o},we:function(e,t,n){return(new Date).getTime()},pn:function(e,t){return Math.floor(e/t)}}),m.module("path").def({H:function(e){return e?e.ref?e.pid+":"+this.mn(e.ref):e.pid:null},vn:function(e){return"/"==e.charAt(e.length-1)?e:e+"/"},gn:function(e){return e.replace(/^\/+|\/+$/g,"")},kn:function(e){return-1!=e.indexOf("//")?"//":-1!=e.indexOf("\0")?"NUL":-1!=e.indexOf("\\")?"\\":-1!=e.indexOf("~")?"~":void 0},bn:function(e){var t=e.split("/"),n=t.pop();return[t.join("/"),n]},wn:function(e){var t=e.indexOf("/");return[-1===t?e:e.substring(0,t),-1===t?"":e.substring(t+1)]},de:function(e){return this.wn(e)[1]},yn:function(e){return this.wn(e)[0]},mn:function(e){return e.split("/").pop()},xn:function(e){return this.bn(e)[0]},_n:function(e,t){return t=t||"",(e=e||"")&&t?this.vn(e)+this.gn(t):e?this.gn(e):this.gn(t)},Mt:function(t){var n=this;return function(e){return e.filter(function(e){return n.o(e.path)==t})}},o:function(e){var t=this.bn(e)[1],n=t.lastIndexOf(".");return-1==n?"":t.substr(n).toLowerCase()},ft:function(e){return-1!=e.indexOf("//")},Cn:function(e){return this.ft(e)&&-1==e.indexOf(location.host)},Sn:function(e){return e.split(location.host).pop()},dt:function(e){return("//"+this.gn(e.split("://").pop())).split("?")[0]},Fn:function(e,t,n){return"/"==(e=this.Sn(e).split("?")[0]).charAt(0)?this._n(n,this.gn(e)):this._n(t,this.gn(e))}}),m.module("set").def({In:function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}}),m.module("urlQuery").def({Pn:function(){return window.location.search},Tn:function(e){for(var t=this.Pn().substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}}}),ace.define("ace/theme/ayu-light",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-ayu-light",t.cssText=".ace-ayu-light .ace_gutter {color: #2b91b1;}.ace-ayu-light .ace_indent-guide {border-right: solid 1px #f3f3f3;}.ace-ayu-light .ace_print-margin {width: 1px;background: #e8e8e8}.ace-ayu-light {color: #35373a}.ace-ayu-light .ace_cursor {color: #FF6A00}.ace-ayu-light .ace_marker-layer .ace_selection {background: #a5dfff}.ace-ayu-light.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #FAFAFA;border-radius: 2px}.ace-ayu-light .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-light .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FF0000}.ace-ayu-light .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-ayu-light .ace_marker-layer .ace_selected-word {border: 1px solid #74caf9}.ace-ayu-light .ace_keyword.ace_operator {color: #ED9366}.ace-ayu-light .ace_constant.ace_language {color: #A37ACC}.ace-ayu-light .ace_constant.ace_numeric {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character.ace_escape {color: #4CBF99}.ace-ayu-light .ace_constant.ace_other {color: #A37ACC}.ace-ayu-light .ace_support.ace_function {color: #F07171}.ace-ayu-light .ace_support.ace_constant {color: #ED9366}.ace-ayu-light .ace_support.ace_class {color: #55B4D4}.ace-ayu-light .ace_support.ace_type {color: #55B4D4}.ace-ayu-light .ace_tag-name.ace_tag,.ace-ayu-light .ace_storage,.ace-ayu-light .ace_keyword {color: #FA6E32}.ace-ayu-light .ace_storage.ace_type {color: #FA6E32}.ace-ayu-light .ace_invalid {color: #F51818}.ace-ayu-light .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FA6E32}.ace-ayu-light .ace_string {color: #86B300}.ace-ayu-light .ace_string.ace_regexp {color: #4CBF99}.ace-ayu-light .ace_comment {color: #ABB0B6}.ace-ayu-light .ace_variable {color: #55B4D4}.ace-ayu-light .ace_variable.ace_parameter {color: #A37ACC}.ace-ayu-light .ace_entity.ace_other.ace_attribute-name {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_function {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_tag {color: #55B4D4}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/ayu-mirage",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-ayu-mirage",t.cssText=".ace-ayu-mirage .ace_gutter {color: rgb(125,127,129)}.ace-ayu-mirage .ace_indent-guide {border-right: solid 1px #2d363f;}.ace-ayu-mirage .ace_print-margin {width: 1px;background: #333a48}.ace-ayu-mirage {color: #ddd}.ace-ayu-mirage .ace_cursor {color: #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-ayu-mirage.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-ayu-mirage .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-mirage .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-ayu-mirage .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-ayu-mirage .ace_keyword.ace_operator {color: #F29E74}.ace-ayu-mirage .ace_constant.ace_language {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_numeric {color: #D4BFFF}.ace-ayu-mirage .ace_punctuation,.ace-ayu-mirage .ace_punctuation.ace_tag {color: #bbb}.ace-ayu-mirage .ace_constant.ace_character {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_character.ace_escape {color: #95E6CB}.ace-ayu-mirage .ace_constant.ace_other {color: #D4BFFF}.ace-ayu-mirage .ace_support.ace_function {color: #F28779}.ace-ayu-mirage .ace_support.ace_class {color: #5CCFE6}.ace-ayu-mirage .ace_support.ace_type {color: #5CCFE6}.ace-ayu-mirage .ace_meta.ace_tag,.ace-ayu-mirage .ace_tag-name.ace_tag,.ace-ayu-mirage .ace_storage,.ace-ayu-mirage .ace_keyword {color: #FFA759}.ace-ayu-mirage .ace_storage.ace_type {color: #FFA759}.ace-ayu-mirage .ace_invalid {color: #FF3333}.ace-ayu-mirage .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FFA759}.ace-ayu-mirage .ace_string {color: #BAE67E}.ace-ayu-mirage .ace_string.ace_regexp {color: #95E6CB}.ace-ayu-mirage .ace_comment {color: #5C6773}.ace-ayu-mirage .ace_variable {color: #FFD580}.ace-ayu-mirage .ace_variable.ace_parameter {color: #D4BFFF}.ace-ayu-mirage .ace_entity.ace_other.ace_attribute-name {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_function {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_tag {color: #5CCFE6}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/chrome",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-chrome",t.cssText=".ace-chrome .ace_gutter {color: #2b91b1;}.ace-chrome .ace_indent-guide {border-right: solid 1px #f3f3f3;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/dracula",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-dracula",t.cssText=".ace-dracula .ace_gutter {color: rgb(144,145,148)}.ace-dracula .ace_indent-guide {border-right: solid 1px #2d363f;}.ace-dracula .ace_print-margin {width: 1px;background: #e8e8e8}.ace-dracula {color: #ddd}.ace-dracula .ace_cursor {color: #F8F8F0}.ace-dracula .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-dracula.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-dracula .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-dracula .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-dracula .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-dracula .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-dracula .ace_keyword {color: #d3a0ff}.ace-dracula .ace_keyword.ace_operator {color: #ddd}.ace-dracula .ace_constant.ace_language {color: #bd93f9}.ace-dracula .ace_constant.ace_numeric {color: #c3e8d1}.ace-dracula .ace_constant.ace_character {color: #bd93f9}.ace-dracula .ace_constant.ace_character.ace_escape {color: #ff79c6}.ace-dracula .ace_constant.ace_other {color: #bd93f9}.ace-dracula .ace_identifier {color: #aef1ff}.ace-dracula .ace_support.ace_function {color: #57afff}.ace-dracula .ace_support.ace_constant {color: #aef1ff}.ace-dracula .ace_support.ace_class {color: #aef1ff}.ace-dracula .ace_support.ace_type {color: #aef1ff}.ace-dracula .ace_meta.ace_tag,.ace-dracula .ace_storage {color: #57afff}.ace-dracula .ace_storage.ace_type {color: #57afff}.ace-dracula .ace_invalid {color: #F8F8F0;background-color: #ff79c6}.ace-dracula .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #bd93f9}.ace-dracula .ace_string {color: #f1fa8c}.ace-dracula .ace_comment {color: #7988b5}.ace-dracula .ace_constant,.ace-dracula .ace_variable {color: #a6ffbd}.ace-dracula .ace_variable.ace_parameter {color: #aef1ff}.ace-dracula .ace_entity.ace_other.ace_attribute-name {color: #aef1ff}.ace-dracula .ace_entity.ace_name.ace_function {color: #fff8d3}.ace-dracula .ace_xml-pe.ace_xml,.ace-dracula .ace_punctuation.ace_tag {color: #999}.ace-dracula .ace_tag-name.ace_tag,.ace-dracula .ace_entity.ace_name.ace_tag {color: #57afff}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {color: #8F908A}.ace-monokai .ace_indent-guide {border-right: solid 1px #2d363f;}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {color: #ddd}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-monokai .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-monokai .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #bbb}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {color: #2b91b1;}.ace-xcode .ace_indent-guide {border-right: solid 1px #f3f3f3;}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {color: black}.ace-xcode .ace_cursor {color: black}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #fff;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),m.module("converter").require("encode").require("messages").__init__(function(e,t){e.encode=t.encode,e.messages=t.messages}).def({jn:function(e){var t,n=!0;return"base64"==e.remoteEncoding&&(n=null!==(t=this.encode._(e.remoteText)),e.remoteText=t||"",e.remoteEncoding="utf8"),"base64"==e.encoding&&(n=null!==(t=this.encode._(e.text)),e.text=t||"",e.encoding="utf8"),n||this.messages.Bt("corruptFileHistoryError"),e}}),m.module("card").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-card",width:"40",label:"",accessoryIcon:'<i class="uk-icon-chevron-right uk-icon-medium"; style="margin-left:auto;"></i>'},template:['<div class="uk-flex uk-flex-middle">','<div class="uk-margin-large-right">','<svg viewBox="{{viewBox}}" width="{{width}}">',"{{svg}}","</svg>","</div>",'<div class="uk-margin-top">',"<h5>{{title}}</h5>",'<p class="uk-margin-large-right">{{label}}</p>',"</div>","{{accessoryIcon}}","</div>"].join("")},UI.definitions.link)}),m.module("drawer").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"uk-offcanvas x-transparent-background",$blockDrawerCloseByPan:!1,$closeInProgress:!1,$verticalScrollInProgress:!1},__after__:function(){var t=this,e=t.touchRegion=ZingTouch.Region(t.element,!1,!1),n=t.panGesture=new ZingTouch.Pan,i=n.end;n.end=function(e){return 60<=Math.abs(t._positionPercent)?t.close():t._resetPosition(),t.$verticalScrollInProgress=!1,i.call(this,e)},e.bind(t.element,n,function(e){window.innerWidth<=768&&e.detail.events[0].originalEvent.target!=t.element&&t._closeByPan(e.detail.data)}),$(t.element).on("click",function(e){e.target==e.delegateTarget&&t.close()})},open:function(){var e=this;if(!e.isVisible()){var t=$("body");$(e.element).addClass("uk-active"),t.addClass("uk-offcanvas-page"),t.width(),e.content().addClass("uk-offcanvas-bar-show"),setTimeout(function(){$(e.element).removeClass("x-transparent-background")},1)}},width:function(){return this.content().width()},_closeByPan:function(e){var t=this;if(!t.$closeInProgress)if(t.$blockDrawerCloseByPan||t.$verticalScrollInProgress)t._resetPosition();else{var n=e[0];if(n){var i=t.width(),o=n.directionFromOrigin*Math.PI/180,r=Math.cos(o)*n.distanceFromOrigin/i,a=Math.sin(o)*n.distanceFromOrigin;if(35<=Math.abs(a))return void(t.$verticalScrollInProgress=!0);var c=t.isFlipped();c&&(r=-r),0<r&&(r=0);var s=Math.round(100*r);if(c&&(s=-s),90<=Math.abs(s))t.close();else if(s!=t._positionPercent&&5<=Math.abs(s)){var u="translateX("+s+"%)";t.content().css({transform:u,webkitTransform:u,transition:"none",webkitTransition:"none"}),t._positionPercent=s}}}},_resetPosition:function(){0!==this._positionPercent&&(this.content().css({transform:"",webkitTransform:"",transition:"",webkitTransition:""}),this._positionPercent=0)},_finalize:function(){$("body").removeClass("uk-offcanvas-page"),UI.removeClass(this.element,"uk-active"),this.content().removeClass("uk-offcanvas-bar-show"),this.$closeInProgress=!1,this.$verticalScrollInProgress=!1},close:function(e){var t=this,n=!1;t.$closeInProgress||(t.$closeInProgress=!0,t._resetPosition(),t.isVisible()&&(UIkit.support.transition&&!e?(t.content().one(UIkit.support.transition.end,function(){t._finalize(),n=!0}),setTimeout(function(){UI.addClass(t.element,"x-transparent-background"),t.content().removeClass("uk-offcanvas-bar-show")},0),setTimeout(function(){n||t._finalize()},550)):(t._finalize(),n=!0)))},content:function(){return $(this.element).find(".uk-offcanvas-bar")},isVisible:function(){return $(this.element).is(":visible")},isFlipped:function(){return this.content().hasClass("uk-offcanvas-bar-flip")}},UI.definitions.element)}),m.module("file-breadcrumb").require("file-tree").require("path").__init__(function(e,t){e.fileTree=t["file-tree"],e.files=t.files,e.path=t.path}).__init__(function(o){UI.def({__name__:o.__name__,$defaults:{listStyle:"breadcrumb",tagClass:"x-file-breadcrumb"},getFullPath:function(){return this._fullPath},setFullPath:function(e){e=e||"",this._fullPath=e;var t=o.files.treeController.root(),n=o.path.de(e).split("/");if(1===n.length&&""===n[0])this.setData([]);else if(t){var i=t.path;this.setData(n.map(function(e,t,n){return{view:"link",label:(t===n.length-1?o.fileTree.En(e):o.fileTree.An(o.fileTree.svg.openFolder,30,15))+e,path:o.path._n(i,n.slice(0,t+1).join("/"))}}))}}},UI.definitions.list)}),m.module("file-select").require("path").__init__(function(e,t){e.path=t.path}).__new__(function(n){UI.def({__name__:n.__name__,setFilesData:function(e){if(0==e.length)this.setData([{value:"",label:"No file selected",selected:!0}]),this.disable();else{var t=e.map(function(e){return{label:n.path.de(e.path),value:e.path,fid:e.fid}});this.setData(t),this.setActive("label","index.html"),this.enable()}return e},getSelectedFile:function(){var e=this.getSelected()[0];return e&&e.value&&e.fid?e:null}},UI.definitions.select)}),m.module("file-tree").require("path").__init__(function(e,t){e.path=t.path,e.StatusClassNames={1:"x-git-new",2:"x-git-moved",3:"x-git-new",4:"x-git-changed",5:"x-git-new",6:"x-git-moved",7:"x-git-new"}}).__init__(function(o){UI.def({__name__:o.__name__,$defaults:{indentWidth:12,tagClass:"x-file-tree"},template:function(e){var t=this.config.allowDrag,n=UIkit.support.touch,i="";return i=e.search?'<div style="margin-left:24px"></div>':'<span class="x-tree-icon" style="margin-left:{{margin}}px"><i class="uk-icon-{{chevron}}"></i></span><span class="uk-active-line"></span>{{svg}}',UI.interpolate('<a class="uk-flex-middle uk-flex {{itemClass}} {{statusClass}}">'+i+'<span class="x-tree-label">{{label}}</span>'+(e.message?'<i class="uk-icon uk-icon-commenting" title="{{message}}" onclick="showTooltipAsToast(this)"></i>':"")+(n&&t?'<i class="uk-icon uk-icon-small uk-icon-more-vertical menu"></i>':"")+"</a>",{itemClass:e.cls||"x-tree-item",statusClass:o.StatusClassNames[e.status]||"",chevron:o.Un(e),svg:o.Rn(e),margin:e.$depth*this.indentWidth,label:e.label,message:e.message})},updateItemStatus:function(e,t){var n=this.getItemNode(e.id);n&&n.firstChild&&(UI.removeClass(n.firstChild,o.StatusClassNames[e.status]||""),UI.addClass(n.firstChild,o.StatusClassNames[t]||"")),e.status=t}},UI.definitions.tree),window.showTooltipAsToast=function(e){UIkit.support.touch&&UI.message(e.title,{timeout:5e3})}}).__new__(function(e){e.svg={assetFile:'<path fill="#51DB78" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',styleFile:'<path fill="#9648EA" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',scriptFile:'<path fill="#E2C100" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',textFile:'<path fill="#7F7F7F" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',folder:'<path fill="#90CAF9" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z">',openFolder:'<path fill="#FFA000" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z">'}}).def({Un:function(e){return e.$children&&0<e.$children.length?e.$closed?"chevron-right":"chevron-down":""},Rn:function(e){var t,n=this;return t=e.search?"":e.file?n.$n(e.path):e.$children&&0!==e.$children.length?e.$closed?n.svg.folder:n.svg.openFolder:n.svg.folder,n.An(t,30,15)},An:function(e,t,n){return UI.interpolate('<svg class="svg-icon file-svg-icon" width="{{w}}" height="{{h}}" viewBox="5 0 18 18">{{path}}</svg>',{path:e,w:t,h:n})},En:function(e){return this.An(this.$n(e),30,15)},$n:function(e){var t=this;switch(t.path.o(e)){case".png":case".gif":case".svg":case".jpg":case".jpeg":case".bmp":case".woff":case".woff2":case".eot":case".ttf":case".otf":case".mp3":case".acc":case".flac":case".ogg":case".wav":return t.svg.assetFile;case".css":case".scss":case".sass":case".less":return t.svg.styleFile;case".js":case".jsx":case".ts":case".coffee":return t.svg.scriptFile;case".html":case".htm":case".xhtml":case".xml":case".csv":default:return t.svg.textFile}}}),m.module("icon-link").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-icon-link",icon:""},template:"<i class='uk-icon-{{icon}}'></i><span>{{label}}</span>",setLabel:function(e){this.config.label=e,this.render()}},UI.definitions.link)}),m.module("input-field").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{css:"x-input",formDangerClass:"x-form-danger",helpDangerClass:"x-text-danger",margin:"top"},__after__:function(){this.getFormControl().setAttribute("spellcheck","false")},focus:function(){this.getFormControl().focus()},raiseConcern:function(e){var t=this;e?(t.set("help",e),t.setFormClass("danger")):(t.set("help",""),t.setFormClass("")),t.invalid=!!e}},UI.definitions.input)}),m.module("key-button").require("key-option").__new__(function(r){UI.def({__name__:r.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart"}},$defaults:{tagClass:"x-key-button",dropdownEvent:"onOpenDropdown",dropdownOptions:{dropdownCSS:"x-key-popup",marginY:1,blank:!0}},__init__:function(e){e.dropdownOptions=UI.defaults({marginX:e.offset||0,pos:e.pos||"top-center"},e.dropdownOptions),this.addListener("onTouchStart",function(e,t,n){if(!r.activeKey){var i=this;i.selectOption(i.defaultIndex,0),r.activeKey=i,r.initialPos={x:n.touches[0].clientX,y:n.touches[0].clientY},i.dispatch("onOpenDropdown",[i.config,i.element])}})},selectOption:function(e,t){var n=this.dropdownPopup.$components[0].$components;if(r.selectedOption&&(r.selectedOption.deselect(),r.selectedOption=null),e=e<0?0:e,!(t<=-3)){if(this.multirow){var i=n[0].$components.length-1,o=n.length-1;if(o+2<=t)return;t=o<(t=t<0?0:t)?o:t,e=i<e?i:e,r.selectedOption=n[n.length-1-t].$components[e]}else{if(2<=t)return;e=e>=n.length?n.length-1:e,r.selectedOption=n[e]}r.selectedOption.select()}}},UI.definitions.link)}).__init__(function(a){if(UIkit.support.touch){UI.$windowListeners.touchend.push(function(){if(a.activeKey){if(a.selectedOption){var e=a.activeKey.config.editorOptions,t=e.editor,n=a.selectedOption.config,i=n.value||n.label,o=n.offset||e.offset||0;t.focus(!0),t.insertTextAtCursor(i,{chars:o,rows:0})}a.activeKey.dropdownPopup.close(),a.activeKey=null}}),UI.$windowListeners.touchmove.push(function(e){if(a.activeKey){var t=e.touches[0],n=t.clientX-a.initialPos.x,i=-(t.clientY-a.initialPos.y),o=a.activeKey.defaultIndex+Math.floor(n/42+.5),r=Math.floor(i/47-.5);a.activeKey.selectOption(o,r)}})}}),m.module("key-option").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-key-option"},select:function(){UI.addClass(this.element,"uk-active")},deselect:function(){UI.removeClass(this.element,"uk-active")}},UI.definitions.link)}),m.module("keybinding-link").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-keybinding-link",editorId:"mainEditor",command:""},template:function(e){var t="<span>{{label}}</span>",n=$$(this.editorId);if(n&&e.command){var i=n.$editor.$ace.commands,o=i.byName[e.command];if(o){var r=o.bindKey[i.platform];r&&(r=r.split("|")[0],t+=UI.interpolate('<span="uk-notouch">{{key}}</span>',{key:r}))}}return t}},UI.definitions.link)}),m.module("menu-icon").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-icon",iconStyle:"medium"},template:'<i class="uk-icon-{{icon}}"></i>'},UI.definitions.icon)}),m.module("menu-toggle").__new__(function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-toggle"},$setters:{selected:function(e){e?this.select():this.deselect()}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle)},_onToggle:function(e,t,n){this.dispatch("onToggle",[e,t,n]),this.isSelected()?this.deselect():this.select(),this.dispatch("onToggled",[e,t,n])}},UI.definitions.button)}),m.module("messages").__new__(function(e){e.messages={filesAddFileError:"To create a file, first open up a project from the project menu.",filesAddFolderError:"To create a folder, first open up a project from the project menu.",filesEncodeError:"Could not encode file to base64 format.",filesNotFoundError:'Could not find: "{{name}}"',filesExistsError:'{{type}} "{{name}}" already exists.',mainSaveFileError:"Not enough disk space available to save file.",deleteProjectConfirmError:"The name you typed did not match with the project.",deleteProjectMessage:'Project "{{name}}" is now a pile of bits.',transferProjectSuccess:'Project "{{name}}" loaded!',serverConnectionError:"Failed to connect to the server.",gitRepoConnectionError:"Failed to connect to git repo.",sameBranchError:"You are already on this branch!",switchBranchMessage:'Now working on branch: "{{branch}}"',switchBranchError:'Could not switch to branch: "{{branch}}"',projectSyncError:"Project sync failed, please try again later.",corruptFileHistoryError:"The history for this file could not be read.",corruptFileEncodingError:"The encoding for this file does not match its data.",loadTemplateError:"Fail to load the template, please check your internet connection.",downSyncError:"Failed to download some of the project files, please try again later.",downSyncInvalidTokenError:"Could not download project: token used is invalid.",downSyncExpiredTokenError:"The link has expired or has already been used already.",corruptionError:"Your local cache contains corrupted data.",editorFileMissing:"Failed to locate a file in the database.",searchBusyError:"Hold your horses, another task is still running.",openFileError:"An error occurred while trying to open the file.",serviceWorkerSupportError:"Service Workers are not supported by your browser.",appBroken:"App is experiencing some unexpected problems."}}).def({Bt:function(e,t,n){var i=this.messages[e],o=UI.interpolate(i||"An unknown error has occurred: "+e,t||{});this.Ln(o,n)},Ln:function(e,t){(t=t||{}).timeout=this.Bn(e),UI.message(e,t)},Bn:function(e){return Math.min(Math.max(80*e.length,2e3),12e3)}}),m.module("scroller").__init__(function(e){var c=window.requestAnimationFrame||window.setImmediate||function(e){return setTimeout(e,0)};UI.def({__name__:e.__name__,$defaults:{tagClass:"x-scroller-container",scrollDirection:"y"},__init__:function(t){var n=this,e=n.el,i=n.scrollDirection=t.scrollDirection;n.bar=UI.createElement("DIV"),n.wrapper=UI.createElement("DIV"),UI.addClass(n.bar,"x-scroller-bar "+i),UI.addClass(n.wrapper,"x-scroller-wrapper"),e.appendChild(n.wrapper),e.appendChild(n.bar),n.$content=UI.new({css:["x-scroller-content",i],cells:t.cells,flexLayout:"y"==i?"column":"row"},n.wrapper),n.content=n.$content.el,window.addEventListener("resize",n.moveBar.bind(n)),n.content.addEventListener("scroll",function(e){n.moveBar(),n.dispatch("onScroll",[t,n.content,e])}),n.content.addEventListener("mouseenter",n.moveBar.bind(n))},__after__:function(e){this.initScrollbar(this.bar,this),this.moveBar()},initScrollbar:function(t,n){var i,o;function r(e){var t="y"==n.scrollDirection?e.pageY-i:e.pageX-o;i=e.pageY,o=e.pageX,c(function(){"y"==n.scrollDirection?n.content.scrollTop+=t/n.scrollRatio:"x"==n.scrollDirection&&(n.content.scrollLeft+=t/n.scrollRatio)})}function a(){UI.removeClass(t,"x-scroller-grabbed"),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a)}t.addEventListener("mousedown",function(e){return i=e.pageY,o=e.pageX,UI.addClass(t,"x-scroller-grabbed"),document.addEventListener("mousemove",r),document.addEventListener("mouseup",a),!1})},moveBar:function(e){var t=this,n=t.content.scrollHeight||1,i=t.content.clientHeight||1,o=t.content.scrollWidth||1,r=t.content.clientWidth||1;t.scrollRatio="y"==t.scrollDirection?i/n:r/o;var a="rtl"===t.direction?t.el.clientWidth-t.bar.clientWidth+18:-1*(t.el.clientWidth-t.bar.clientWidth);c(function(){1<=t.scrollRatio?UI.addClass(t.bar,"uk-hidden"):(UI.removeClass(t.bar,"uk-hidden"),"y"==t.scrollDirection?t.bar.style.cssText="height:"+Math.max(100*t.scrollRatio,10)+"%; top:"+t.content.scrollTop/n*100+"%;right:"+a+"px;":"x"==t.scrollDirection&&(t.bar.style.cssText="width:"+Math.max(100*t.scrollRatio,10)+"%; left:"+t.content.scrollLeft/o*100+"%;"))})},showBatch:function(e){this.$content.showBatch(e)}},UI.definitions.element)}),m.module("search-field").__new__(function(e){UI.def({__name__:e.__name__,template:function(e){this.$input=UI.createElement("INPUT",e.inputAttributes),UI.addClass(this.$input,e.inputClass);var t=[this.$input];return e.searchOptions&&t.push({css:"search-options",cells:e.searchOptions}),t},$defaults:{htmlTag:"DIV",placeholder:"",tagClass:"x-search-field",inputClass:"x-input",flex:!0,type:"search"},getFormControl:function(){return this.$input}},UI.definitions.input)}),m.module("spacer").__init__(function(e){UI.def({__name__:e.__name__,__init__:function(e){this.element=this.el=UI.createElement("DIV"),this.config=e,UI.extend(this.el.style,{width:e.width||"auto",minHeight:e.height||"auto"})}})}),m.module("cookieBanner").require("model").require("prompt").__init__(function(n,i){n.banner=UI.new({id:n.__name__,flexAlign:"middle",position:"absolute",padding:"small",hidden:!!window.$embedMode||localStorage.$termsAgreed===window.$termsVersion&&localStorage.$privacyAgreed===window.$privacyVersion,cells:[{view:"label",label:(localStorage.$termsAgreed?"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our new updated ":"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our ")+'<a href="/terms.html" target="_blank">legal terms</a> and <a href="/privacy.html" target="_blank">privacy policy</a>.',flexSize:"flex"},{id:"cookieBannerActions",flexSize:"none",flexAlign:"middle",margin:"left-sm",cells:[{view:"button",link:!0,color:"muted",label:"DECLINE",on:{onClick:function(){var t=i.model.Ce();i.prompt.open('<span class="uk-text-danger">DANGER: Irreversible Data Loss!</span>',"Are you sure?",{text:UI.interpolate('Type <span class="uk-text-danger">{{phrase}}</span> to confirm. This will <span class="uk-text-danger">PERMANENTLY</span> delete all data this site stores for you including all projects, files, and settings!',{phrase:t}),okLabel:"DELETE EVERYTHING!",okColor:"danger",showInput:!0,onValidate:function(e,t,n){t(null),n&&n()},onResult:function(e){if(e!==t)return i.prompt.valueInput().raiseConcern(UI.interpolate('What you typed did not match "{{phrase}}".',{phrase:t})),!0;$$(n.__name__).hide(),i.model.ct("RISKY_STUFF!"),sessionStorage.clear(),localStorage.clear()}})}}},{view:"button",color:"primary",label:"AGREE",margin:"y-sm",on:{onClick:function(){$$(n.__name__).hide(),localStorage.$termsAgreed=window.$termsVersion,localStorage.$privacyAgreed=window.$privacyVersion}}}]}]},document.body)}),m.module("progress").def({close:function(){$$("progressBar").setValue(0),this.modal.close()},Dn:function(e,t,n){var i=this;$$("progressLabel").setValue(e),$$("progressBar").setValue(t),100===t?setTimeout(function(){i.modal.close()},1500):0===t&&(i.cancelCallback=n,i.modal.open())}}),m.module("progress").__init__(function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,bgClose:!1,center:!0,body:{flexLayout:"column",cells:[{id:"progressLabel",view:"label",htmlTag:"H6",template:"{{label}}",selectable:!1},{id:"progressBar",view:"progress",size:"small",margin:"y"}]},footer:{flexAlign:"right",cells:[{id:"progressCloseButton",view:"button",link:!0,label:"CANCEL",on:{onClick:function(){e.cancelCallback&&e.cancelCallback(),e.modal.close()}}}]}},document.getElementById("mainContainer"))}),m.module("prompt").__new__(function(n){window.prompt=function(e,t){n.open(e,t,{showInput:!0})}}).def({open:function(e,t,n){var i=this;t=t||"",n=n||{},$$("promptLabel").config.title=e,$$("promptLabel").render(),null!=t&&(i.setValue(t),i.valueInput().set("help",""),i.valueInput().setFormClass("")),i.onResult=n.onResult,i.onDismiss=n.onDismiss,i.onClosed=n.onClosed,i.onValidate=n.onValidate,i.invalid=!1,i.stylePrompt(n),i.modal.open()},result:function(e){var t=this;t.onResult?t.onResult(e)||(t.modal.close(),t.onClosed&&t.onClosed(!0)):(t.modal.close(),t.onClosed&&t.onClosed(!0))},stylePrompt:function(e){var t=this.okButton();t.config.label=e.okLabel||"OK",e.okColor&&t.set("color",e.okColor),t.render();var n=this.cancelButton();e.hideCancel?n.hide():n.show(),n.config.label=e.cancelLabel||"CANCEL",e.cancelColor&&n.set("color",e.cancelColor),n.render();var i=$$("promptTextLabel");e.text?(i.setValue(e.text),i.show()):i.hide();var o=this.valueInput();if(e.showInput){var r=e.placeholder||"";o.set("placeholder",r),o.show()}else o.hide()},cancel:function(){$$("promptCancelButton").dispatch("onClick")},ok:function(){this.okButton().dispatch("onClick")},okButton:function(){return $$("promptOkButton")},cancelButton:function(){return $$("promptCancelButton")},valueInput:function(){return $$("promptValueInput")},setValue:function(e){this.valueInput().setValue(e)}}),m.module("prompt").require("input-field").__init__(function(i){i.modal=UI.new({id:i.__name__,view:"modal",closeButton:!1,center:!1,body:{flexLayout:"column",cells:[{id:"promptLabel",tag:"H4",template:"<{{tag}}>{{title}}</{{tag}}>",selectable:!1},{id:"promptTextLabel",view:"label",margin:"top-sm",hidden:!0},{id:"promptValueInput",view:"input-field",on:{onKeyUp:function(e,t,n){i.onValidate&&i.onValidate(this.getValue(),this.raiseConcern.bind(this)),"Enter"==n.key&&i.ok()}}}]},footer:{flexAlign:"right",margin:"top",cells:[{id:"promptCancelButton",view:"button",link:!0,label:"CANCEL",on:{onClick:function(){if(i.onDismiss)var e=i.onDismiss(i.valueInput().getValue());e||(i.modal.close(),i.onClosed&&i.onClosed(!1))}}},{id:"promptOkButton",view:"button",link:!0,label:"OK",style:{minWidth:"64px"},on:{onClick:function(){var e=i.valueInput(),t=e.getValue();i.onValidate?i.onValidate(t,e.raiseConcern.bind(e),i.result.bind(i,t)):i.result(t)}}}]}},document.getElementById("mainContainer"))}),m.module("searchSettings").require("file-tree").require("fileTreeController").require("model").require("session").__init__(function(e,t){e.model=t.model,e.files=t.files,e.session=t.session,e.minimatch=window.minimatch,e.filteredFileList=[],e.treeController=new t.fileTreeController.FileTreeController(e.tree)}).__init__(function(i){var o=!1;i.modal=UI.new({id:i.__name__,view:"modal",closeButton:!1,dialogClass:"uk-overflow-hidden",dialogStyle:["scroll","blank"],header:{flexSize:"none",css:"x-bar",flexAlign:"middle",cells:[{id:"searchSettingsInput",view:"search-field",placeholder:"Filter files by glob pattern",width:"full",margin:"",on:{onInput:function(){i.tree().refresh()},onKeyUp:function(e,t,n){"Enter"===n.key&&(i.modal.close(),i.onUpdateSearchResults())}}},{id:"searchSettingsBackButton",view:"menu-icon",icon:"close",on:{onClick:function(){i.modal.close()}}}]},body:{view:"scroller",flexLayout:"column",style:{height:"calc(100vh - 144px)"},cells:[{id:"searchSettingsFileTree",view:"file-tree",flexSize:"none",data:[],filter:function(e){if(o)return!1;var t=i.input().getValue(),n=!0;return t&&(n=e.$branch?e.$children.some(function(e){return i.minimatch(e.path,t,{matchBase:!0})}):i.minimatch(e.path,t,{matchBase:!0})),n&&e.file&&i.filteredFileList.push(e.path),n&&!e.$parentClosed},on:{onRefresh:function(){i.filteredFileList.length=0}}},{view:"spacer",height:"32px"}]},on:{onOpened:function(){var e=i.session.Yt(),t=i.session.Xt();if(i.treeController.clearAll(),e&&t){var n=i.treeController.addRoot(t,e.name||"");i.treeController.sync(n).then(function(){o=!1,i.tree().refresh()})}}}},document.getElementById("mainContainer"))}).def({onUpdateSearchResults:m.noop,tree:function(){return $$("searchSettingsFileTree")},input:function(){return $$("searchSettingsInput")},Mn:function(){return this.input().getValue()?this.filteredFileList:null}}),m.module("diff-editor").__new__(function(e){var t=ace.require,w=t("ace/lib/dom"),n=t("ace/lib/oop"),c=t("ace/lib/lang"),i=t("ace/lib/event_emitter").EventEmitter,o=t("ace/layer/lines").Lines;e.Range=t("ace/range").Range;var r=function(e){this.element=w.createElement("div"),this.element.className="ace_layer ace_gutter-layer ace_diff-gutter",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new o(this.element)};function u(e){var t=w.createElement("span");w.addCssClass(t,"ace_line-number"),e.appendChild(t);var n=w.createElement("span");return w.addCssClass(n,"ace_line-number"),e.appendChild(n),e}(function(){n.implement(this,i),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),(this.session=e)&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){$console.warn&&$console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){$console.warn&&$console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,o=this.$annotations[i];o||(o=this.$annotations[i]={text:[]});var r=n.text;r=r?c.escapeHTML(r):n.html||"",-1===o.text.indexOf(r)&&o.text.push(r);var a=n.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=a||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session;if(t){var n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();var o=t.getNextFoldLine(n),r=o?o.start.row:1/0,a=null,c=-1,s=n;for(Array.prototype.slice.call(this.element.childNodes,0);;){if(r<s&&(s=o.end.row+1,r=(o=t.getNextFoldLine(s,o))?o.start.row:1/0),i<s){for(;this.$lines.getLength()>c+1;)this.$lines.pop();break}(a=this.$lines.get(++c))||(a=this.$lines.createCell(s,e,this.session,u),this.$lines.push(a)),this.$renderCell(a,e,o,s),s++}this.$updateGutterWidth(e)}},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+i);var r=n?n.getWidth(t,o,e):o.toString().length*e.characterWidth,a=this.$padding||this.$computePadding();(r+=a.left+a.right)===this.gutterWidth||isNaN(r)||(this.gutterWidth=r,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",r))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(0<n&&o&&o.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<o;o--)this.$lines.shift();if(n<i)for(o=this.session.getFoldedRowCount(n+1,i);0<o;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i<n&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;a<o&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(n<o);){var c=this.$lines.createCell(o,e,this.session,u);this.$renderCell(c,e,r,o),i.push(c),o++}return i},this.$renderCell=function(e,t,n,i){var o=e.element,r=this.session,a=o.childNodes[0],c=o.childNodes[1],s=o.childNodes[2],u=r.$firstLineNumber,l=(r=this.session).$breakpoints,h=r.$decorations,f=r.gutterRenderer||this.$renderer,d=this.$showFoldWidgets&&r.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,m="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&p<=i&&this.$cursorRow<=n.end.row)&&(m+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),l[i]&&(m+=l[i]),h[i]&&(m+=h[i]),this.$annotations[i]&&(m+=this.$annotations[i].className),o.className!=m&&(o.className=m),d){var v=d[i];null==v&&(v=d[i]=r.getFoldWidget(i))}if(v){m="ace_fold-widget ace_"+v;"start"==v&&i==p&&i<n.end.row?m+=" ace_closed":m+=" ace_open",s.className!=m&&(s.className=m);var g=t.lineHeight+"px";w.setStyle(s.style,"height",g),w.setStyle(s.style,"display","inline-block")}else s&&w.setStyle(s.style,"display","none");var k=(f?f.getText(r,i,"left"):"").toString(),b=(f?f.getText(r,i,"right"):i+u).toString();return k!==a.data&&(a.textContent=k),b!==c.data&&(c.textContent=b),w.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,r)+"px"),w.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,r)+"px"),e.row=i,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?w.addCssClass(this.element,"ace_folding-enabled"):w.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=w.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(r.prototype),e.DiffGutterLayer=r}),m.module("diff-editor").require("editor").__init__(function(x){UI.def({__name__:"diff-editor",__init__:function(){var e=this.$ace,t=e.renderer;e.container.removeChild(t.$gutter),t.$gutter=UI.createElement("DIV"),t.$gutter.className="ace_gutter",e.container.appendChild(t.$gutter),t.$gutter.setAttribute("aria-hidden",!0);var n=t.$gutterLayer=new x.DiffGutterLayer(t.$gutter);n.on("changeGutterWidth",t.onGutterResize.bind(t)),n.setShowFoldWidgets(!1),n.$renderer={getWidth:function(){return 92},getText:function(e,t,n){var i=e.getFoldAt(t,0);return i&&i.isPatchHeader?"":e.rowNumbers[n][t]||""}}},init:function(e){var t=this.config.scrollMargin;e.$blockScrolling=1/0,e.renderer.setScrollMargin(t,8);e.setOptions({scrollPastEnd:.5,enableLiveAutocompletion:!1,enableBasicAutocompletion:!1,enableSnippets:!1,showPrintMargin:!1,fadeFoldWidgets:!1}),this.initKeybindings(this)},addGutterDecorationForRows:function(e,t,n,i){for(var o=t;o<=n;o++)e.addGutterDecoration(o,i)},On:function(e,t){var d=this,p=x.Range,n=t[0],i=n&&!(n.added||n.removed)&&n.nextChanged&&3<n.count,o=i?"":"@@@\n",r=o.length,m=[],v=[],g=d.cacheSessionWithPath(e),k=g.getDocument();for(var a in g.rowNumbers={left:m,right:v},x.zn(g),g.$backMarkers)g.$backMarkers.hasOwnProperty(a)&&g.removeMarker(a);g.$decorations.forEach(function(e,t,n){n[t]=""}),g.setValue(t.reduce(function(e,t){return e+t.value},o));var b={firstFold:!0,range:new p(0,0,0,1/0),oldLine:0,newLine:0},w=i?[]:[b],y=r;t.forEach(function(e,t,n){var i=k.indexToPosition(y);y+=e.value.length;var o=/(\r\n|\r|\n)$/.test(e.value),r=k.indexToPosition(o?y-1:y),a=e.count;e.added?(g.addMarker(p.fromPoints(i,r),"ace_added-line","fullLine"),d.addGutterDecorationForRows(g,i.row,r.row,"ace_added-line"),x.Nn(v,i.row,a)):e.removed&&(g.addMarker(p.fromPoints(i,r),"ace_removed-line","fullLine"),d.addGutterDecorationForRows(g,i.row,r.row,"ace_removed-line"),x.Nn(m,i.row,a));var c={row:i.row,column:0},s={row:r.row+(n.length==t+1?1:0),column:1/0};if(e.nextChanged&&(s.row=Math.max(c.row,s.row-3)),e.previousChanged&&(c.row=Math.min(s.row,c.row+3)),!e.added&&!e.removed){var u=s.row-c.row,l=c.row-i.row;if(x.Nn(m,i.row,l),x.Nn(v,i.row,l),0<u){b.header=UI.interpolate(" @@ -{{oldLine}},{{changesOld}} +{{newLine}},{{changesNew}} @@ ",{changesOld:(m.slice(-1)[0]||1)-b.oldLine,changesNew:(v.slice(-1)[0]||1)-b.newLine,oldLine:b.oldLine+1,newLine:b.newLine+1}),x.Nn(m,c.row,u),x.Nn(v,c.row,u);var h=p.fromPoints(c,s);b={oldLine:(m.slice(-1)[0]||0)+1,newLine:(v.slice(-1)[0]||0)+1,range:h},w.push(b)}var f=a-l-u;x.Nn(m,s.row,f),x.Nn(v,s.row,f)}}),!b.header&&b.firstFold&&(b.header=UI.interpolate(" @@ -{{oldLine}},{{changesOld}} +{{newLine}},{{changesNew}} @@ ",{changesOld:(m.slice(-1)[0]||1)-b.oldLine,changesNew:(v.slice(-1)[0]||1)-b.newLine,oldLine:b.oldLine+1,newLine:b.newLine+1})),w.forEach(function(e){var t=g.addFold(e.header||" ... ",e.range),n=e.range;t.firstFold=!!e.firstFold,t.isPatchHeader=!0,g.addMarker(n,"ace_expanded-line","fullLine"),d.addGutterDecorationForRows(g,n.start.row,n.end.row,"ace_expanded-line")}),d.setSession(g)}},UI.definitions.editor)}).def({Nn:function(e,t,n){for(var i=(e.slice(-1)[0]||0)+1,o=0;o<n;o++)e[o+t]=i+o},zn:function(e){e.$patchedExpandFold||(e.$patchedExpandFold=e.expandFold,e.expandFold=function(e){e.firstFold||this.$patchedExpandFold(e)})}}),m.module("diff").require("model").require("path").require("encode").require("messages").require("diff-editor").require("file-breadcrumb").require("converter").__init__(function(e,t){e.JsDiff=window.JsDiff,e.model=t.model,e.path=t.path,e.encode=t.encode,e.messages=t.messages,e.converter=t.converter}).def({breadcrumb:function(){return $$("diffFileBreadcrumb")},editor:function(){return $$("diffEditor")},lines:function(){return $$("diffLinesCount")},Gn:function(e,t){var n=this.JsDiff.diffLines(e||"",t||""),i=!1;return n.filter(function(e,t,n){return e.added||e.removed?i=!0:(next=n[t+1],next&&(next.added||next.removed)&&(e.nextChanged=!0),i&&(i=!1,e.previousChanged=!0)),0<e.count})},Wn:function(e,t){return this.JsDiff.diffChars(e||"",t||"")},Hn:function(n){m.check(n,{fid:String,path:String},"file",!0);var i=this;return i.model.q(n.fid).then(function(e){if(e){i.converter.jn(e);var t=i.Gn(e.remoteText,e.text);i.On(n.path,t)}})},On:function(e,t){m.check(e,String,"path",!0),m.check(t,Array,"hunks",!0);this.breadcrumb().setFullPath(e),this.editor().On(e,t),this.lines().setLines(t.reduce(function(e,t){return t.added?t.count+e:e},0),t.reduce(function(e,t){return t.removed?t.count+e:e},0)),this.modal.open()}}),m.module("diff").__init__(function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogStyle:["full","large","blank"],dialogClass:["uk-overflow-hidden","uk-position-relative"],header:{css:["x-bar","float"],fill:"width",flexSize:"",flexAlign:"middle",cells:[{id:"diffBackButton",view:"menu-icon",icon:"chevron-left",on:{onClick:function(){e.modal.close()}}},{id:"diffFileBreadcrumb",view:"file-breadcrumb",data:[]},{id:"diffLinesCount",template:'<span class="x-diff-added-lines uk-margin-left">+{{addedLines}}</span><span class="x-diff-removed-lines">-{{removedLines}}</span>',addedLines:0,removedLines:0,setLines:function(e,t){this.set("addedLines",e),this.set("removedLines",t),this.render()}}]},body:{flex:!0,fill:"height",css:"x-modal-full-body",template:{id:"diffEditor",view:"diff-editor",readonly:!0,scrollMargin:48,editorOptions:{useWorker:!1}}}},document.getElementById("mainContainer"))}),m.module("main").require("editor").require("files").require("hash").require("history").require("library").require("messages").require("model").require("path").require("preview").require("project").require("session").require("viewer").require("prompt").require("observer").__init__(function(e,t){e.editorModule=t.editor,e.files=t.files,e.hash=t.hash,e.history=t.history,e.library=t.library,e.messages=t.messages,e.model=t.model,e.path=t.path,e.preview=t.preview,e.project=t.project,e.session=t.session,e.viewer=t.viewer,e.prompt=t.prompt,e.observer=t.observer,e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler),e.historyTracker=new e.history.HistoryTracker,e.observer.Gt(e.observer.ChangeTypes.ALL,function(){return!!e.preview.useLiveMode&&e.previewContainer().isVisible()},e.Kn.bind(e)),e.Vn()}).__init__(function(i){i.files.qn=function(e){e.path===i.breadcrumb().getFullPath()&&(i.Yn(),i.historyTracker.clearRedo(),i.Jn())},i.files.Qn=function(e,t){e===i.breadcrumb().getFullPath()&&i.Xn(t);var n=i.editor().getSession();n&&n.path===e&&(n.path=t)},i.files.Zn=function(e,t){if(null!==e)return i.ei(e,!1,t);i.Yn()},i.preview.onHidePreviewContainer=function(){i.previewContainer().hide()},i.library.onChangeUrls=function(e){i.editor().completionServer.setExternalUrls(e)}}).def({Ot:function(e,t){var n=this;n.Vn(),n.editor().completionServer.clearFiles(),t&&t.pid?n.fileBar().showBatch(["menu","file","project"]):(n.Yn(),n.fileBar().showBatch(["menu","logo","file"]))},Vn:function(){this.historyTracker.reset()},fileBar:function(){return $$("mainFileBar")},editorContainer:function(){return $$("mainEditorContainer")},previewContainer:function(){return $$("mainPreviewContainer")},backButton:function(){return $$("mainBackButton")},forwardButton:function(){return $$("mainForwardButton")},menuContainer:function(){return $$("menuContainer")},editor:function(){return this._editor||(this._editor=$$("mainEditor").$editor)},breadcrumb:function(){return $$("mainFileBreadcrumb")},Kn:UIkit.Utils.debounce(function(){this.preview.ti(!0)},600,!1),ni:function(e){var t=this;"embed"===location.origin.split("://").pop().split(".")[0]?(e.files?m.modules.menu.list().hide():(t.fileBar().hide(),t.menuContainer().hide(),t.editor().setScrollMargin(8,24)),e.preview||($$("mainRunButton").hide(),t.previewContainer().hide()),t.ii(e)):window.$embedMode=null},oi:function(e){return e.reduce(function(e,t){var n=0;return t&&(t.text&&t.text.length&&(n+=t.text.length),t.path&&t.path.length&&(n+=t.path.length)),e+n},0)},ri:function(e,t){var n=this,i=e.data||{},o=n.session.Xt(),r=n.editor();if("string"!=typeof i){if(t.files&&i.files)if(i.files.length<=100){if(n.oi(i.files)<10485760)return Promise.all(i.files.map(function(e){var t=n.path._n(o,e.path);return n.files.ai(t).then(function(){return n.files.ci(t,e.text,!0)})})).then(function(){n.files.treeController.syncRoot(),i.defaultFile&&n.files.Zn(n.path._n(o,i.defaultFile),!0)});$console.error("Total size of files cannot exceed 10 MB.")}else $console.error('Number of "files" cannot exceed 100.');i.mode&&r.setMode(i.mode),i.fontSize&&r.setFontSize(i.fontSize),i.tabSize&&r.setTabSize(i.tabSize),i.text&&r.setValue(i.text,!0),i.gutter&&r.setShowGutter(i.gutter)}else{var a=e.ports[0];if(a)switch(i){case"text":a.postMessage(r.getValue());break;case"connect":a.postMessage("connected")}}},ii:function(t){var n=this;window.onmessage=function(e){n.ri(e,t)}},si:function(){this.previewContainer().preview()},Jn:function(){var e=this;e.historyTracker.canUndo()?e.backButton().enable():e.backButton().disable(),e.historyTracker.canRedo()?e.forwardButton().enable():e.forwardButton().disable()},ui:function(e){return this.historyTracker.push(e),this.Jn(),e},li:function(e){var t=this;return t.model.Ne(e).then(t.ui.bind(t)).then(t.hi.bind(t)).then(t.fi.bind(t))},di:function(e){m.check(e,String,"path",!0);var i=this;e.split("/").forEach(function(e,t,n){i.files.treeController.openBranch(n.slice(0,t+1).join("/"))})},Xn:function(e){var t=this.breadcrumb();$$("mainNoSaveLink").hide(),t.setFullPath(e),e?t.show():t.hide()},ei:function(e,t,n){var i,o=this,r=o.path.o(e),a=o.editorModule.pi(r),c=o.viewer.pi(r);return i=a&&c?o.mi.bind(o):c?o.mi.bind(o):o.fi.bind(o),n&&o.di(e),o.model.ze(e).then(t?null:o.ui.bind(o)).then(o.hi.bind(o)).then(i)},fi:function(e){var t=this;return t.editor().vi(e.path,e.fid).then(function(){t.editorContainer().showEditor(),t.Xn(e.path),t.files.treeController.markActive(e.path)}).catch(function(){t.messages.Bt("openFileError")})},mi:function(e){m.check(e,{fid:String,path:String},"file",!0);var t=this;return t.viewer.vi(e.path,e.fid).then(function(){t.editorContainer().showViewer(),t.Xn(e.path),t.files.treeController.markActive(e.path)}).catch(function(e){m.log(e),t.messages.Bt("openFileError")})},gi:function(){var e=this;e.historyTracker.undo(!0),e.Jn(),e.historyTracker.current&&e.ei(e.historyTracker.current.path,!0)},ki:function(){var e=this;e.historyTracker.redo(!0),e.Jn(),e.historyTracker.current&&e.ei(e.historyTracker.current.path,!0)},Yn:function(){var e=this;e.historyTracker.canUndo()?e.gi():(e.editorContainer().showEditor(),e.Xn(),e.editor().isCurrentSessionBlank()||e.editor().openBlankSession(),e.historyTracker.current=null)},hi:function(e){var t=this.session.Jt();return this.session.nt(t,{file:{path:e.path}}),this.model.N(t,{}),e},bi:function(){var t=this;return t.editorModule.wi(t.editor().getSession()).catch(function(e){switch(e?e.name:null){case NOT_FOUND_ERROR:$$("mainNoSaveLink").show();break;default:m.log(e),t.messages.Bt("mainSaveFileError")}})},yi:function(t){var n=this;n.prompt.open("Create Project","",{showInput:!0,text:"To save the file, you must first create a project.",onResult:function(e){e&&n.project.xi(e).then(function(){setTimeout(function(){n._i(t)},500)})},onValidate:function(e,t,n){0===e.length?t("Name cannot be empty."):(t(null),n&&n())}})},_i:function(e){this.files.Ci(null,e)},Si:function(){var e=this,t=e.editor().getSession();if(t){var n=t.getValue();e.session.Yt()?e.editor().isCurrentSessionBlank()?e._i(n):e.bi():e.yi(n)}}}),m.module("main").require("menu-icon").require("file-tree").require("file-breadcrumb").__init__(function(e,t){e.fileTree=t["file-tree"]}).__init__(function(i){UI.new({fill:"height",flexLayout:"",cells:[{id:"menuContainer",view:"drawer",css:"x-offcanvas-large"},{id:"mainEditorContainer",fill:"width",batch:"editor",flexLayout:"column",position:"relative",cells:[{id:"mainFileBar",batch:"bar",fill:"width",flexSize:"",css:["x-bar","float"],flexAlign:"middle",cells:[{id:"mainMenuToggleIcon",batch:"menu",screen:"except-large",view:"menu-icon",icon:"menu",on:{onClick:function(){i.menuContainer().open()}}},{view:"image",batch:"logo",flexSize:"none",margin:"x-sm",src:"/assets/img/title.svg",style:{maxHeight:"32px",opacity:.9}},{id:"mainBackButton",view:"menu-icon",batch:"project",icon:"chevron-left",disabled:!0,iconClass:"",tooltip:"Go Back",on:{onClick:function(){i.gi()}}},{id:"mainForwardButton",view:"menu-icon",batch:"project",icon:"chevron-right",disabled:!0,iconClass:"",tooltip:"Go Forward",on:{onClick:function(){i.ki()}}},{id:"mainFileBreadcrumbScroller",view:"scroller",batch:"file",scrollDirection:"x",style:{height:"48px"},cells:[{id:"mainNoSaveLink",view:"icon-link",textColor:"danger",icon:"server",label:"Not Saved",hidden:!0,on:{onClick:function(){i.Si()}}},{id:"mainFileBreadcrumb",view:"file-breadcrumb",data:[],dropdownEvent:"onPathItemClick",dropdownOptions:{id:"mainBreadcrumbDropdown",pos:"bottom-left",marginX:-20},dropdown:{id:"mainFileBreadcrumbDropdownScroller",view:"scroller",cells:[{id:"mainFileBreadcrumbDropdownList",view:"list",listStyle:"dropdown",template:function(e){return"<a>"+i.fileTree.Rn(e)+e.label+"</a>"},on:{onItemClick:function(e){e.$branch?(UI.removeClass($$("mainBreadcrumbDropdown").element,"uk-open"),$$("mainFileBreadcrumbDropdownScroller").dispatch("onOpen",[null,null,{files:e.$children}])):i.ei(e.path)}}}],on:{onOpen:function(e,t,n){this.element.style.height=12<n.files.length?"360px":null;var i=$$("mainFileBreadcrumbDropdownList");i.setData(n.files.map(function(e){return{path:e.path,label:e.label,file:e.file,$branch:e.$branch,$children:e.$children}})),n.selectedPath&&i.select(i.findOne("path",n.selectedPath))}}},on:{onItemClick:function(e,t){var n=i.files.treeController.getParentBranch(e.path);this.dispatch("onPathItemClick",[{files:n.$children,selectedPath:e.path},t.lastChild])}}}]},{id:"mainRunButton",view:"menu-icon",batch:"project",icon:"play",iconStyle:"",template:'<span class="uk-margin-small-right uk-hidden-small">Run</span><i class="uk-icon-medium uk-icon-{{icon}}"></i>',tooltip:"Preview",on:{onClick:function(){i.si()}}}]},{batch:"editor",id:"mainEditor",view:"touchEditor",editor:{view:"editor",onSave:i.bi.bind(i)}},i.viewer.template],on:{onInitialized:function(){this.showBatch("bar")}},showEditor:function(){this.showBatch(["bar","editor"])},showViewer:function(){this.showBatch(["bar","viewer"])}},{batch:"preview",id:"mainPreviewContainer",view:"drawer",$blockDrawerCloseByPan:!0,hidden:!0,css:"x-offcanvas-large",flexSize:"flex",template:i.preview.template,preview:function(){i.preview.ti(),this.show(),this.open(),i.editor().resize()}}]},document.getElementById("mainContainer"))}),m.module("editor").require("completion").require("model").require("lang").require("prompt").require("observer").require("dom").require("set").__init__(function(e,t){e.completion=t.completion,e.model=t.model,e.lang=t.lang,e.prompt=t.prompt,e.observer=t.observer,e.dom=t.dom,e.set=t.set,e.Range=ace.require("ace/range").Range}).__init__(function(a){a.CompletionServer=function(e){this.languageClient=new a.lang.LanguageServerClient(e),this.externalUrls=[],this.editor=e,this.initializeCommands(e),this.initializeFileObservers(),e.$ace.completers=[this.languageClient.getCompleter()]},a.CompletionServer.prototype={initializeCommands:function(t){var e=this.languageClient;t.addCommands([{name:"goToDefinition",exec:function(){e.goToDefinition(a.goToFile.bind(a,t))},bindKey:{win:"Ctrl-B",mac:"Command-B"}},{name:"getInfo",exec:function(){e.getInfo(function(e){t.hintManager.open(e)})},bindKey:{win:"Ctrl-I",mac:"Command-I"}},{name:"getSignature",exec:function(){e.getSignature(function(e){t.hintManager.open(e)})},bindKey:{win:"Ctrl-P",mac:"Command-P"}},{name:"renameSymbol",exec:function(){e.getRenameLocations(a.renameSymbol.bind(a,t))},bindKey:{win:"Alt-R|F2",mac:"Option-R|F2"}}])},initializeFileObservers:function(){var i=this.languageClient,e=a.observer,t=e.ChangeTypes,n=e.ExtensionFilters;function o(i){return function(t,n){t&&t.fid&&a.model.q(t.fid).then(function(e){e&&i(e.text||"",t,n)})}}e.Gt(t.CREATE,n.ALL,o(function(e,t){i.addFile(t.path,e)})),e.Gt(t.UPDATE,n.ALL,o(function(e,t,n){n.path?(i.removeFile(t.path),i.addFile(n.path,e)):i.updateFile(t.path,e)})),e.Gt(t.DELETE,n.ALL,function(e){i.removeFile(e.path)})},doEdit:function(e){var t=this.editor.getSession().getDocument().positionToIndex(e.start),n=this.editor.getCurrentFilePath(),i=e.lines.join("\n"),o="insert"===e.action?t:t+i.length,r="remove"===e.action?"":i;this.languageClient.editFile(n,e.id,r,t,o)},setExternalUrls:function(e,n){var i=this.languageClient,t=this.externalUrls,o=a.set.In(e,t),r=a.set.In(t,e);return this.externalUrls=e,r.forEach(function(e){i.removeFile(e)}),Promise.all(o.map(function(t){return a.completion.ht(a.path.dt(t)).then(function(e){i.addFile(t,e.text),n(t)})}))},clearFiles:function(){this.languageClient.clearFiles()}}}).def({goToFile:function(e,t){if(t&&t.def&&1==t.def.length){var n=t.def[0];this.Fi(n.fileName,n.textSpan.startPosition)}},renameSymbol:function(e,t){e.getSession();var n=this;t&&t.renameInfo.canRename&&n.prompt.open("Rename "+UI.capitalize(t.renameInfo.kind),t.renameInfo.fullDisplayName,{showInput:!0,onResult:function(e){n.applyChanges(e,t.rename)}})},applyChanges:function(e,t){var n,i,o=Object.create(null),r=this;for(n=0;n<t.length;++n)(o[(i=t[n]).fileName]||(o[i.fileName]=[])).push(i);var a,c,s=[];for(c in o){for(a=[],(t=o[c]).sort(u),n=0;n<t.length;++n)i=t[n],a.push({text:e,range:new r.Range(i.textSpan.startPosition.row,i.textSpan.startPosition.column,i.textSpan.endPosition.row,i.textSpan.endPosition.column)});s.push(r.model.ze(c).then(function(e){return r.Ii(a,e.fid)}))}return Promise.all(s);function u(e,t){return e.textSpan.start-t.textSpan.start}}}),m.module("editor").__init__(function(e){e.HintManager=function(e){var t=this;e.on("blur",function(){e.onBlur&&e.onBlur()}),e.on("focus",function(){e.onFocus&&e.onFocus()}),e.on("click",function(){t.close()}),this.editor=e,this.hintPopup=UI.new({view:"hintPopup"},e.container)},e.HintManager.prototype={open:function(e,t){this.hintPopup.open(this.editor,e,t)},close:function(){this.hintPopup.close()},isOpened:function(){return this.hintPopup.isOpened()}}}).__init__(function(){UI.def({__name__:"hintPopup",__after__:function(){this.element.style.margin=0,this.element.style.pointerEvents="auto",this.element.tabIndex=-1},displayPartToHTML:function(e){var t="";switch(e.kind){case"functionName":t="ace_entity ace_name ace_function";break;case"parameterName":t="ace_variable ace_parameter";break;case"keyword":t="ace_storage ace_type";break;case"punctuation":case"space":case"text":default:return e.text}return UI.interpolate('<span class="{{class}}">{{text}}</span>',{class:t,text:e.text})},buildInfoHTML:function(e){var t=e.displayParts.map(this.displayPartToHTML);return e.documentation&&(t.push("<div>"),(t=t.concat(e.documentation.map(this.displayPartToHTML))).push("</div>")),t.join("")},buildSignatureHTML:function(i){var o=this,e=i.items[i.selectedItemIndex],r=e.separatorDisplayParts.map(o.displayPartToHTML),a=e.prefixDisplayParts.map(o.displayPartToHTML);return e.parameters.forEach(function(e,t,n){t===i.argumentIndex&&a.push('<span class="selected-param">'),a=a.concat(e.displayParts.map(o.displayPartToHTML)),t===i.argumentIndex&&a.push("</span>"),n.length>t+1&&(a=a.concat(r))}),a=a.concat(e.suffixDisplayParts.map(o.displayPartToHTML)),e.documentation&&(a.push("<div>"),(a=a.concat(e.documentation.map(o.displayPartToHTML))).push("</div>")),a.join("")},open:function(e,t,n){var i=this.element;if(t)if(t.info)i.innerHTML=this.buildInfoHTML(t.info);else{if(!t.signature)return this.close();i.innerHTML=this.buildSignatureHTML(t.signature)}else n&&(i.textContent=n);i.parentNode||e.container.appendChild(i),i.className="ace-lang-hint "+e.getTheme().cssClass;var o=e.getCursorElement();if(o){var r=o.getBoundingClientRect(),a=e.container.getBoundingClientRect();this.positionNextTo(o,"bottom-center",0,2),this.moveWithinBoundary(a,{bottom:r.top},{left:e.$ace.renderer.gutterWidth+5})}},close:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},isOpened:function(){return!!this.element.parentNode}},UI.definitions.element,UI.AbsolutePositionMethods)}),m.module("editor").require("templates").__init__(function(e,t){e.templates=t.templates}).__init__(function(s){s.IndentManager=function(c){(this.editor=c).on("paste",function(e){if(1==c.getAllSelectionRanges().length&&s.Pi(e.text.split("\n"))){var t=c.getCursorPosition(),n=c.getSession(),i=n.getState(t.row),o=n.getLine(t.row),r=c.getTabString(),a=n.getMode().getNextLineIndent(i,o.slice(0,t.column),r);e.text=s.Ti(e.text,c.getMode(),a,r)}})},s.IndentManager.prototype={indent:function(e){var t=this.editor,n=t.getValue(),i=s.Ti(n,t.getMode(),"",t.getTabString()),o=t.getCursorPosition();(e||s.ji(n,i))&&(t.setValue(i),t.navigateTo(o.row,o.column))}}}).def({Ti:function(e,t,n,i){n=n||"";for(var o=(e=this.templates.sn(e,this.Ei(t),i)).split(/[\r]?\n/gi),r=1;r<o.length;r++)o[r]=n+o[r];return o.join("\n")},Pi:function(e){return 1<(e=e.filter(function(e){return!/^\s*$/.test(e)})).length},ji:function(e,t){if(e!=t){var n=t.split(/\r?\n/gi);if(n.length<2e4)for(var i=e.split(/\r?\n/gi),o=0,r=Math.ceil(.05*Math.min(n.length,i.length)),a=0;a<n.length;a++)if(n[a]!=i[a]&&r<=++o)return!0}return!1}}),m.module("editor").def({Ai:function(e){var t=this.Ui,n=e.$ace.commands,i=n.bindKey.bind(n);i(t("Ctrl-Shift-D|Ctrl-Y","Command-Shift-D|Command-Y"),"removeline"),i(t("Ctrl-D","Command-D"),"copylinesdown"),i(t("Ctrl-R","Command-Option-F"),"replace"),i(t("Ctrl-Shift-Up","Command-Shift-Up"),"movelinesup"),i(t("Ctrl-Shift-Down","Command-Shift-Down"),"movelinesdown"),n.removeCommand("showSettingsMenu"),n.removeCommand("jumptomatching"),n.removeCommand("modifyNumberUp"),n.removeCommand("modifyNumberDown"),n.removeCommand("toggleFoldWidget"),n.removeCommand("gotoline")},Ui:function(e,t){return{win:e,mac:t}}}),m.module("editor").__init__(function(i){i.ContextMenuManager=function(t){var n=this;n.editor=t,window.$embedMode||(t.$ace.renderer.$gutter.addEventListener("contextmenu",function(e){UI.preventEvent(e),i.gutterContextMenu.open(t),i.gutterContextMenu.positionNextTo(e.target,"right-center"),i.gutterContextMenu.moveWithinBoundary()}),t.$ace.renderer.container.addEventListener("contextmenu",function(e){UI.preventEvent(e),setTimeout(n.openNextToCursor.bind(n),25)}))},i.ContextMenuManager.prototype={openNextToCursor:function(){var e=this.editor.getCursorElement();e&&(i.editorContextMenu.open(this.editor),i.editorContextMenu.positionNextTo(e,"bottom-left"),i.editorContextMenu.moveWithinBoundary())}}}).__init__(function(n){var e=["typescript","tsx","javascript","jsx"];n.editorContextMenu=UI.new({view:"dropdown",dropdownCSS:"uk-dropdown-close x-editor-context-menu",dropdown:{view:"list",listStyle:"dropdown",filter:function(e){return!(e.mode&&this.mode&&-1===e.mode.indexOf(this.mode)||e.tokenTypes&&-1===e.tokenTypes.indexOf(this.leftTokenType)&&-1===e.tokenTypes.indexOf(this.rightTokenType)||e.excludeTokenTypes&&-1!==e.excludeTokenTypes.indexOf(this.tokenType))},data:[{view:"keybinding-link",command:"goToDefinition",label:"Go to Definition",mode:e,tokenTypes:"identifier",value:"jump"},{view:"keybinding-link",command:"getInfo",label:"Show Info",mode:e,tokenTypes:["entity.name.function","identifier"],value:"info"},{view:"keybinding-link",command:"renameSymbol",label:"Rename Symbol",mode:e,tokenTypes:["entity.name.function","identifier"],value:"rename"},{$divider:!0,mode:e,tokenTypes:["entity.name.function","identifier"]},{view:"keybinding-link",command:"find_in_file",label:"Find all",value:"find",excludeTokenTypes:["",null]},{view:"keybinding-link",command:"format",label:"Format File",value:"format"},{$divider:!0},{view:"keybinding-link",command:"undo",label:"Undo",value:"undo"},{view:"keybinding-link",command:"redo",label:"Redo",value:"redo"}],on:{onItemClick:function(e){var t=this.editor;if(t)switch(e.value){case"find":n.Ri(t.getSelectedTextOrWordAtCursor());break;case"format":t.indentManager.indent(!0);break;case"jump":case"info":case"rename":t.execCommand(e.command);break;case"undo":t.undo();break;case"redo":t.redo()}},onOpened:function(e,t,n){n&&n.execCommand&&(this.editor=n,this.mode=this.editor.getMode(),this.leftTokenType=this.editor.getTokenType(),this.rightTokenType=this.editor.getTokenType(1),this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body),n.gutterContextMenu=UI.new({view:"dropdown",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"keybinding-link",command:"goToLine",label:"Go to Line...",value:"gotoline"}],on:{onItemClick:function(e){var t=this.editor;if(t)switch(e.value){case"gotoline":t.execCommand(e.command)}},onOpened:function(e,t,n){n&&n.execCommand&&(this.editor=n,this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body)}),m.module("editor").require("path").require("model").require("session").require("messages").require("hash").require("encode").__new__(function(n){n.editorComponents=[],n.touchEditors=[],n.defaultTabSize=2,n.defaultWordWrap=!0,n.defaultUseAceWorkers=!1,n.darkThemes=["monokai","ayu-mirage","dracula"],n.modeMap={".js":"javascript",".jsx":"jsx",".ts":"typescript",".tsx":"tsx",".coffee":"coffee",".json":"json",".yaml":"yaml",".yml":"yaml",".md":"markdown",".svg":"svg",".xml":"xml",".html":"html",".xhtml":"html",".htm":"html",".css":"css",".scss":"scss",".sass":"sass",".less":"less"},n.extMap=Object.keys(n.modeMap).reduce(function(e,t){return e[n.modeMap[t]]=t,e},{})}).__init__(function(e,t){e.path=t.path,e.main=t.main,e.menu=t.menu,e.search=t.search,e.hash=t.hash,e.encode=t.encode,e.model=t.model,e.session=t.session,e.messages=t.messages,e.$dummyAceSession=ace.createEditSession("","text"),e.$dummyUndoManager=e.$dummyAceSession.getUndoManager(),e.$sessionMetaCache={}}).def({pi:function(e){return!!this.modeMap[e]},$i:function(e){return this.modeMap[this.path.o(e)]||"text"},Ei:function(e){return this.extMap[e]||".txt"},Li:function(e){return this.$sessionMetaCache[e]||(this.$sessionMetaCache[e]={undoManager:new ace.UndoManager}),this.$sessionMetaCache[e]},wi:function(e){if(!e.fid)return Promise.reject({name:NOT_FOUND_ERROR,message:"Session fid not defined"});var i=this,o=e.getValue(),r=i.hash.se(o);return Promise.all([i.model.Ne(e.fid),i.model.q(e.fid)]).then(function(e){var t=e[0],n=e[1]||{};return i.model.j(function(){return i.model.A(t.path,{hash:r}).then(function(){return i.model.L({fid:t.fid,text:o,remoteText:n.remoteText,remoteEncoding:n.remoteEncoding})})}).then(function(){i.Li(t.fid);return t})})},Bi:function(t){t=t||"chrome",-1!==this.darkThemes.indexOf(t)?UI.addClass(document.documentElement,"dark"):UI.removeClass(document.documentElement,"dark"),this.editorComponents.forEach(function(e){e.setTheme(t)})},Di:function(t){this.defaultUseAceWorkers=t,this.editorComponents.forEach(function(e){e.getSession().setUseWorker(t)})},Mi:function(t){this.defaultWordWrap=t,this.editorComponents.forEach(function(e){e.getSession().setUseWrapMode(t),e.refresh()})},Oi:function(t){this.touchEditors.forEach(function(e){e.setExtraTouchKeyboard&&e.setExtraTouchKeyboard(t)})},zi:function(t){this.editorComponents.forEach(function(e){e.setFontSize(t)})},Ni:function(t){this.editorComponents.forEach(function(e){e.setDisplayIndentGuides(t)})},Gi:function(t){this.editorComponents.forEach(function(e){e.setShowGutter(t)})},Wi:function(t){this.defaultTabSize=+t,this.editorComponents.forEach(function(e){e.setTabSize(+t)})},Hi:function(){for(var e="",t=0;t<this.defaultTabSize;t++)e+=" ";return e},Ri:function(e){this.main.menuContainer().open(),this.menu.switcher().switchToTab("search",!0),e&&(this.search.findInput().setValue(e),this.search.Ki())},Fi:function(t,e){m.check(t,String,"path",!0),m.check(e,{row:Number,column:Number},"position",!0);var n=this,i=n.main.editor();return Promise.resolve(i.getCurrentFilePath()).then(function(e){if(t!==e)return n.main.ei(t)}).then(function(){i.getSession().selection.moveToPosition(e),i.scrollToLine(e.row,!0,!1),i.focus()})},Ii:function(a,c){var s=this,u=s.main.editor().getSession();return s.model.q(c).then(function(e){var t=s.Li(c),n=s.$dummyAceSession;n.setUndoManager(s.$dummyUndoManager),n.setValue(e?e.text:""),n.setUndoManager(t.undoManager);for(var i=0;i<a.length;i++)n.replace(a[i].range,a[i].text);var o=n.getValue();if(n.markUndoGroup(),c==u.fid){var r=u.getUndoManager();u.setUndoManager(s.$dummyUndoManager),u.setValue(o),u.setUndoManager(r)}return s.$dummyUndoManager.reset(),s.model.at(c,{text:o}).then(function(e){e||s.messages.Bt("editorFileMissing")})})},Vi:function(e,t){var i=this,o=Object.create(null),r=Object.create(null),a=[];return e.forEach(function(e){var t=e.meta;if(t){if(!r[t]){var n=i.model.Ne(t).then(function(e){o[t]=e.path}).catch(function(){o[t]=t});r[t]=n,a.push(n)}}else o[t]=""}),Promise.all(a).then(function(){return e.forEach(function(e){e.meta=o[e.meta]}),t(null,e),e})}}),m.module("editor").require("key-button").require("icon-link").__init__(function(){ace.require("ace/ext/language_tools")}).__init__(function(c){UI.def({__name__:"editor",$defaults:{value:"",onEdit:m.noop,onSave:m.noop,margin:"",flexSize:"flex",scrollMargin:64,editorOptions:{}},$setters:{onEdit:function(e){this.onEdit=e},onSave:function(e){this.onSave=e},editorOptions:function(e){this.editorOptions=e},readonly:function(e){var t=this.$ace;t.setOptions({readOnly:e,highlightActiveLine:!e,highlightGutterLine:!e}),t.renderer.$cursorLayer.element.style.opacity=e?0:1}},__init__:function(e){var t=this,n=UI.uid("editorContainer");e.id&&(UI.components[e.id]=t),t.element=t.el=t.container=UI.createElement("DIV",{id:n}),UI.addClass(t.el,"uk-flex-item-1"),t.sessionCache={},t.config=e,t.$ace=ace.edit(t.container),t.$ace.renderer.scrollBarV.width=0,t.init(t.$ace)},__after__:function(e){c.editorComponents.push(this),this.setTabSize(e.tabSize||c.defaultTabSize),this.setMode(e.mode||"javascript"),this.setAutoSave(!0)},init:function(e){var t=this.config.scrollMargin,n={scrollPastEnd:.5,enableLiveAutocompletion:!1,enableBasicAutocompletion:!0,enableSnippets:!1,showPrintMargin:!1,fadeFoldWidgets:!0};ace.require("ace/lib/useragent").isIOS||(n.copyWithEmptySelection=!0),e.setOptions(n),e.$blockScrolling=1/0,e.renderer.setScrollMargin(t,8),this.completionServer=new c.CompletionServer(this),this.indentManager=new c.IndentManager(this),this.hintManager=new c.HintManager(this),this.initSmartEditingSupport(this),this.initKeybindings(this)},initSmartEditingSupport:function(i){i.on("change",function(e){if(!i.$silentChange){try{i.completionServer.doEdit(e),i.onEdit(e)}catch(e){$console.error(e)}i.autoSave&&i.debouncedSave()}}),i.$ace.commands.on("afterExec",function(e){switch(e.command.name){case"startAutocomplete":i.initAutocompleteTokenizer(),i.dispatch("onStartAutocomplete");break;case"backspace":case"insertstring":var t=e.args,n=i.hintManager.isOpened();/^[\w.]$/.test(t)&&"."==t||/^[A-Za-z]$/.test(t)?n||i.debouncedStartAutocomplete():(n||"("===t||","===t)&&i.debouncedShowSignature()}}),i.$ace.onPaste=function(e,t){if(1!==e.length||8232!==e.charCodeAt(0)){var n={text:e,event:t};this.commands.exec("paste",this,n)}},i.$ace.textInput.getElement().setAttribute("autocomplete","off")},initAutocompleteTokenizer:function(){var e=this.$ace;if(!this.tokenizerInitialized&&e&&e.completer){this.tokenizerInitialized=!0;var c=e.completer.getPopup();c.session.bgTokenizer.$tokenizeRow=function(e){var t=c.data[e];if(!t)return[];var n,i,o=[],r=-1;t.kind&&o.push({type:"completion_icon ace-lang-completion-"+t.kind,value:" "});for(var a=0;a<t.label.length;a++)i=t.label[a],r!==(n=t.matchMask&1<<a?1:0)?(o.push({type:n?"completion-highlight":"",value:i}),r=n):o[o.length-1].value+=i;return o}}},initKeybindings:function(t){function e(e,t){return{win:e,mac:t}}t.addCommands([{name:"save",bindKey:e("Ctrl-S","Command-S"),exec:t.onSave},{name:"find_in_file",bindKey:e("Ctrl-Shift-F","Command-Shift-F"),exec:function(){c.Ri(t.getSelectedText())}},{name:"format",bindKey:e("Alt-F","Option-F"),exec:function(){t.indentManager.indent(!0)}},{name:"goToLine",bindKey:e("Ctrl-G","Command-G"),exec:function(){c.prompt.open("Enter line number","",{showInput:!0,onResult:function(e){t.$ace.gotoLine(parseInt(e))}})}}]),c.Ai(t)},debouncedSave:UIkit.Utils.debounce(function(){this.$ace.execCommand("save")},650,!1),debouncedShowSignature:UIkit.Utils.debounce(function(){this.$ace.execCommand("getSignature")},250,!1),debouncedStartAutocomplete:UIkit.Utils.debounce(function(){this.isAutoCompleteOpen()||this.$ace.execCommand("startAutocomplete")},125,!1),isAutoCompleteOpen:function(){var e=this.getAutoCompleter();return e&&e.activated},getAutoCompletePopup:function(){var e=this.getAutoCompleter();return e?e.getPopup():null},getAutoCompleter:function(){return this.$ace.completer},startAutoComplete:function(){this.$ace.execCommand("startAutocomplete"),this.focus(!0)},getCursorElement:function(){return this.container.querySelector(".ace_cursor")},isTextSelected:function(){return 0<this.$ace.getSelectedText().length},clearSelection:function(){this.$ace.selection.clearSelection()},selectWord:function(){this.$ace.selection.selectWord()},selectAll:function(){this.$ace.selection.selectAll()},copyText2:function(){this.isTextSelected()||this.$ace.selection.selectLine(),document.execCommand("copy"),this.copiedText=this.$ace.getSelectedText()},pasteText2:function(){!document.execCommand("paste")&&this.copiedText&&this.$ace.execCommand("paste",this.copiedText)},cutText2:function(){this.copyText2(),this.$ace.execCommand("cut")},getSelectedText:function(){return this.$ace.getSelectedText()},getSelectedTextOrWordAtCursor:function(){var e=this.getSelectedText();return e||(this.$ace.selection.selectWord(),this.getSelectedText())},setScrollMargin:function(e,t){this.$ace.renderer.setScrollMargin(t,e)},setAutoSave:function(e){e=!!e,this.autoSave=e},addCommands:function(e){this.$ace.commands.addCommands(e)},execCommand:function(e,t){this.$ace.execCommand(e,t)},getMode:function(){return this.getSession().$modeId.split("/").pop()||""},setMode:function(e){return this.getSession().setMode("ace/mode/"+e)},getTheme:function(){return(this.$ace.renderer.$themeId||"").split("/").pop()||""},setTheme:function(e){return this.$ace.setTheme("ace/theme/"+e)},setShowGutter:function(e){return this.$ace.renderer.setShowGutter(e)},getShowGutter:function(){return this.$ace.renderer.getShowGutter()},getValue:function(){return this.$ace.getValue()},setValue:function(e,t){t&&(this.$silentChange=!0),this.$ace.setValue(e),t&&(this.$silentChange=!1),this.clearSelection()},isDialogOpened:function(){return!!this.$ace.searchBox&&"none"!=this.$ace.searchBox.element.style.display},insertAutoCompleteMatch:function(){if(this.getAutoCompleter()&&this.isAutoCompleteOpen())return this.getAutoCompleter().insertMatch(),!0},insertTextAtCursor:function(e,t){this.getSession().insert(this.$ace.selection.getCursor(),e),this.moveCursorBy(t.rows,t.chars)},getCursorPosition:function(){return this.$ace.getCursorPosition()},getAllSelectionRanges:function(){return this.$ace.selection.getAllRanges()},setSelectionRanges:function(e){if(0<e.length){this.$ace.selection.setRange(e[0]);for(var t=1;t<e.length;t++)this.$ace.selection.addRange(e[t])}},navigateTo:function(e,t){this.$ace.navigateTo(e,t)},triggerTabPress:function(){if(!this.insertAutoCompleteMatch()){var e=this.getSession(),t=this.getCursorPosition(),n=e.getTokenAt(t.row,t.column);null==n||"."!=n.value&&"identifier"!=n.type?this.$ace.indent():this.startAutoComplete()}},findDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("find")},replaceDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("replace")},moveCursorBy:function(e,t){this.clearSelection(),this.$ace.selection.moveCursorBy(e||0,t||0),this.focus(!0)},moveCursorLeft:function(){this.clearSelection(),this.$ace.selection.moveCursorLeft(),this.focus(!0)},moveCursorRight:function(){this.clearSelection(),this.$ace.selection.moveCursorRight(),this.focus(!0)},autoCompleteNavigateUp:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateUp(),!0},moveCursorUp:function(){this.clearSelection(),this.$ace.selection.moveCursorUp(),this.focus(!0)},autoCompleteNavigateDown:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateDown(),!0},moveCursorDown:function(){this.clearSelection(),this.$ace.selection.moveCursorDown(),this.focus(!0)},scrollToLine:function(e,t,n,i){this.$ace.scrollToLine(e,t,n,i||m.noop)},undo:function(){this.getSession().getUndoManager().undo()},redo:function(){this.getSession().getUndoManager().redo()},resize:function(){this.$ace.resize()},focus:function(e){e&&this.$ace.renderer.scrollCursorIntoView(),this.$ace.focus()},blur:function(){this.$ace.blur()},on:function(e,t){this.$ace.on(e,t)},setFontSize:function(e){m.check(e,String,"size",!0),this.fontSize=e,this.container.style.fontSize=e;var t=this.getAutoCompletePopup();t&&(t.container.style.fontSize=e)},setTabSize:function(e){m.check(e,Number,"size",!0),this.tabSize=e,this.$ace.getSession().setTabSize(e)},getTabSize:function(){return this.$ace.getSession().getTabSize()},getTabString:function(){return this.$ace.getSession().getTabString()},refresh:function(){this.$ace.renderer.updateFull()},getCurrentFilePath:function(){return this.getSession().path},cacheSessionWithPath:function(e){var t=c.$i(e);return this.cacheSessionWithMode(t)},cacheSessionWithMode:function(e){var t=this,n=t.sessionCache[e];return n||(e="@blank"==e?"javascript":e,n=ace.createEditSession("","ace/mode/"+e),t.sessionCache[e]=n,t.hintManager&&(n.on("changeScrollTop",function(){t.hintManager.close()}),n.on("changeScrollLeft",function(){t.hintManager.close()}))),n},saveCurrentSession:function(){var t=this,n=t.getSession();return c.wi(n).then(function(){var e=c.Li(n.fid);e.ranges=t.getAllSelectionRanges(),e.scrollTop=n.getScrollTop(),e.scrollLeft=n.getScrollLeft()},function(){})},openBlankSession:function(){var e=this.cacheSessionWithMode("@blank");return e.setUndoManager(c.$dummyUndoManager),e.setValue("",!0),e.setUndoManager(new ace.UndoManager),c.$dummyUndoManager.reset(),this.setSession(e),e},isCurrentSessionBlank:function(){return!this.getSession().fid},vi:function(i,o){m.check(i,String,"path",!0),m.check(o,String,"fid",!0);var r=this;return r.saveCurrentSession().then(function(){return c.model.q(o)}).then(function(e){return e?"base64"===e.encoding?c.encode.v(c.encode.g(e.text)):e.text:""}).then(function(e){var t=c.Li(o),n=r.cacheSessionWithPath(i);return n.fid=o,n.path=i,n.setUndoManager(c.$dummyUndoManager),n.setValue(e,!0),c.$dummyUndoManager.reset(),void 0!==t.scrollTop&&(n.setScrollTop(t.scrollTop),n.setScrollLeft(t.scrollLeft)),r.setSession(n),n.setUndoManager(t.undoManager),t.ranges&&r.setSelectionRanges(t.ranges),n})},refreshCurrentSession:function(){var t=this,n=t.getSession(),i=t.getAllSelectionRanges(),o=n.getScrollTop(),r=n.getScrollLeft(),a=n.getUndoManager(),e=n?n.fid:null;return e?c.model.q(e).then(function(e){return e?e.text:""}).then(function(e){return n.setUndoManager(c.$dummyUndoManager),n.setValue(e,!0),c.$dummyUndoManager.reset(),n.setScrollTop(o),n.setScrollLeft(r),n.setUndoManager(a),t.setSelectionRanges(i),n}):Promise.resolve(n)},getSession:function(){return this.$ace.getSession()},setSession:function(e){var t=this.editorOptions;function n(e,t){return void 0===e?t:e}e.setUseWorker(n(t.useWorker,c.defaultUseAceWorkers)),e.setUseWrapMode(n(t.wordWrap,c.defaultWordWrap)),this.$ace.setSession(e),this.$ace.resize(),this.setTabSize(this.tabSize||c.defaultTabSize),this.onSetSession&&this.onSetSession(e)},setDisplayIndentGuides:function(e){this.$ace.setOption("displayIndentGuides",e||!1)},getTokenType:function(e){e=e||0;var t=this.getSession(),n=this.getCursorPosition(),i=t.getTokenAt(n.row,n.column+e);i?i.start:n.column;return i?i.type:null}},UI.Dispatcher,UI.PropertySetter)}).__init__(function(i){UI.def({__name__:"touchEditor",$defaults:{flexLayout:"column",margin:"",editor:{view:"editor"},keyboard:!0},__after__:function(e){var t=this;i.touchEditors.push(t);var n=t.$editor=UI.new(e.editor);t.$components.push(n),e.keyboard&&(t.$keyboard=t.addChild(i.keyboardTemplate(n)),t.$keyboard.hideExtraKeys(),t.initKeyboard(n)),UIkit.support.touch?t.touchCursors=new i.TouchCursors(n,n.container):t.contextMenuManager=new i.ContextMenuManager(n),t.element.appendChild(n.container),t.element.appendChild(t.$keyboard.element),t.$editor.addListener("onStartAutocomplete",function(){t.initAutocomplete(n)})},setExtraTouchKeyboard:function(e){this.$keyboard&&(this.$hideExtraTouchKeyboard=!e)},initKeyboard:function(e){var t=this,n=e.$ace;n.on("focus",function(){t.$hideExtraTouchKeyboard||t.$keyboard.showExtraKeys()}),n.on("blur",function(){setTimeout(t.$keyboard.hideExtraKeys,1)})},initAutocomplete:function(e){var o=e.getAutoCompleter();if(!this.touchEnabled&&o){this.touchEnabled=!0;var r=0,a=o.getPopup();a.renderer.$maxLines=window.innerWidth<=480?5:8,a.container.style.fontSize=e.fontSize,a.on("touchmove",function(e){var t=a.getFirstVisibleRow(),n=a.getLastVisibleRow(),i=a.getRow();0==t||n==o.completions.filtered.length-1?(r+=e.wheelY)<-15?(a.setRow(Math.max(i-1,t)),r=0):15<r&&(a.setRow(Math.min(i+1,n)),r=0):i!=t+1&&(r=0,a.setRow(t+1))})}}},UI.definitions.flexgrid)}).def({keyboardTemplate:function(t){var o=UI.uid("dropdown"),e=UI.uid("icon"),n=UI.uid("keys"),i=this;return{flex:!1,device:"touch",flexSize:"none",flexLayout:"column",position:"relative",dropdownId:o,cells:[{id:o,view:"dropdown",css:"x-editor-keyboard-dropdown",style:{position:"absolute",width:"100%"},dropdownAnimation:"slide-bottom",dropdown:{css:"x-editor-options-list",cells:[{view:"list",css:"uk-width-1-2",margin:"left",listStyle:"side",data:[{view:"icon-link",icon:"list",label:"Format",value:"format"},{view:"icon-link",icon:"copy",label:"Copy",value:"copy"},{view:"icon-link",icon:"close",label:"Cut",value:"cut"},{view:"icon-link",icon:"move",label:"Paste",value:"paste"},{view:"icon-link",icon:"reply",label:"Undo",value:"undo"}],on:{onItemClick:function(e){switch(e.value){case"format":t.indentManager.indent(!0);break;case"copy":t.copyText2();break;case"cut":t.cutText2();break;case"paste":t.pasteText2();break;case"undo":t.undo()}}}},{view:"list",css:"uk-width-1-2",margin:"right",listStyle:"side",data:[{view:"icon-link",icon:"search",label:"Find & Replace",value:"find"},{view:"icon-link",icon:"commenting",label:"Definition",value:"goto"},{view:"icon-link",icon:"pencil",label:"Rename...",value:"rename"},{view:"icon-link",icon:"comments",label:"Info",value:"info"},{view:"icon-link",icon:"forward",label:"Redo",value:"redo"}],on:{onItemClick:function(e){switch(e.value){case"find":i.Ri(t.getSelectedTextOrWordAtCursor());break;case"redo":t.redo();break;case"rename":t.execCommand("renameSymbol");break;case"goto":t.execCommand("goToDefinition");break;case"info":t.execCommand("getInfo")}}}}]},on:{onOpen:function(){UI.addClass($$(e).element,"uk-active")},onClose:function(){UI.removeClass($$(e).element,"uk-active")}}},{id:n,css:"x-editor-keyboard",flexSize:"",flexAlign:"middle",flexSpace:"around",cells:[{view:"key-button",label:"{}",pos:"top-left",offset:-4,defaultIndex:0,editorOptions:{editor:t,offset:-1},dropdown:{cells:[{view:"key-option",label:"{}"},{view:"key-option",label:"[]"},{view:"key-option",label:"()"},{view:"key-option",label:"<>"}]}},{view:"key-button",label:"if",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:t},dropdown:{flexLayout:"column",cells:[{cells:[{view:"key-option",label:"=>",value:"=> "},{view:"key-option",label:"sw",value:"switch "},{view:"key-option",label:"case",value:"case "},{view:"key-option",label:"let",value:"let "},{view:"key-option",label:"cons",value:"const "},{view:"key-option",label:"in",value:"in "},{view:"key-option",label:"br",value:"break;"}]},{cells:[{view:"key-option",label:"fn",value:"function "},{view:"key-option",label:"if",value:"if "},{view:"key-option",label:"else",value:"else "},{view:"key-option",label:"var",value:"var "},{view:"key-option",label:"this",value:"this"},{view:"key-option",label:"for",value:"for "},{view:"key-option",label:"ret",value:"return "}]}]}},{view:"key-button",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:t},dropdown:{cells:[{view:"key-option",label:"*"},{view:"key-option",label:"+"},{view:"key-option",label:"="},{view:"key-option",label:"-"},{view:"key-option",label:"/"},{view:"key-option",label:"%"}]}},{view:"key-button",label:";",defaultIndex:3,editorOptions:{editor:t},dropdown:{cells:[{view:"key-option",label:"_"},{view:"key-option",label:"$"},{view:"key-option",label:"!"},{view:"key-option",label:";"},{view:"key-option",label:":"},{view:"key-option",label:"@"},{view:"key-option",label:"#"}]}},{view:"key-button",label:"&&",offset:-21,defaultIndex:3,editorOptions:{editor:t},dropdown:{cells:[{view:"key-option",label:"<="},{view:"key-option",label:"<"},{view:"key-option",label:"||"},{view:"key-option",label:"&&"},{view:"key-option",label:">"},{view:"key-option",label:">="}]}},{view:"key-button",label:".",pos:"top-right",offset:42,defaultIndex:3,editorOptions:{editor:t},dropdown:{cells:[{view:"key-option",label:"\\"},{view:"key-option",label:"/"},{view:"key-option",label:"?:",value:"?  :",offset:-2},{view:"key-option",label:"."},{view:"key-option",label:",",value:", "}]}},{view:"key-button",label:'""',pos:"top-right",offset:4,defaultIndex:2,editorOptions:{editor:t,offset:-1},dropdown:{cells:[{view:"key-option",label:"//"},{view:"key-option",label:"''"},{view:"key-option",label:'""'}]}}]},{css:"x-editor-keyboard",flexAlign:"middle",flexSize:"",flexSpace:"around",cells:[{id:e,view:"menu-icon",icon:"plus",on:{onClick:function(e,t,n){UI.preventEvent(n);var i=$$(o);i&&!i.isOpened()&&setTimeout(function(){i.open(),i.positionNextTo(i.element.parentNode,"top-left",0,0)},250)}}},{view:"menu-icon",icon:"arrow-right",on:{onMouseDown:function(){this.preventClickEvent=t.insertAutoCompleteMatch()},onClick:function(){this.preventClickEvent||t.triggerTabPress(),this.preventClickEvent=!1}}},{view:"menu-icon",icon:"chevron-up",on:{onMouseDown:function(){this.preventClickEvent=t.autoCompleteNavigateUp()},onClick:function(){this.preventClickEvent||t.moveCursorUp(),this.preventClickEvent=!1}}},{view:"menu-icon",icon:"chevron-down",on:{onMouseDown:function(){this.preventClickEvent=t.autoCompleteNavigateDown()},onClick:function(){this.preventClickEvent||t.moveCursorDown(),this.preventClickEvent=!1}}},{view:"menu-icon",icon:"chevron-left",on:{onClick:function(){t.moveCursorLeft()}}},{view:"menu-icon",icon:"chevron-right",on:{onClick:function(){t.moveCursorRight()}}},{view:"menu-icon",icon:"triangle-down"}]}],showExtraKeys:function(){$$(n).show()},hideExtraKeys:function(){$$(n).hide()}}}}),m.module("editor").require("date").__init__(function(e,t){e.date=t.date}).__init__(function(e){e.TouchCursors=function(e,t){var u=e.$ace,n=this;n.editor=e,n.leftCursor=UI.new({css:"x-left-cursor",hidden:!0,position:"absolute"},t),n.rightCursor=UI.new({css:"x-right-cursor",hidden:!0,position:"absolute"},t),n.actionBar=UI.new({css:"x-action-bar",hidden:!0,position:"absolute",cells:[{view:"button",label:"COPY",link:!0,color:"muted",on:{onClick:function(){e.copyText2()}}},{view:"button",label:"CUT",link:!0,color:"muted",on:{onClick:function(){e.cutText2()}}},{view:"button",label:"PASTE",link:!0,color:"muted",on:{onClick:function(){e.pasteText2()}}}]},t),n.rightCursor.element.addEventListener("touchmove",function(e){UI.preventEvent(e);var t=e.changedTouches[0];if(t){for(var n=u.renderer.$cursorLayer.element.getBoundingClientRect(),i=u.renderer.$cursorLayer.config.offset,o=u.selection.getRange(),r=u.session.getLength(),a=o.start.row;a<r;a++){if(u.renderer.$cursorLayer.getPixelPosition({row:a+2,column:0},!0).top+n.top-i>t.clientY)break}o.end.row=a;for(var c=u.session.getLine(a).length,s=o.start.row==a?o.start.column+1:0;s<c;s++){if(u.renderer.$cursorLayer.getPixelPosition({row:a,column:s},!0).left+n.left+24>t.clientX)break}o.end.column=s,u.selection.setRange(o),u.renderer.scrollSelectionIntoView()}}),n.leftCursor.element.addEventListener("touchmove",function(e){UI.preventEvent(e);var t=e.changedTouches[0];if(t){for(var n=u.renderer.$cursorLayer.element.getBoundingClientRect(),i=u.renderer.$cursorLayer.config.offset,o=u.selection.getRange(),r=o.end.row;0<=r;r--){if(u.renderer.$cursorLayer.getPixelPosition({row:r+3,column:0},!0).top+n.top-i<t.clientY)break}o.start.row=r;for(var a=o.end.row==r?o.end.column-1:u.session.getLine(r).length,c=0;c<a;c++){if(u.renderer.$cursorLayer.getPixelPosition({row:r,column:c},!0).left+n.left>t.clientX)break}o.start.column=c,u.selection.setRange(o),u.renderer.scrollSelectionIntoView()}}),u.renderer.on("afterRender",n.updateTextSelectionCursors.bind(n));var i=null;function o(e,t){t||UI.preventEvent(e),null!==i&&(clearTimeout(i),i=null)}t.addEventListener("touchstart",function(e){if(null===i){var t=e.changedTouches[0],n=u.renderer.pixelToScreenCoordinates(t.clientX,t.clientY);i=setTimeout(function(){i=null,u.selection.clearSelection(),u.selection.moveCursorToScreen(n.row,n.column),u.selection.selectWord()},650)}}),n.leftCursor.element.addEventListener("touchstart",o),n.rightCursor.element.addEventListener("touchstart",o),t.addEventListener("touchmove",o),t.addEventListener("touchend",function(e){o(e,!0)}),t.addEventListener("contextmenu",UI.preventEvent)},e.TouchCursors.prototype={updateTextSelectionCursors:function(){var e=this.leftCursor,t=this.rightCursor,n=this.actionBar,i=this.editor.$ace,o=i.getSelectedText();if(o&&0<o.length){var r=i.selection.getRange(),a=i.renderer,c=a.gutterWidth,s=a.$cursorLayer.config.offset,u=a.$textLayer.$fontMetrics.$characterSize.height,l=a.$cursorLayer.getPixelPosition(r.start,!0),h=a.$cursorLayer.getPixelPosition(r.end,!0),f=l.top+u-s,d=h.top+u-s;e.show(),e.element.style.left=l.left-24+c+"px",e.element.style.top=f+"px",t.show(),t.element.style.left=h.left+c+"px",t.element.style.top=d+"px",n.show();var p=n.element.getBoundingClientRect(),m=(l.left+c)/2+(h.left+c)/2-p.width/2;m=(m=m<8?8:m)+p.width>a.$size.width-8?a.$size.width-8-p.width:m,n.element.style.left=m+"px",n.element.style.top=(f<100?d+32:f-u-p.height-16)+"px"}else t.hide(),e.hide(),n.hide()}}}).__init__(function(p){var t=ace.require("ace/lib/event");t.addTouchMoveListener=function(e,a){if("ontouchmove"in e){var c,s,u,l,h,r,f=325;function d(){var e,t,n,i,o;(u||l)&&(e=(o=p.date.we())-r,t=.001*(o-h),h=o,i=l*t*Math.exp(-e/f),n=u*t*Math.exp(-e/f),(1<Math.abs(i)||1<Math.abs(n))&&(a({wheelX:n,wheelY:i,timeStamp:o}),requestAnimationFrame(d)))}t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];c=t.clientX,s=t.clientY,h=p.date.we(),u=l=0}),t.addListener(e,"touchmove",function(e){var t=e.changedTouches[0],n=e.wheelX=-(t.clientX-c),i=e.wheelY=-(t.clientY-s),o=p.date.we(),r=.001*(o-h);u=.2*u+n/r*.8,l=.2*l+i/r*.8,c=t.clientX,s=t.clientY,h=o,a(e)}),t.addListener(e,"touchend",function(){(10<Math.abs(u)||10<Math.abs(l))&&(h=r=p.date.we(),u*=.8,l*=.8,requestAnimationFrame(d))})}}}),m.module("menu").require("session").__init__(function(e,t){e.session=t.session,e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler),e.animateTransition=!1}).def({Ot:function(e,t){var n=this.animateTransition;t?this.switcher().switchToTab("files",n):this.switcher().switchToTab("projects",n),this.animateTransition=!0},list:function(){return $$("menuSwitcherList")},switcher:function(){return $$("menuSwitcher")}}),m.module("menu").require("main").require("settings").require("files").require("search").require("projects").require("spacer").__init__(function(o,e){var t=e.files,n=e.projects;o.view=UI.new({id:"menuSwitcher",flexLayout:"column",css:["uk-offcanvas-bar","uk-overflow-hidden"],style:{minWidth:"300px"},switchers:[{connect:"#menuSwitcherContainer",swiping:!1}],cells:[{id:"menuSwitcherList",view:"list",css:"x-bar",listStyle:"tab",itemTagClass:"x-tab",flexSpace:"between",style:{zIndex:20,height:"45px"},data:[{id:"menuProjectsTab",view:"menu-icon",icon:"album",index:0,value:"projects",tooltip:"Projects"},{id:"menuFilesTab",view:"menu-icon",icon:"folder",index:1,value:"files",tooltip:"Files"},{id:"menuSearchTab",view:"menu-icon",icon:"search",index:2,value:"search",tooltip:"Search"},{id:"menuSettingsTab",view:"menu-icon",icon:"cog",value:"settings",tooltip:"Settings",index:3}],on:{onItemClick:function(e){o.switcher().switchToTab(e.value,!0)}}},{id:"menuSwitcherContainer",view:"list",css:["uk-switcher","x-bar-main"],itemTagClass:"uk-width-1-1 uk-height-1-1",data:[n.template,t.template,e.search.template,e.settings.template]}],switchToTab:function(t,n){var e=o.list(),i=e.data.filter(function(e){return e.value==t})[0];i&&(e.deselectAll(),e.select(i),this.$switchers.forEach(function(e){e.animating=!1}),this.$switchers.forEach(function(e){e.show(i.index,!!n)}))},on:{onInitialized:function(){var n=o.list();this.$switchers=this.switchers.map(function(e){var t=function(e){for(var t=document.createElement("DIV"),n=0;n<e;n++)t.appendChild(document.createElement("DIV"));return t}(n.data.length);return UIkit.switcher(t,e)})}}},document.getElementById("menuContainer"))}),m.module("preview").require("model").require("path").require("session").require("history").require("observer").require("messages").__init__(function(e,t){e.model=t.model,e.path=t.path,e.session=t.session,e.history=t.history,e.observer=t.observer,e.messages=t.messages,e.historyTracker=new e.history.HistoryTracker,e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler),e.observer.Gt(e.observer.ChangeTypes.ALL,e.observer.ExtensionFilters.HTML,e.qi.bind(e)),e.Vn()}).def({Ot:function(){this.Vn()},onHidePreviewContainer:m.noop,Vn:function(){this.historyTracker.reset()},fileSelect:function(){return $$("previewFileSelect")},iframe:function(){return $$("preview")},backButton:function(){return $$("previewBackIcon")},forwardButton:function(){return $$("previewForwardIcon")},Yi:function(e){this.useLiveMode=e},ti:function(e){var t=this,n=t.path.de(t.fileSelect().getValue()),i=t.session.Jt(),o=window.$embedMode?"/run-"+i:"/run",r=t.path._n(o,n);$$("previewOpenInBrowserIcon").setHref(r),t.iframe().setSrc(r,e),window.focus()},qi:function(){var t=this,e=t.session.Xt();return(e?t.model.le(e):Promise.resolve([])).then(t.path.Mt(".html")).then(function(e){t.fileSelect().setFilesData(e)})}}),m.module("preview").require("file-select").__new__(function(i){i.template={id:i.__name__,flexLayout:"column",style:{width:"100%",maxWidth:"768px"},css:["uk-offcanvas-bar","uk-offcanvas-bar-flip"],cells:[{id:"previewActionBar",css:["uk-form","x-bar"],flexAlign:"middle",flexSize:"none",cells:[{id:"previewBackIcon",view:"menu-icon",tooltip:"Back",icon:"chevron-left",margin:"left-mi",disabled:!0,on:{onClick:function(){i.iframe().back()}}},{id:"previewForwardIcon",view:"menu-icon",icon:"chevron-right",tooltip:"Forward",disabled:!0,on:{onClick:function(){i.iframe().forward()}}},{id:"previewRefreshIcon",view:"menu-icon",icon:"refresh",tooltip:"Refresh",on:{onClick:function(){i.iframe().refresh()}}},{id:"previewFileSelect",view:"file-select",margin:"x-sm",style:{width:"100%"},on:{onChange:function(){i.ti()}}},{id:"previewOpenInBrowserIcon",view:"menu-icon",icon:"forward",tooltip:"Open in new window",setHref:function(e){this.element.setAttribute("target","_blank"),this.element.setAttribute("href",e)}},{id:"previewHideIcon",view:"menu-icon",icon:"close",tooltip:"Hide",margin:"right-mi",on:{onClick:function(){i.onHidePreviewContainer()}}}]},{id:"preview",fill:"screen",htmlTag:"IFRAME",style:{background:"white"},refresh:function(){i.ti(!0)},forward:function(){i.historyTracker.redo(!0),this.Jn(),this.setSrc(i.historyTracker.current,!0)},back:function(){i.historyTracker.undo(!0),this.Jn(),this.setSrc(i.historyTracker.current,!0)},Jn:function(){i.historyTracker.canUndo()?i.backButton().enable():i.backButton().disable(),i.historyTracker.canRedo()?i.forwardButton().enable():i.forwardButton().disable()},getSrc:function(){return i.historyTracker.current},setSrc:function(e,t){if(e){t||(i.historyTracker.push(e),this.Jn());var n=this.element;n.contentWindow&&null!=n.contentWindow.location?n.contentWindow.location=e:n.setAttribute("src",e)}}}]}}),m.module("project").__new__(function(e){e.viewBox={javascript:"0 0 128 128",html:"0 0 128 128",css:"0 0 128 128",vue:"0 0 128 128",angularjs:"0 0 128 128",angular:"0 0 250 250",backbone:"0 0 128 128",d3:"0 0 128 128",react:"0 0 128 128",jquery:"0 0 128 128",framework7:"0 0 128 128",bootstrap:"0 0 128 128",mdl:"0 0 24 24",uikit:"0 0 200 200"},e.svg={javascript:'<path fill="#F0DB4F" d="M1.408 1.408h125.184v125.185h-125.184z"></path><path fill="#323330" d="M116.347 96.736c-.917-5.711-4.641-10.508-15.672-14.981-3.832-1.761-8.104-3.022-9.377-5.926-.452-1.69-.512-2.642-.226-3.665.821-3.32 4.784-4.355 7.925-3.403 2.023.678 3.938 2.237 5.093 4.724 5.402-3.498 5.391-3.475 9.163-5.879-1.381-2.141-2.118-3.129-3.022-4.045-3.249-3.629-7.676-5.498-14.756-5.355l-3.688.477c-3.534.893-6.902 2.748-8.877 5.235-5.926 6.724-4.236 18.492 2.975 23.335 7.104 5.332 17.54 6.545 18.873 11.531 1.297 6.104-4.486 8.08-10.234 7.378-4.236-.881-6.592-3.034-9.139-6.949-4.688 2.713-4.688 2.713-9.508 5.485 1.143 2.499 2.344 3.63 4.26 5.795 9.068 9.198 31.76 8.746 35.83-5.176.165-.478 1.261-3.666.38-8.581zm-46.885-37.793h-11.709l-.048 30.272c0 6.438.333 12.34-.714 14.149-1.713 3.558-6.152 3.117-8.175 2.427-2.059-1.012-3.106-2.451-4.319-4.485-.333-.584-.583-1.036-.667-1.071l-9.52 5.83c1.583 3.249 3.915 6.069 6.902 7.901 4.462 2.678 10.459 3.499 16.731 2.059 4.082-1.189 7.604-3.652 9.448-7.401 2.666-4.915 2.094-10.864 2.07-17.444.06-10.735.001-21.468.001-32.237z"></path>',html:'<path fill="#E44D26" d="M19.037 113.876l-10.005-112.215h109.936l-10.016 112.198-45.019 12.48z"></path><path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878h-44.937z"></path><path fill="#EBEBEB" d="M64 52.455h-18.212l-1.258-14.094h19.47v-13.762h-34.511l.33 3.692 3.382 37.927h30.799zM64 88.198l-.061.017-15.327-4.14-.979-10.975h-13.817l1.928 21.609 28.193 7.826.063-.017z"></path><path fill="#fff" d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zM63.952 24.599v13.762h33.244l.276-3.092.628-6.978.329-3.692z"></path>',css:'<path fill="#1572B6" d="M18.814 114.123l-10.054-112.771h110.48l-10.064 112.754-45.243 12.543-45.119-12.526z"></path><path fill="#33A9DC" d="M64.001 117.062l36.559-10.136 8.601-96.354h-45.16v106.49z"></path><path fill="#fff" d="M64.001 51.429h18.302l1.264-14.163h-19.566v-13.831h34.681999999999995l-.332 3.711-3.4 38.114h-30.95v-13.831z"></path><path fill="#EBEBEB" d="M64.083 87.349l-.061.018-15.403-4.159-.985-11.031h-13.882l1.937 21.717 28.331 7.863.063-.018v-14.39z"></path><path fill="#fff" d="M81.127 64.675l-1.666 18.522-15.426 4.164v14.39l28.354-7.858.208-2.337 2.406-26.881h-13.876z"></path><path fill="#EBEBEB" d="M64.048 23.435v13.831000000000001h-33.407999999999994l-.277-3.108-.63-7.012-.331-3.711h34.646zM64.001 51.431v13.831000000000001h-15.209l-.277-3.108-.631-7.012-.33-3.711h16.447z"></path>',angularjs:'<path fill="#B3B3B3" d="M63.81 1.026l-59.257 20.854 9.363 77.637 49.957 27.457 50.214-27.828 9.36-77.635z"></path><path fill="#A6120D" d="M117.536 25.998l-53.864-18.369v112.785l45.141-24.983z"></path><path fill="#DD1B16" d="M11.201 26.329l8.026 69.434 44.444 24.651v-112.787z"></path><path fill="#F2F2F2" d="M78.499 67.67l-14.827 6.934h-15.628l-7.347 18.374-13.663.254 36.638-81.508 14.827 55.946zm-1.434-3.491l-13.295-26.321-10.906 25.868h10.807l13.394.453z"></path><path fill="#B3B3B3" d="M63.671 11.724l.098 26.134 12.375 25.888h-12.446l-.027 10.841 17.209.017 8.042 18.63 13.074.242z"></path>',angular:'<g><polygon fill="#DD0031" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2"/><polygon fill="#C3002F" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30"/><path fill="#FFFFFF" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1   L125,52.1z M142,135.4H108l17-40.9L142,135.4z"/></g>',d3:'<path fill="#f69b44" d="M118.16 63.966c5.223-6.256 8.368-14.217 8.368-22.98C126.528 21.097 110.352 5 90.464 5H47.986c10.375 7 18.966 16 24.82 26h17.658c5.55 0 10.064 4.45 10.064 10s-4.515 10-10.064 10H80.047c.82 5 1.26 8.62 1.26 13.098 0 4.41-.433 8.902-1.224 12.902h10.382c5.55 0 10.064 4.95 10.064 10.5S96.013 98 90.464 98H72.92c-1.315 2-2.79 4.74-4.38 6.98C63.137 112.59 56.253 119 48.29 124H90.463c19.335 0 35.16-15.746 36.024-34.876-.017.31-.043.39-.066.698.062-.848.107-1.813.107-2.678-.002-8.766-3.148-16.92-8.37-23.178z"/><path fill="#f69b44" d="M61.03 97.543l.003-.18c.07-.1.138-.292.207-.39.077-.118.152-.275.228-.392.002-.002 0-.03.003-.034 6.14-9.33 9.727-20.41 9.727-32.39C71.197 31.5 44.624 5 11.962 5H1v26h10.962c18.32 0 33.23 14.823 33.23 33.144 0 4.984-1.113 9.675-3.088 13.924-.006.013-.013.36-.02.374C36.79 89.782 25.283 98 11.963 98H1v26h10.962c20.396 0 38.41-10.722 49.068-26.457z"/>',react:'<path fill="#53c1de" d="M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3-12.5 4.8-19.3 11.4-19.3 18.8s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zm-14.8-30.5c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zm-11.2 59.3c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zm-25.6 27.1c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zm25.6-27.1c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zm-54.5-16.2c-1.7-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zm-24.7 29c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5-13.8-4-22.1-10-22.1-15.6zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zm60.8-20.3c1.7 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"></path>',vue:'<path d="m-2.3125e-8 8.9337 49.854 0.1586 14.167 24.47 14.432-24.47 49.547-0.1577-63.834 110.14zm126.98 0.6374-24.36 0.0207-38.476 66.052-38.453-66.052-24.749-0.0194 63.211 107.89zm-25.149-0.008-22.745 0.16758l-15.053 24.647-14.817-24.647-22.794-0.1679 37.731 64.476zM25.997 9.3929l23.002 0.0087M25.997 9.3929l23.002 0.0087" fill="none"></path><path d="m25.997 9.3929 23.002 0.0087l15.036 24.958 14.983-24.956 22.982-0.0057-37.85 65.655z" fill="#35495e"></path><path d="m0.91068 9.5686 25.066-0.1711 38.151 65.658 37.852-65.654 25.11 0.0263-62.966 108.06z" fill="#41b883"></path></svg>',bootstrap:'<path fill="#7d4dc6" d="M75.701 65.603c-2.334-.768-5.694-.603-10.08-.603h-17.621v23h18.844c2.944 0 5.012-.315 6.203-.535 2.099-.376 3.854-1.104 5.264-1.982 1.409-.876 2.568-2.205 3.478-3.881.908-1.676 1.363-3.637 1.363-5.83 0-2.568-.658-4.54-1.975-6.436-1.316-1.896-3.141-2.965-5.476-3.733zM73.282 55.087c2.317-.688 4.064-1.89 5.239-3.487 1.176-1.598 1.763-3.631 1.763-6.044 0-2.286-.549-4.314-1.646-6.054s-2.662-2.413-4.699-3.056c-2.037-.641-5.53-.446-10.48-.446h-15.459v20h16.587c4.042 0 6.939-.38 8.695-.913zM126 18.625c0-9.182-7.443-16.625-16.625-16.625h-91.75c-9.182 0-16.625 7.443-16.625 16.625v91.75c0 9.182 7.443 16.625 16.625 16.625h91.75c9.182 0 16.625-7.443 16.625-16.625v-91.75zm-35.447 66.12c-1.362 2.773-3.047 4.911-5.052 6.415-2.006 1.504-4.521 2.78-7.544 3.548-3.022.769-6.728 1.292-11.113 1.292h-27.844v-69h27.42c5.264 0 9.485.609 12.665 2.002 3.181 1.395 5.671 3.497 7.474 6.395 1.801 2.898 2.702 5.907 2.702 9.071 0 2.945-.8 5.708-2.397 8.308-1.598 2.602-4.011 4.694-7.237 6.292 4.166 1.222 7.37 3.304 9.61 6.248 2.24 2.945 3.36 6.422 3.36 10.432 0 3.227-.681 6.225-2.044 8.997z"></path>',framework7:'<circle cx="64" cy="64" fill="#eb562e" r="63"/><path d="m 26.652,91.473 0,-51.539 34.769,0 0,6.082 -27.949,0 0,15.961 24.187,0 0,6.082 -24.187,0 0,23.414 -6.820,0" fill="#ffffff" /><path d="m 68.171,46.684 0,-6.082 33.363,0 0,4.922 c -3.281,3.492 -6.539,8.133 -9.773,13.922 -3.211,5.789 -5.695,11.742 -7.453,17.859 -1.266,4.312 -2.074,9.03516 -2.426,14.168 l -6.50391,0 c 0.0703,-4.05469 0.86718,-8.95312 2.39063,-14.69531 1.52342,-5.74217 3.7031,-11.27342 6.53906,-16.59375 2.85935,-5.34372 5.8945,-9.84371 9.10547,-13.5 l -25.24219,0" fill="#ffffff" />',mdl:'<circle cx="12" cy="12" fill="#757575" r="12"/><path d="m3.6 3.6h16.8v16.8h-16.8z" fill="#bdbdbd"/><path d="m20.4 3.6-8.4 16.8-8.4-16.8z" fill="#fff"/><path d="m0 0h24v24h-24z" fill="none"/>',uikit:'<path fill="#58BBE5" d="M136.167,42.291L108.47,59.07l31.695,18.186v47.708l-42.639,23.861l-41.864-23.858V87.989L27.91,73.733    v67.735l68.604,40.44l71.403-40.44V60.56L136.167,42.291z M123.344,35.611l-26.83-15.52L68.532,37.404l27.191,14.958    L123.344,35.611z"/>'}}),m.module("project").require("model").require("prompt").require("path").require("set").require("date").require("templates").require("messages").require("session").__init__(function(e,t){e.model=t.model,e.prompt=t.prompt,e.main=t.main,e.messages=t.messages,e.templates=t.templates,e.projects=t.projects,e.files=t.files,e.path=t.path,e.set=t.set,e.date=t.date,e.session=t.session}).def({switcher:function(){return $$("projectTabList")},nameInput:function(){return $$("projectNameInput")},createButton:function(){return $$("projectCreateButton")},xi:function(e,t,n){var o=this,i=o.projects,r=o.templates.frameworks.js[t]||{},a=o.templates.frameworks.css[n]||{},c=o.date.we(),s={name:e,createdAt:c,modifiedAt:c},u=a.templates||r.templates||[],l=a.defaultFile||r.defaultFile;return o.model.Fe(s).then(function(){return Promise.all([o.templates.dn(r),o.templates.dn(a)])}).then(function(e){var t=e[0],n=e[1];n.scripts=o.set.In(n.scripts,t.scripts),t.links=o.set.In(t.links,n.links);var i={js:t,css:n,files:u,stylesheets:u.filter(function(e){return e.stylesheet}),heading:(r.name||"")+(a.name?" + "+a.name:""),text:o.templates.fn(),cls:a.classes||{}};return Promise.all(u.map(function(n){return o.templates.hn(n.src).then(function(e){var t=o.templates.sn(e(i),o.path.o(n.path),o.main.editor().getTabString());return o.files.ci(o.path._n(s.pid,n.path),t)})}))}).then(function(){if(l){var e=o.path._n(s.pid,l);return o.model.ze(e).then(function(e){return o.session.nt(s.pid,{file:{path:e.path}})}).catch(function(){o.messages.Bt("editorFileMissing")})}}).then(function(){return i.Ji(s.pid)},function(){return o.messages.Bt("loadTemplateError"),i.Te(s)}).then(i.Qi.bind(i))}}),m.module("project").require("spacer").__init__(function(i){i.modal=UI.new({id:i.__name__,view:"modal",closeButton:!1,dialogClass:"uk-overflow-hidden",dialogStyle:["full","large","blank"],header:{flexSize:"none",css:"x-bar",flexAlign:"middle",cells:[{id:"projectBackButton",view:"menu-icon",icon:"chevron-left",on:{onClick:function(){var e=i.switcher();e.selectedCssFrameworkItem?e.setJsFrameworkItem(e.selectedJsFrameworkItem):e.selectedJsFrameworkItem?e.navigateToStart(!0):i.modal.close()}}},{id:"projectTitleSwitcherContainer",view:"list",css:"uk-switcher",data:[{view:"label",css:"title",htmlTag:"H4",label:"Javascript Framework"},{view:"label",css:"title",htmlTag:"H4",label:"Styling Framework"},{view:"label",css:"title",htmlTag:"H4",label:"Add Project"}]},{id:"projectCreateButton",view:"button",link:!0,label:"CREATE",style:{marginLeft:"auto"},on:{onClick:function(){var e=i.switcher();i.xi(i.nameInput().getValue(),e.selectedJsFrameworkItem.value,e.selectedCssFrameworkItem.value),i.nameInput().reset(),i.modal.close()}}}]},body:{view:"scroller",flexLayout:"column",cells:[{id:"projectTabList",view:"list",flexSize:"none",hidden:!0,listStyle:"breadcrumb",switcherOptions:{connect:"#projectTypeSwitcherContainer, #projectTitleSwitcherContainer",animation:"slide-horizontal",swiping:!1},data:[{},{},{}],on:{onInitialized:function(){UI.delay(function(){this._switcher=UIkit.switcher(this.element,this.switcherOptions)},this,null)}},setJsFrameworkItem:function(e){this.selectedJsFrameworkItem=e,this.selectedCssFrameworkItem=null,this._switcher.show(1,!0),i.nameInput().setValue(e.title+" Seed"),i.createButton().hide()},setCssFrameworkItem:function(e){var t=this.selectedJsFrameworkItem;this.selectedCssFrameworkItem=e,this._switcher.show(2,!0),$$("projectConfirmList").setData([{htmlTag:"DIV",view:"card",title:t.title,svg:t.svg,viewBox:t.viewBox,accessoryIcon:""},{htmlTag:"DIV",view:"card",title:e.title,svg:e.svg,viewBox:e.viewBox,accessoryIcon:""}]),i.createButton().show(),setTimeout(function(){i.nameInput().getFormControl().focus()},250)},navigateToStart:function(e){this.selectedJsFrameworkItem=null,this.selectedCssFrameworkItem=null,this._switcher.show(0,!!e),i.createButton().hide()}},{flexSize:"flex",template:{id:"projectTypeSwitcherContainer",view:"list",css:"uk-switcher",data:[i.Xi(),i.Zi(),{view:"flexgrid",margin:"x y",flexLayout:"column",cells:[{template:'<span class="uk-h6">Name</span>',selectable:!1},{id:"projectNameInput",view:"input",css:"x-input",margin:"top bottom-lg",on:{onKeyUp:function(e,t,n){"Enter"===n.key&&i.createButton().dispatch("onClick")}}},{template:'<span class="uk-h6">Packages</span>',margin:"bottom",selectable:!1},i.eo("projectConfirmList",[])]}]}}]},on:{onOpened:function(){i.switcher().navigateToStart()}}},document.getElementById("mainContainer"))}).def({eo:function(e,t,n){return{id:e,view:"list",listStyle:"side line",css:"uk-padding-remove",data:t,on:n}},Xi:function(){var n=this,i=n.templates.frameworks.js;return n.eo("projectAppList",[{view:"card",title:"No Framework",label:"Work with a clean slate.",svg:n.svg.javascript,viewBox:n.viewBox.javascript}].concat(Object.keys(i).sort().map(function(e){var t=i[e];return{view:"card",value:e,title:t.name,label:t.info,svg:n.svg[e],viewBox:n.viewBox[e]}})).concat([{view:"spacer",height:"128px"}]),{onItemClick:function(e){n.switcher().setJsFrameworkItem(e)}})},Zi:function(){var n=this,i=n.templates.frameworks.css;return n.eo("projectStyleList",[{view:"card",title:"No Framework",label:"Work on a clean canvas.",value:"",svg:n.svg.css,viewBox:n.viewBox.css}].concat(Object.keys(i).sort().map(function(e){var t=i[e];return{view:"card",value:e,title:t.name,label:t.info,svg:n.svg[e],viewBox:n.viewBox[e]}})).concat([{view:"spacer",height:"100px"}]),{onItemClick:function(e){n.switcher().setCssFrameworkItem(e)}})}}),m.module("viewer").require("model").require("path").require("dataUrl").require("mime").require("encode").__init__(function(e,t){e.model=t.model,e.path=t.path,e.dataUrl=t.dataUrl,e.mime=t.mime,e.encode=t.encode;var n=e.to.bind(e),i=e.no.bind(e);e.extMap={".svg":n,".jpe":n,".jpg":n,".jpeg":n,".png":n,".gif":n,".bmp":n,".woff":i,".woff2":i,".eot":i,".otf":i,".ttf":i},e.styleContainer=document.createElement("style"),document.head.appendChild(e.styleContainer)}).def({view:function(){return $$("viewer")},pi:function(e){return!!this.extMap[e]},vi:function(n,e){var i=this,o=i.path.o(n),r=i.extMap[o];return r?i.model.q(e).then(function(e){var t=e&&e.text?e.text:"";".svg"==o?r(i.dataUrl.e(i.mime.MimeTypes.svg,t)):i.encode.k(t)?r(i.dataUrl.i(t,n)):i.io()}):(i.io(),Promise.resolve())},to:function(e){this.view().showBatch("image"),$$("viewerImage").set("src",e)},no:function(e){var t=this;t.styleContainer.firstChild&&t.styleContainer.removeChild(t.styleContainer.firstChild),t.styleContainer.appendChild(document.createTextNode(UI.interpolate("@font-face {font-family: 'CustomV Font'; src: url('{{url}}');}",{url:e}))),t.view().showBatch("font"),$$("viewerFont").element.style.fontFamily="CustomV Font"},io:function(){this.view().showBatch("invalid")}}),m.module("viewer").__init__(function(e){e.template={id:e.__name__,view:"scroller",batch:e.__name__,singleView:!0,style:{paddingTop:"48px"},cells:[{batch:"image",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{id:"viewerImage",view:"image",valign:"middle"}},{id:"viewerFont",batch:"font",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{valign:"middle",style:{fontSize:"32px",lineHeight:"36px"},template:"<p>A B C D E F</p><p>G H I J K L M</p><p>N O P Q R S</p><p>T U V W X Y Z</p><p>a b c d e f</p><p>g h i j k l m</p><p>n o p q r s</p><p>t u v w x y z</p><p>1 2 3 4 5</p><p>6 7 8 9 0</p>"}},{batch:"invalid",flex:!0,flexSize:"flex",flexAlign:"middle center",template:"<h4>File data is corrupt.</h4>"}]}}),m.module("addGitToken").require("git").__init__(function(e,t){e.git=t.git}).def({tokenInput:function(){return $$("addGitTokenInput")},authorNameInput:function(){return $$("addGitAuthorNameInput")},authorEmailInput:function(){return $$("addGitAuthorEmailInput")},oo:function(e){this.modal.open({onResult:e})},ro:function(){localStorage.gitToken=this.tokenInput().getValue(),localStorage.gitAuthorName=this.authorNameInput().getValue(),localStorage.gitAuthorEmail=this.authorEmailInput().getValue()}}),m.module("addGitToken").require("input-field").__init__(function(i){i.modal=UI.new({id:i.__name__,view:"modal",closeButton:!1,center:!1,body:{flexLayout:"column",cells:[{htmlTag:"H4",template:"Add Github Token",margin:"bottom-sm",selectable:!1},{htmlTag:"SPAN",template:'Create a personal token <a href="https://github.com/settings/tokens" target="_blank">here.</a>',on:{onInitialized:function(){UI.setAttributes(this.el,{tabindex:"-1"})}}},{id:"addGitTokenInput",view:"input-field",placeholder:"Git Token",on:{onKeyUp:function(e,t,n){"Enter"==n.key&&this.getValue()&&i.authorNameInput().focus()}}},{id:"addGitAuthorNameInput",view:"input-field",placeholder:"Author Name (Recommended)",on:{onKeyUp:function(e,t,n){"Enter"==n.key&&i.authorEmailInput().focus()}}},{id:"addGitAuthorEmailInput",view:"input-field",placeholder:"Author Email",on:{onKeyUp:function(e,t,n){"Enter"==n.key&&(i.ro(),i.modal.close())}}}]},footer:{flexAlign:"right",margin:"top",cells:[{id:"addGitTokenCancelButton",view:"button",link:!0,label:"CANCEL",on:{onClick:function(){i.modal.close()}}},{id:"addGitTokenOkButton",view:"button",link:!0,label:"OK",style:{minWidth:"64px"},on:{onClick:function(){i.ro(),i.modal.close(),i.onModalResult&&i.onModalResult({token:i.git.S(),author:{name:i.git.F(),email:i.git.I(),date:i.git.P()}})}}}]},on:{onOpened:function(e){i.tokenInput().setValue(i.git.S()),i.authorNameInput().setValue(i.git.F()),i.authorEmailInput().setValue(i.git.I()),i.onModalResult=e&&e.onResult}}},document.getElementById("mainContainer"))}),m.module("mountRepo").require("pullRepo").require("addGitToken").require("input-field").__init__(function(e,t){e.pullRepo=t.pullRepo,e.projects=t.projects,e.addGitToken=t.addGitToken}).__init__(function(i){i.modal=UI.new({id:i.__name__,view:"modal",closeButton:!1,center:!1,body:{flexLayout:"column",cells:[{htmlTag:"H4",template:"Mount Git Repo",margin:"bottom-sm",selectable:!1},{view:"link",htmlTag:"SPAN",template:"Add a <a>personal token</a> to increase Github rate limits.",on:{onClick:function(e,t,n){"A"===n.target.tagName&&(i.modal.close(),i.addGitToken.oo())}}},{id:"mountRepoUrlInput",view:"input-field",placeholder:"Paste a Github URL",on:{onKeyUp:function(e,t,n){this.validate(function(){"Enter"==n.key&&$$("mountRepoOkButton").dispatch("onClick")})}},normalizeHost:function(e){if(!e)return e;var t=e.match(/git@([A-Za-z0-9\.\-]+):/);return t?"https://"+t[1]+"/":e},normalizeRepo:function(e){var t=e.length-4;return".git"===e.slice(t).toLowerCase()?e.slice(0,t):e},matchUrlPattern:function(e){var t=new RegExp("(https://github.com/|git@github.com:)?([\\w_\\.\\-]+)/([\\w_\\.\\-]+)"),n=e.match(t);return n?{host:this.normalizeHost(n[1]),userOrg:n[2],repoName:this.normalizeRepo(n[3])}:null},validate:function(e){var t=this,n=t.getValue(),i=t.matchUrlPattern(n);n?i?(t.raiseConcern(null),e&&e(i)):t.raiseConcern("Url not recognized, please enter a valid github url."):t.raiseConcern(null)}}]},footer:{flexAlign:"right",margin:"top",cells:[{id:"mountRepoCancelButton",view:"button",link:!0,label:"CANCEL",on:{onClick:function(){i.modal.close()}}},{id:"mountRepoOkButton",view:"button",link:!0,label:"OK",style:{minWidth:"64px"},on:{onClick:function(){$$("mountRepoUrlInput").validate(function(e){i.modal.close(),i.pullRepo.ao(e.userOrg+"/"+e.repoName).then(function(){i.projects.Qi()})})}}}]}},document.getElementById("mainContainer"))}),m.module("pullRepo").require("git").require("model").require("progress").require("prompt").require("session").require("path").require("messages").__init__(function(e,t){e.git=t.git,e.model=t.model,e.progress=t.progress,e.prompt=t.prompt,e.session=t.session,e.path=t.path,e.messages=t.messages}).def({ao:function(e){var n,i=this;i.git.C(e);return i.model.Be(e).then(function(){return Promise.reject({message:"Repo already mounted."})},function(){return n={name:e,repo:e,creating:!0},i.model.Fe(n)}).then(function(){return i.co(n,n.ref,!0)}).then(function(){return i.model.N(n.pid,{creating:void 0})},function(e){m.log(e);var t=e&&e.message||"Could not find repository.";if(i.prompt.open(t,"",{hideCancel:!0}),n&&n.pid)return i.model.Te(n.pid)})},co:function(t,e,n){m.check(t,{pid:String,repo:String},"project",!0);var i=this,o={cancelled:!1},r=i.git.C(t.repo);return i.progress.Dn("Mount Repo: Creating project...",o.progress=0,function(){o.cancelled=!0}),i.git.J(r,t,e,function(e,t){i.progress.Dn(e,t)},o).then(function(){var e=i.session.Jt();t.pid===e&&i.session.an(e)},function(e){if(!n){m.log(e);var t=e&&e.message;t&&i.messages.Ln(t,"")}return i.progress.close(),Promise.reject(e)})}}),m.module("pushRepo").require("git").require("model").require("progress").require("prompt").require("addGitToken").require("session").require("messages").__init__(function(e,t){e.git=t.git,e.model=t.model,e.progress=t.progress,e.prompt=t.prompt,e.addGitToken=t.addGitToken,e.session=t.session,e.messages=t.messages}).def({so:function(t,n){var i=this,e=i.git.S(),o=i.git.F(),r=i.git.I();e?o&&r?i.uo(t,n):i.lo("No author name or email has been set. Are you sure you want to continue?",function(e){e.author.name&&i.uo(t,n)}):i.lo("Pushing changes requires a Github token. Please add a token to continue.",function(){i.addGitToken.oo(function(e){e.token&&i.uo(t,n)})})},uo:function(t,n){m.check(t,{pid:String},"project",!0);var i=this;return Promise.resolve().then(function(){return t.repo?i.git.C(t.repo):i.git.oe(t.name).then(function(e){return i.model.N(t.pid,{repo:e}).then(function(){return t.repo=e,i.git.C(e)})})}).then(function(e){return i.ho(e,t.pid).then(function(){i.prompt.open("Commit Message","",{showInput:!0,onResult:function(e){i.fo(t,n,e)}})})})},ho:function(t,n){m.check(n,String,"pid",!0);var i=this;return i.model.M(n).then(function(e){if(e&&e.pushData)return i.do(t,n)})},do:function(i,o){var r=this;return new Promise(function(e,t){r.prompt.open("Incomplete Push Detected",null,{text:"Do you want to complete the previous push?",okLabel:"YES (RECOMMENDED)",cancelLabel:"NO",onResult:function(){var n={};r.progress.Dn("Push Changes: Preparing...",n.progress=0,function(){n.cancelled=!0}),r.git.D(i,o,a,n).then(function(){return r.J(i,project,ref,function(e,t){a("Push Changes: Updating local repository...",n.progress+50*t/100)},{})}).then(function(){progressCallback("Push Changes: Completed.",n.progress=100),e()}).catch(function(e){e&&e.message&&r.messages.Ln(e.message),r.progress.close(),m.log(e),t(e)})},onDismiss:function(){r.model.N(o,{pushData:void 0}).then(e,t)}})});function a(e,t){r.progress.Dn(e,t)}},lo:function(e,t){this.prompt.open("","",{text:e,onResult:t})},fo:function(t,e,n){m.check(t,{pid:String,repo:String},"project",!0);var i=this,o={cancelled:!1,message:n,author:{name:i.git.F()||"Lumi-Editor",email:i.git.I(),date:i.git.P()}},r=i.git.C(t.repo);return i.progress.Dn("Push Changes: Preparing...",o.progress=0,function(){o.cancelled=!0}),i.git.W(r,t,e,function(e,t){i.progress.Dn(e,t)},o).then(function(){var e=i.session.Jt();t.pid===e&&i.session.an(e)},function(e){return i.progress.close(),Promise.reject(e)})}}),m.module("switchBranch").require("pullRepo").require("pushRepo").require("addGitToken").require("git").require("path").require("model").require("session").require("messages").__init__(function(e,t){e.pullRepo=t.pullRepo,e.pushRepo=t.pushRepo,e.addGitToken=t.addGitToken,e.git=t.git,e.path=t.path,e.model=t.model,e.session=t.session,e.messages=t.messages,e.projects=t.projects}).def({select:function(){return $$("switchBranchSelect")},po:function(e){var t=this;return e.map(function(e){return{label:t.path.mn(e.ref),value:e.ref}})},mo:function(e,t){m.check(e,{ref:String,pid:String},"project",!0),m.check(t,String);var n=this;return e.ref===t?(n.messages.Bt("sameBranchError"),Promise.resolve()):n.pullRepo.co(e,t).then(function(){return n.model.N(e.pid,{ref:t})}).then(function(){n.projects.Qi(),n.messages.Bt("switchBranchMessage",{branch:n.path.mn(t)})},function(e){n.messages.Bt("switchBranchError",{branch:n.path.mn(t)}),m.log(e)})},vo:function(t){m.check(t,{ref:String,repo:String,pid:String},"project",!0);var n=this,e=n.git.C(t.repo);return n.pushRepo.ho(e,t.pid).then(function(){return n.git.te(e)}).then(function(e){n.select().setData(n.po(e)),n.select().setValue(t.ref),n.modal.open(t)},function(e){n.messages.Bt("gitRepoConnectionError"),m.log(e)})}}),m.module("switchBranch").__init__(function(i){i.modal=UI.new({id:i.__name__,view:"modal",closeButton:!1,body:{flexLayout:"column",css:"uk-form",cells:[{template:"<h4>Switch Branch</h4>",margin:"bottom-sm",selectable:!1},{id:"switchBranchLink",view:"link",htmlTag:"SPAN",template:"Add a <a>personal token</a> to increase Github rate limits.",on:{onClick:function(e,t,n){"A"===n.target.tagName&&i.addGitToken.oo()}}},{id:"switchBranchSelect",tagClass:"x-select",view:"select",margin:"y",data:[]}]},footer:{flexAlign:"right",cells:[{id:"switchBranchCancelButton",view:"button",link:!0,label:"CANCEL",on:{onClick:function(){i.modal.close()}}},{id:"switchBranchOkButton",view:"button",link:!0,label:"OK",style:{minWidth:"64px"},on:{onClick:function(){i.modal.close(),i.modal.project&&i.mo(i.modal.project,i.select().getValue())}}}]},on:{onOpened:function(e,t,n){this.project=n}}},document.getElementById("mainContainer"))}),m.module("fileTreeController").require("hash").require("model").require("path").require("session").__init__(function(e,t){e.hash=t.hash,e.model=t.model,e.path=t.path,e.session=t.session}).__init__(function(a){a.FileTreeController=function(e){this.tree=e},a.FileTreeController.prototype={root:function(){return this.tree().findOne("root",!0)},syncRoot:function(){return this.sync(this.root())},sync:function(e){if(e.file)return Promise.reject("Only folders can be synced.");var n=this,i={};return a.model.he(e.path).then(function(e){return e.sort(n.compareObjectsByPathDepth),e.map(function(e){var t=i[a.path.xn(e.path)];i[e.path]=n.addBranch(e.path,t)})}).then(function(){return a.model.le(e.path).then(function(e){e.map(function(e){var t=i[a.path.xn(e.path)];n.addLeaf(e.path,e,t)})})})},compareObjectsByPathDepth:function(e,t){var n=/\//g,i=(e.path.match(n)||[]).length,o=(t.path.match(n)||[]).length;return o<i?1:i<o?-1:0},get:function(e){return this.tree().findOne("path",e)},markActive:function(e){this.tree().deselectAll();var t=this.get(e);t&&this.tree().select(t)},markStatus:function(e,t){if(e){this.tree().updateItemStatus(e,t);var n=e.$parent?this.tree().getItem(e.$parent):null;if(n){var i=this.calculateParentStatus(n);i!=n.status&&this.markStatus(n,i)}}},calculateParentStatus:function(e){var i=a.hash.StatusTypes,t=e.$children.reduce(function(e,t){var n=t.status||0;return e|(n&i.NEW||n&i.MOVED||n&i.CHANGED)},i.UNKNOWN);return t&i.CHANGED||t&i.MOVED||t&i.NEW},clearAll:function(){this.tree().clearAll()},addRoot:function(e,t){m.check(e,String,"path",!0),m.check(t,String,"label",!0);var n={$branch:!0,$draggable:!1,label:t,path:e,root:!0,file:!1};return this.add(n)},addBranch:function(e,t){if(m.check(e,String,!0),t=t||this.getParentBranch(e),m.assert(t,"Could not find parent for: "+e)){var n={$branch:!0,$parent:t.id,$draggable:!0,$droppable:!0,label:a.path.mn(e),path:e,root:!1,file:!1};return this.add(n),n}},openBranch:function(e){return this.tree().open(this.get(e))},closeBranch:function(e){return this.tree().close(this.get(e))},getParentBranch:function(e){return this.get(a.path.xn(e))},addLeaf:function(e,t,n,i){m.check(e,String,"path",!0),m.check(t,{fid:String},"file",!0);if(n=n||this.getParentBranch(e),m.assert(n,"Could not find parent for: "+e)){var o=a.session.Yt().repo?a.hash.pe(t):null,r={$branch:!1,$parent:n.id,$draggable:!0,$droppable:!1,label:a.path.mn(e),path:e,root:!1,file:!0,fid:t.fid,message:t.message};return this.add(r),this.markStatus(r,o),r}},add:function(e){var t=this.get(e.path);return t||(this.tree().add(e),e)},remove:function(e){m.check(e,{id:String,label:String},"node",!0),this.tree().remove(e)}}}),m.module("files").def({Ot:function(e,t){var n=this,i=n.treeController,o=i.root();if(o&&i.remove(o),n.go(),e&&t){m.check(t,{pid:String,name:String},"project",!0);var r=n.path.H(t);n.optionsMenu().refresh(),n.addMenu().refresh(),i.sync(i.addRoot(r,t.name||"")).then(function(){return e&&e.file?n.Zn(e.file.path,!0):Promise.reject("Session file missing.")}).catch(function(){n.Zn(null)})}},ko:function(n,i){m.check(i,String,"newPath",!0);var o=this,t=o.treeController.get(n);return m.assert(t,"Trying to update a missing node with path: "+n)?t.file?o.model.A(n,{path:i}).then(function(){o.Qn(n,i),o.treeController.remove(t),o.treeController.addLeaf(i,t)}):o.model.st(function(){o.model.Me(n,function(e){var t=e.path;e.path=t.replace(n,i),o.Qn(t,e.path)}),o.model.Ve(n,function(e){e.path=e.path.replace(n,i)}),o.model.Ke(n,{path:i})}).then(function(){o.treeController.remove(t);var e=o.treeController.addBranch(i);return o.treeController.sync(e)}):Promise.reject("Trying to update a non-existent node with path: "+n)},go:function(){var e=this.historyTracker;e.truncate(0),e.clearRedo(),this.bo()},wo:function(e){var t=this.historyTracker;t.pushUndo(e),t.truncate(20),t.clearRedo(),this.bo()},yo:function(){var t=this,n=t.historyTracker.undo();if(n)switch(t.bo(),n.action){case"delete":return t.xo(n.folders||[],n.files||[]);case"updatePath":return t._o(n.old,n.new);case"addFile":return t.model.ze(n.path).then(function(e){return n.schema=e,t.Co(n.path)});case"addFolder":return t.So(n.path);default:return t.historyTracker.popRedo(),t.bo(),Promise.reject("Unrecognized history action: "+n.action)}},Fo:function(){var e=this,t=e.historyTracker.redo();if(t)switch(e.bo(),t.action){case"delete":return e.Io(t.folders||[],t.files||[]);case"updatePath":return e.Po(t.old,t.new);case"addFile":return e.To(t.schema);case"addFolder":return e.jo(t.path);default:return e.historyTracker.popUndo(),e.bo(),Promise.reject("Unrecognized history action: "+t.action)}},xo:function(e,t){m.check(e,Array,"folders",!0),m.check(t,Array,"files",!0);var n=this;return n.model.st(function(){e.forEach(function(e){n.model.Ge(e)}),t.forEach(function(e){n.model.B(e)})}).then(function(){e.forEach(function(e){n.treeController.addBranch(e.path)}),t.forEach(function(e){n.treeController.addLeaf(e.path,e)})})},Io:function(e,n){m.check(e,Array,"folders",!0),m.check(n,Array,"files",!0);var i=this;return i.model.st(function(){e.forEach(function(e){i.model.He(e.path)}),n.forEach(function(e){i.model.De(e.path)})}).then(function(){var t=i.treeController;n.forEach(function(e){t.remove(t.get(e.path))}),e.slice().reverse().forEach(function(e){t.remove(t.get(e.path))})})},Co:function(e){var t=this.treeController;return t.remove(t.get(e)),this.model.De(e)},To:function(e){return this.treeController.addLeaf(e.path,e),this.model.B(e)},So:function(e){var t=this.treeController;return t.remove(t.get(e)),this.model.He(e)},jo:function(e){return this.treeController.addBranch(e),this.model.Ge({path:e})},_o:function(e,t){return this.ko(t,e)},Po:function(e,t){return this.ko(e,t)},Eo:function(n){m.check(n,String,"path",!0);var i,o,r=this,a=r.treeController.get(n);if(m.assert(a,"Cannot delete non-existent node: "+n))return a.file?r.model.ze(a.path).then(function(e){return r.wo({action:"delete",label:"Delete",files:[e]}),r.qn(e),r.treeController.remove(a),r.model.De(a.path)}).catch(function(e){return r.Ao(e,"File")}):a?r.model.le(a.path).then(function(e){return i=e,r.model.he(n)}).then(function(e){return o=e,r.model.qe(n)}).then(function(e){if(e){var t=[];return o.unshift(e),t=(t=t.concat(i.map(function(e){return r.qn(e),r.model.De(e.path)}))).concat(o.map(function(e){return r.model.He(e.path)})),r.wo({action:"delete",label:"Delete",folders:o,files:i}),r.treeController.remove(a),Promise.all(t)}return Promise.reject("Folder could not be found at: "+n)}):void 0},Uo:function(e,t,n){if(m.check(e,String,"path",!0),!m.assert(0<e.length,"Path cannot be 0 length."))return!0;var i=this;e=i.path._n(t?t.path:i.treeController.root().path,e),e=i.path.gn(e);var o=i.path.o(e),r=i.editor.Hi();if(!n)switch(o){case".html":n=i.templates.un(r);break;case".js":n=i.templates.cn(r);break;case".css":n=i.templates.ln(r);break;default:n=""}return i.ai(e).then(function(){return i.Ro(e,n)})},ai:function(e){var r=this,t=e.split("/");return t.pop(),t.reduce(function(e,t,n,i){if(0===n)return e;var o=i.slice(0,n+1).join("/");return e.then(function(){return r.model.We(o).then(function(e){if(!e)return r.$o(o)})})},Promise.resolve())},Lo:function(e,t){if(m.check(e,String,"path",!0),!m.assert(0<e.length,"Path cannot be 0 length."))return!0;var n=this;return e=n.path._n(t?t.path:n.treeController.root().path,e),e=n.path.gn(e),n.ai(e).then(function(){return n.$o(e)})},Bo:function(e,t){if(m.check(e,String,"name",!0),m.check(t,{path:String},"item.path",!0),!m.assert(0<e.length,"Name cannot be 0 length."))return!0;var n=this,i=n.path._n(n.path.xn(t.path),e);return i=n.path.gn(i),n.ai(t.path).then(function(){return n.Do(t.path,i,"Rename")})},Mo:function(e,t){m.check(e,String,"src",!0),m.check(t,String,"target",!0);var n=this.path._n(t,this.path.mn(e));this.Do(e,n,"Move")},Do:function(e,t,n){return this.wo({action:"updatePath",label:n,old:e,new:t}),this.ko(e,t)},ci:function(t,e,n){var i=this,o=i.encode.b(t),r=(i.hash.se(e,o),o?"base64":"utf8"),a={path:t,hash:i.hash.se(e)};return i.model.j(function(){return Promise.resolve().then(function(){return n?i.model.Oe(t).then(function(e){return e?e.fid?void(a.fid=e.fid):i.model.De(t).then(function(){return i.model.B(a)}):i.model.B(a)}):i.model.B(a)}).then(function(){return i.model.L({fid:a.fid,text:e,encoding:r})}).then(function(){return a.fid})})},Ro:function(t,e){var n=this;return n.ci(t,e).then(function(e){return n.treeController.addLeaf(t,{fid:e})?(n.wo({action:"addFile",label:"Add File",path:t}),t):Promise.reject({name:UNKNOWN_ERROR})}).catch(function(e){return n.Ao(e,"File")})},Oo:function(e){return this.treeController.addBranch(e)?this.model.Ge({path:e}):Promise.reject("Folder not added.")},$o:function(t){var n=this;return n.Oo(t).then(function(e){return n.wo({action:"addFolder",label:"Add Folder",path:t}),e}).catch(function(e){return n.Ao(e,"Folder")})},zo:function(n){var i=this;return new Promise(function(e,t){i.prompt.open(n+" Total Conflicts Found",null,{text:"Do you want to recreate these "+n+" files?",cancelLabel:"KEEP FILES",okLabel:"RECREATE FILES",onResult:e,onDismiss:t})})},No:function(t,e){for(var n=this,i=[],o=0;o<e.length;o++)i.push(n.Go(e[o]).then(function(e){return{path:n.path._n(t,e.name),data:e.data}},function(){n.messages.Bt("filesEncodeError")}));var r=!1,a=[];return Promise.all(i).then(function(e){return n.Wo(e).then(function(e){if(0<e.length)return a=e.map(function(e){return e.path}),n.zo(e.length).then(function(){r=!0},function(){r=!1})}).then(function(){return Promise.all(e.map(function(e){return-1===a.indexOf(e.path)?n.Ro(e.path,e.data):r?n.Eo(e.path).then(function(){return n.Ro(e.path,e.data)}):void 0}))})})},Wo:function(e){var t=this;return Promise.all(e.map(function(e){return t.model.Oe(e.path)})).then(function(e){return e.filter(function(e){return!!e})})},Go:function(i){var o=this;return new Promise(function(e,t){var n=new FileReader;n.addEventListener("error",function(e){t(e)}),o.encode.b(i.name)?(n.addEventListener("load",function(){e({name:i.name,data:n.result.split("base64,").pop()})}),n.readAsDataURL(i)):(n.addEventListener("load",function(){e({name:i.name,data:n.result})}),n.readAsText(i))})},Ao:function(e,t){var n=this;switch(e.name){case NOT_FOUND_ERROR:n.messages.Bt("filesNotFoundError",{name:n.path.mn(e.path)});break;case CONSTRAINT_ERROR:n.messages.Bt("filesExistsError",{type:t,name:n.path.mn(e.path)});break;default:n.messages.Bt("appBroken")}return Promise.reject(e)}}),m.module("files").require("dataUrl").require("model").require("observer").require("path").require("hash").require("encode").require("session").require("messages").require("templates").require("prompt").require("editor").require("history").require("pullRepo").require("pushRepo").require("switchBranch").require("diff").require("fileTreeController").__init__(function(e,t){e.path=t.path,e.model=t.model,e.observer=t.observer,e.hash=t.hash,e.encode=t.encode,e.session=t.session,e.messages=t.messages,e.dataUrl=t.dataUrl,e.templates=t.templates,e.prompt=t.prompt,e.editor=t.editor,e.history=t.history,e.pullRepo=t.pullRepo,e.pushRepo=t.pushRepo,e.switchBranch=t.switchBranch,e.diff=t.diff,e.projects=t.projects,e.minimatch=window.minimatch,e.historyTracker=new e.history.HistoryTracker,e.treeController=new t.fileTreeController.FileTreeController(e.tree),e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler),e.fileQuery={searchPhrase:""}}).__init__(function(o){o.observer.Gt(o.observer.ChangeTypes.UPDATE,null,function(e,t){var n=(t=t||{}).hash||e.hash,i=t.path||e.path;o.session.Qt()&&o.treeController.markStatus(o.treeController.get(i),o.hash.pe({path:i,hash:n,remotePath:e.remotePath,remoteHash:e.remoteHash}))})}).def({menuContainer:function(){return $$("menuContainer")},tree:function(){return $$("filesTree")},container:function(){return $$("filesContainer")},contextMenu:function(){return $$("fileContextMenu")},addMenu:function(){return $$("filesAddDropdown")},optionsMenu:function(){return $$("filesOptionsDropdown")},Zn:function(e){},Qn:function(e,t){},qn:function(e){},Ho:function(e){return 1<=e&&!!this.session.Qt()||2==e&&!window.$embedMode},Ko:function(){this.tree().dropdownPopup.close()},Ci:function(t,n){var i=this;(t=t||i.treeController.root())?i.prompt.open("Add File","",{placeholder:"Enter a file name or path",showInput:!0,onResult:function(e){i.Uo(e,t,n).then(i.Zn.bind(i))},onValidate:i.Vo.bind(i,!1,t.path)}):i.messages.Bt("filesAddFileError")},qo:function(t){var n=this;(t=t||n.treeController.root())?n.prompt.open("Add Folder","",{placeholder:"Enter a folder name or path",showInput:!0,onResult:function(e){n.Lo(e,t)},onValidate:n.Vo.bind(n,!1,t.path)}):n.messages.Bt("filesAddFolderError")},Yo:function(t){var n=this,e="Rename "+(t.file?"File":"Folder");n.prompt.open(e,t.label,{placeholder:"Enter a new name or path",showInput:!0,onResult:function(e){n.Bo(e,t)},onValidate:n.Vo.bind(n,!0,n.path.xn(t.path))})},Jo:function(e){var t=this;t.prompt.open("Delete "+(e.file?"File":"Folder"),"",{text:UI.interpolate('Do you want to delete "{{name}}"?',{name:e.label}),okLabel:"DELETE",onResult:function(){t.Eo(e.path)}})},Vo:function(e,t,n,i,o){if(0===n.length)i("Name cannot be empty.");else{var r=this.path.kn(n);if(r)i("Invalid character detected in name: "+r);else{var a=this.path._n(t,n);!e&&this.treeController.get(a)?i("Please change the name as it already exists."):(i(null),o&&o())}}},bo:function(){var e=$$("filesUndoIcon"),t=$$("filesRedoIcon");if(e){var n=this.historyTracker.getLastUndo();n?(e.enable(),e.setLabel("Undo "+n.label)):e.disable()}if(t){var i=this.historyTracker.getLastRedo();i?(t.enable(),t.setLabel("Redo "+i.label)):t.disable()}},Qo:function(e,t){var n=e&&e.path||"";return-1!=n.slice(n.indexOf("/")).toLowerCase().indexOf(t)},Xo:function(e){var t=this,n=t.fileQuery.searchPhrase.toLowerCase(),i=!0;return n&&(i=e.$branch?e.$children.some(function(e){return t.Qo(e,n)}):t.Qo(e,n)),!e.$parentClosed&&i}}),m.module("files").require("file-tree").require("search-field").require("scroller").__init__(function(o){function e(e){return{id:e,view:"icon-link",uploader:"multiple",value:"upload",batch:"folder",icon:"upload",label:"Upload File",on:{onClick:function(){this._uploader.value="",this.parentConfig=o.contextMenu().masterConfig},onFileChange:function(e,t){var n=o.treeController.root();if(n){var i=this.parentConfig?this.parentConfig.path:n.path;o.No(i,t.files)}else o.messages.Bt("filesAddFileError")}}}}o.barTemplate={id:"filesBarContainer",flexSize:"",css:"x-menu-bar",flexSpace:"around",cells:[{id:"filesFilterInput",view:"search-field",flexSize:"flex",placeholder:"Filter...",on:{onFocus:function(){o.menuContainer().$blockDrawerCloseByPan=!0},onBlur:function(){o.menuContainer().$blockDrawerCloseByPan=!1},onInput:function(){o.fileQuery.searchPhrase=this.getValue(),o.tree().refresh()}}},{view:"menu-icon",icon:"plus",iconStyle:"small",dropdownOptions:{dropdownCSS:"uk-dropdown-close x-z-index-above-offcanvas",pos:"bottom-right",relativeTo:"filesBarContainer"},dropdown:{id:"filesAddDropdown",view:"list",listStyle:"dropdown",filter:function(){return o.session.Yt()},data:[{view:"icon-link",value:"file",icon:"file",label:"New File"},{view:"icon-link",value:"folder",icon:"folder",label:"New Folder"},e()],on:{onItemClick:function(e){if(o.session.Yt())switch(e.value){case"file":o.Ci();break;case"folder":o.qo()}}}}},{view:"menu-icon",icon:"more-vertical",iconStyle:"small",dropdownOptions:{dropdownCSS:"uk-dropdown-close x-z-index-above-offcanvas",pos:"bottom-right",relativeTo:"filesBarContainer"},dropdown:{id:"filesOptionsDropdown",view:"list",listStyle:"dropdown",filter:function(e){return!e.git||o.Ho(e.git)},data:[{id:"filesUndoIcon",view:"icon-link",value:"undo",icon:"reply",label:"Undo",disabled:!0},{id:"filesRedoIcon",view:"icon-link",value:"redo",icon:"forward",label:"Redo",disabled:!0},{$divider:!0,git:2},{view:"icon-link",git:1,value:"git:pull",icon:"pull",label:"Pull Changes"},{view:"icon-link",git:2,value:"git:push",icon:"push",label:"Push Changes"},{view:"icon-link",git:1,value:"git:branch",icon:"git-branch",label:"Switch Branch"}],on:{onItemClick:function(e){var t=o.session.Yt();if(t)switch(e.value){case"git:pull":o.pullRepo.co(t,t.ref).then(function(){o.projects.Qi()});break;case"git:push":o.pushRepo.so(t,t.ref);break;case"git:branch":o.switchBranch.vo(t);break;case"file":o.Ci();break;case"folder":o.qo();break;case"undo":o.yo();break;case"redo":o.Fo()}}}}}]},o.fileTreeTemplate={id:"filesTree",view:"file-tree",batch:"list",flexSize:"flex",dataTransfer:"path",data:[],filter:o.Xo.bind(o),allowDrag:!0,style:{maxWidth:"300px"},draggable:function(e){return!UIkit.support.touch||UI.hasClass(e.target,"menu")},droppable:function(e){return!e.file},context:!0,dropdownEvent:"onMenuOpen",dropdownOptions:{dropdownCSS:"uk-dropdown-close x-z-index-above-offcanvas"},dropdown:{id:"fileContextMenu",view:"list",data:[{id:"newFileContextButton",view:"icon-link",value:"new",icon:"file",label:"New File",batch:"folder"},{id:"newFolderContextButton",view:"icon-link",value:"folder",icon:"folder",label:"New Folder",batch:"folder"},e("uploadFileContextButton"),{id:"renameItemContextButton",view:"icon-link",value:"rename",icon:"pencil",label:"Rename",batch:"editable"},{id:"deleteItemContextButton",view:"icon-link",value:"delete",icon:"trash",label:"Delete",batch:"editable"},{view:"icon-link",value:"open",icon:"file-edit",label:"Open",batch:"file"},{view:"icon-link",value:"expand",icon:"expand",label:"Expand",batch:"folder:close"},{view:"icon-link",value:"collapse",icon:"shrink",label:"Collapse",batch:"folder:open"},{$divider:!0,batch:"git:file"},{view:"icon-link",value:"diff",icon:"code",label:"View Diff",batch:"git:file"}],on:{onOpen:function(e,t,n){var i=[];(this.masterConfig=n).root||i.push("editable"),n.file?(i.push("file"),n.status&o.hash.StatusTypes.CHANGED&&i.push("git:file")):(i.push("folder"),i.push(n.$closed?"folder:close":"folder:open")),this.showBatch(i)},onClose:function(){this.masterConfig=null},onItemClick:function(e){var t=e.value,n=this.masterConfig,i=n.path;switch(t){case"open":o.Zn(i);break;case"expand":o.treeController.openBranch(i);break;case"collapse":o.treeController.closeBranch(i);break;case"folder":o.qo(n);break;case"new":o.Ci(n);break;case"rename":o.Yo(n);break;case"delete":o.Jo(n);break;case"diff":o.diff.Hn(n)}}}},on:{onAdd:function(e){e.$closed=e.$branch&&0<e.$depth},onAdded:function(){1<this.$count&&o.container().showBatch(["list"])},onDeleted:function(e){this.$count<=1&&o.container().showBatch(["empty"])},onItemContext:function(e,t,n){UI.preventEvent(n),UIkit.support.touch||this.dispatch("onMenuOpen",[e,t,n])},onItemDragStart:function(){o.menuContainer().$blockDrawerCloseByPan=!0},onItemDragEnd:function(){o.menuContainer().$blockDrawerCloseByPan=!1},onItemDrop:function(e,t){o.Mo(t.path,e.path),e.$branch&&e.$closed&&o.tree().open(e)},onItemClick:function(e,t,n){UI.preventEvent(n),o.Ko(),"I"==n.target.tagName&&UI.hasClass(n.target,"menu")?(this.dropdownPopup.open(e),this.dropdownPopup.positionNextTo(t,"bottom-right",this.config.dropdownMarginX,this.config.dropdownMarginY),this.dropdownPopup.moveWithinBoundary(),this.toggle(e)):e.$branch||o.Zn(e.path)}}},o.emptyTemplate={batch:"empty",css:"uk-text-center",flexLayout:"column",flex:!0,flexAlign:"center",cells:[{view:"label",css:"uk-h5",label:"No Files Found",margin:"bottom"},{view:"label",css:"uk-h6",margin:"x-lg y",label:"You have not created any files. Note that files cannot be saved in private browsing mode."},{view:"button",link:!0,margin:"x y",label:"NEW FILE",on:{onClick:function(){o.Ci()}}},{view:"button",link:!0,margin:"x bottom",label:"NEW FOLDER",on:{onClick:function(){o.qo()}}}]},o.filesTemplate={id:"filesContainer",batch:"projects",flexLayout:"column",fill:"height",cells:[o.fileTreeTemplate,o.emptyTemplate,{batch:"list",view:"spacer",height:"256px"}],on:{onInitialized:function(){this.showBatch(["empty"])}}},o.template={fill:"height",flexLayout:"column",cells:[o.barTemplate,{id:"filesScroller",view:"scroller",cells:[o.filesTemplate],on:{onScroll:function(){o.Ko()}}}]}}),m.module("library").require("path").require("model").require("session").require("dom").require("set").require("converter").require("observer").__init__(function(e,t){e.path=t.path,e.model=t.model,e.session=t.session,e.dom=t.dom,e.set=t.set,e.converter=t.converter,e.observer=t.observer,e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler),e.urls={}}).__init__(function(o){o.observer.Gt(o.observer.ChangeTypes.CREATE,o.observer.ExtensionFilters.HTML,function(n){o.model.q(n.fid).then(function(e){if(e){o.converter.jn(e);var t=o.dom.a(e.text);o.urls[n.fid]=o.Zo(t.scripts),o.er()}})}),o.observer.Gt(o.observer.ChangeTypes.DELETE,o.observer.ExtensionFilters.HTML,function(e){e&&e.fid&&(delete o.urls[e.fid],o.er())}),o.observer.Wt(o.observer.ChangeTypes.UPDATE,null,function(e,t){if(e&&e.fid){o.converter.jn(e),o.converter.jn(t);var n=t&&t.text||e&&e.text||"",i=o.dom.a(n);o.urls[e.fid]=o.Zo(i.scripts),o.er()}})}).def({Ot:function(){this.urls={},this.er()},onChangeUrls:m.noop,Zo:function(e){var t=this;return e.filter(function(e){return t.path.ft(e)}).map(function(e){return t.path.gn(t.path.dt(e))})},er:function(){var e=this;e.scheduled&&(clearTimeout(e.scheduled),e.scheduled=null),e.scheduled=setTimeout(function(){e.onChangeUrls(e.tr())},10)},tr:function(){var o=this;return Object.keys(o.urls).reduce(function(e,t){var n=o.urls[t],i=o.set.In(e,n);return i.length?e.concat(i):e},[])}}),m.module("projects").require("model").require("session").__init__(function(e,t){e.model=t.model,e.session=t.session,e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler)}).def({Ot:function(){this.nr()},Qi:function(){var t=this;return t.model.$e().then(function(e){e=e.filter(function(e){return!e.creating}),t.container().showBatch(0<e.length?"list":"empty"),t.list().setData(e),t.nr()})},Te:function(e){m.check(e,{pid:String},"project",!0);var t=this;return e.pid==t.session.Jt()&&t.session.in(),t.model.Te(e.pid).then(function(e){return t.Qi(!0),e})}}),m.module("projects").require("prompt").require("project").require("files").require("session").require("date").require("mountRepo").require("pullRepo").require("pushRepo").require("switchBranch").require("path").__init__(function(e,t){e.prompt=t.prompt,e.project=t.project,e.messages=t.messages,e.files=t.files,e.session=t.session,e.date=t.date,e.mountRepo=t.mountRepo,e.pullRepo=t.pullRepo,e.pushRepo=t.pushRepo,e.switchBranch=t.switchBranch,e.path=t.path,e.addGitToken=t.addGitToken,e.activeDropdown=null}).def({nr:function(){this.list().refresh(),this.list().deselectAll();var e=this.list().findOne("pid",this.session.Jt());e&&this.list().select(e)},menuContainer:function(){return $$("menuContainer")},container:function(){return $$("projectsContainer")},list:function(){return $$("projectsList")},Ji:function(e){return this.session.an(e)},ir:function(){this.activeDropdown&&(this.activeDropdown.close(),this.activeDropdown=null)},or:function(t){var n=this;n.prompt.open("Rename Project",t.name,{showInput:!0,onResult:function(e){n.model.N(t.pid,{name:e}).then(function(){n.Qi(),n.files.treeController.root().label=e,n.files.tree().refresh()})}})},rr:function(t){var n=this,i=String(Math.random()).slice(2,8);n.prompt.open(UI.interpolate('Do you want to delete "{{project}}"?',{project:t.name}),"",{text:UI.interpolate('Type <span class="uk-text-danger">{{phrase}}</span> to confirm. This will PERMANENTLY delete the project!',{phrase:i}),showInput:!0,onValidate:function(e,t,n){t(null),n&&n()},onResult:function(e){if(e!==i)return n.prompt.valueInput().raiseConcern(UI.interpolate('What you typed did not match "{{phrase}}".',{phrase:i})),!0;n.Te(t).then(function(){n.messages.Bt("deleteProjectMessage",t)})}})}}),m.module("projects").require("search-field").__new__(function(o){o.barTemplate={id:"projectsBarContainer",view:"flexgrid",css:"x-menu-bar",flexSize:"",flexSpace:"between",cells:[{id:"projectsSearch",view:"search-field",flexSize:"flex",placeholder:"Filter...",on:{onFocus:function(){o.menuContainer().$blockDrawerCloseByPan=!0},onBlur:function(){o.menuContainer().$blockDrawerCloseByPan=!1},onInput:function(){o.projectQuery.searchPhrase=this.getValue(),o.list().refresh()}}},{id:"projectsAddButton",view:"menu-icon",icon:"plus",iconStyle:"small",tooltip:"Add Project",dropdownOptions:{dropdownCSS:"uk-dropdown-close x-z-index-above-offcanvas",pos:"bottom-right",relativeTo:"projectsBarContainer"},dropdown:{view:"list",listStyle:"dropdown",data:[{view:"icon-link",value:"new",icon:"album",label:"New Project"},{$divider:!0},{view:"icon-link",value:"git:mount",icon:"pull",label:"Mount Git Repo"},{id:"mainAddGitTokenMenuItem",view:"icon-link",value:"git:token",icon:"lock",label:"Add Git Token"}],on:{onItemClick:function(e){switch(e.value){case"new":o.project.modal.open();break;case"git:mount":o.mountRepo.modal.open();break;case"git:token":o.addGitToken.oo()}}}}}]},o.listTemplate={id:"projectsList",view:"list",batch:"list",flexSize:"flex",listStyle:"side",filter:function(e){return e&&(!e.name||m.isString(e.name)&&!e.partial&&-1!=e.name.toLowerCase().indexOf(o.projectQuery.searchPhrase.toLowerCase()))},template:function(t){var e=UI.uid("project"),n=UI.uid("project-icon");return UI.new({id:e,htmlTag:"A",css:"x-project-list-item",flexAlign:"middle",flexSpace:"between",cells:[{view:"image",htmlTag:"SVG",margin:"right",width:40,height:40,on:{onInitialized:function(){jdenticon.update(this.el,t.name)}}},{flexLayout:"column",cells:[{view:"label",label:t.name},{view:"label",htmlTag:"small",label:"Modified "+o.date.ae(t.modifiedAt)}]},{id:n,view:"menu-icon",iconStyle:"small",icon:"more-vertical",dropdownOptions:{dropdownCSS:"uk-dropdown-close x-z-index-above-offcanvas",pos:"bottom-right",relativeTo:e},dropdown:{view:"list",listStyle:"dropdown",filter:function(e){return t.repo||!e.git},data:[{view:"icon-link",git:!0,value:"git:pull",icon:"pull",label:"Pull Changes"},{view:"icon-link",git:!0,value:"git:push",icon:"push",label:"Push Changes"},{view:"icon-link",git:!0,value:"git:branch",icon:"git-branch",label:"Switch Branch"},{$divider:!0,git:!0},{view:"icon-link",value:"rename",icon:"pencil",label:"Rename"},{view:"icon-link",value:"delete",icon:"trash",label:"Delete"}],on:{onItemClick:function(e){switch(e.value){case"git:pull":o.pullRepo.co(t,t.ref).then(function(){o.projects.Qi()});break;case"git:push":o.pushRepo.so(t,t.ref);break;case"git:branch":o.switchBranch.vo(t);break;case"delete":o.rr(t);break;case"rename":o.or(t)}}}}}]})},on:{onItemClick:function(e,t,n){var i=n.target.tagName;"I"!=i&&"A"!=i&&o.Ji(e.pid)}}},o.projectsTemplate={id:"projectsContainer",fill:"height",batch:"projects",flexLayout:"column",cells:[o.listTemplate,{batch:"empty",css:"uk-text-center",flexLayout:"column",flexAlign:"center",cells:[{view:"label",css:"uk-h5",label:"No Projects Found",margin:"bottom"},{view:"label",css:"uk-h6",margin:"x-lg y",label:"You have not created any projects. Note that loading & saving projects will not work in private browsing mode."},{id:"projectsNewButton",view:"button",link:!0,label:"NEW PROJECT",margin:"x y",on:{onClick:function(){o.project.modal.open()}}},{id:"projectsFromRepo",view:"button",link:!0,label:"FROM GITHUB REPO",margin:"x bottom-lg",on:{onClick:function(){o.mountRepo.modal.open()}}}]},{batch:"list",view:"spacer",height:"256px"}]},o.template={fill:"height",flexLayout:"column",cells:[o.barTemplate,{id:"projectsScroller",view:"scroller",cells:[o.projectsTemplate],on:{onScroll:function(){o.ir()}}}]},o.projectQuery={searchPhrase:""}}),m.module("settings").__init__(function(e){e.supportAnimation=UIkit.support.animation,e.supportTransition=UIkit.support.transition}).def({setAnimationsEnabled:function(e){e?(UI.removeClass(document.body,"no-animation"),UIkit.support.animation=this.supportAnimation,UIkit.support.transition=this.supportTransition):(UI.addClass(document.body,"no-animation"),UIkit.support.animation=!1,UIkit.support.transition=!1)}}),m.module("settings").require("session").require("editor").require("preview").require("urlQuery").__init__(function(e,t){e.editor=t.editor,e.session=t.session,e.preview=t.preview,e.urlQuery=t.urlQuery}).def({editorForm:function(){return $$("settingsEditorForm")},appearanceForm:function(){return $$("settingsAppearanceForm")},previewForm:function(){return $$("settingsPreviewForm")},ar:function(){var e={};return UI.extend(e,this.editorForm().getValues()),UI.extend(e,this.appearanceForm().getValues()),UI.extend(e,this.previewForm().getValues()),e},cr:function(){return localStorage.settings=JSON.stringify(this.ar())},sr:function(){var e=this.ar();try{UI.extend(e,JSON.parse(localStorage.settings||"{}"))}catch(e){$console.error(e)}return e},ur:function(){var e=this,t=e.urlQuery.Tn.bind(e.urlQuery),n=window.$embedMode?{appearanceTheme:t("theme"),appearanceAnimations:t("animations"),editorUseAceWorkers:!1,editorExtraTouchKeyboard:!1,editorTabSize:t("tabSize"),editorWordWrap:t("wordWrap")}:e.sr();e.lr(n),e.hr(n),e.fr(n)},hr:function(e){this.appearanceForm().setValues(e),this.setAnimationsEnabled(e.appearanceAnimations),this.editor.Bi(e.appearanceTheme)},lr:function(t){this.editorForm().setValues(t),this.editorForm().getFieldset().$components.forEach(function(e){m.isDefined(t[e.name])&&e.dispatch("onChange")})},fr:function(e){this.previewForm().setValues(e),this.preview.Yi(e.previewUseLiveMode)}}),m.module("settings").require("spacer").__init__(function(i,e){var t={id:"settingsEditorForm",view:"form",formStyle:"horizontal line",fieldset:[{formLabel:"Check Syntax",view:"toggle",name:"editorUseAceWorkers",checked:!0,on:{onChange:function(e,t,n){i.editor.Di(this.getValue()),n&&i.cr()}}},{$css:"uk-form-row uk-hidden-notouch",formLabel:"Extra Touch Keyboard",view:"toggle",name:"editorExtraTouchKeyboard",checked:!0,on:{onChange:function(e,t,n){i.editor.Oi(this.getValue()),n&&i.cr()}}},{formLabel:"Font Size",view:"select",name:"editorFontSize",data:[{value:"10px",label:"10px"},{value:"11px",label:"11px"},{value:"12px",label:"12px"},{value:"13px",label:"13px"},{value:"14px",label:"14px"},{value:"15px",label:"15px"},{value:"16px",label:"16px"}],on:{onInitialized:function(){this.setValue(window.innerWidth<=480&&UIkit.support.touch?"12px":"14px")},onChange:function(e,t,n){i.editor.zi(this.getValue()),n&&i.cr()}}},{formLabel:"Indent Guides",view:"toggle",name:"editorIndentGuides",checked:!0,on:{onChange:function(e,t,n){i.editor.Ni(this.getValue()),n&&i.cr()}}},{formLabel:"Line Numbers",view:"toggle",name:"editorLineNumbers",checked:!0,on:{onChange:function(e,t,n){i.editor.Gi(this.getValue()),n&&i.cr()}}},{formLabel:"Tab Size",view:"select",name:"editorTabSize",data:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"8",label:"8"}],on:{onInitialized:function(){this.setValue("2")},onChange:function(e,t,n){i.editor.Wi(this.getValue()),n&&i.cr()}}},{formLabel:"Word Wrap",view:"toggle",name:"editorWordWrap",checked:!0,on:{onChange:function(e,t,n){i.editor.Mi(this.getValue()),n&&i.cr()}}}]},n={id:"settingsAppearanceForm",view:"form",formStyle:"horizontal line",fieldset:[{formLabel:"Animations",view:"toggle",name:"appearanceAnimations",checked:!0,on:{onChange:function(e,t,n){i.setAnimationsEnabled(this.getValue()),n&&i.cr()}}},{formLabel:"Theme",view:"select",name:"appearanceTheme",data:[{value:"ayu-light",label:"Ayu Light"},{value:"chrome",label:"Chrome"},{value:"xcode",label:"XCode"},{value:"ayu-mirage",label:"Ayu Mirage"},{value:"dracula",label:"Dracula"},{value:"monokai",label:"Monokai"}],on:{onInitialized:function(){this.setValue("xcode")},onChange:function(e,t,n){i.editor.Bi(this.getValue()),n&&i.cr()}}}]},o={id:"settingsPreviewForm",view:"form",formStyle:"horizontal line",fieldset:[{formLabel:"Live Preview",view:"toggle",name:"previewUseLiveMode",checked:!0,on:{onChange:function(e,t,n){i.preview.Yi(this.getValue()),n&&i.cr()}}}]},r={id:"settingsAboutForm",view:"form",formStyle:"horizontal line",fieldset:[{formLabel:"Build",view:"label",label:window.$version||"Dev"},{formLabel:"Terms Agreement",view:"link",label:"Open",on:{onClick:function(){e.cookieBanner.banner.show()}}},{formLabel:'<a class="uk-text-danger uk-text-nowrap" href="https://github.com/spckio/spck-issues/issues" target="_blank">Report an Issue</a>'}]};function a(e){return{view:"label",margin:"x y",textColor:"primary",htmlTag:"SMALL",label:e}}i.template={id:i.__name__,view:"scroller",flexLayout:"column",fill:"height",cells:[a("APPEARANCE"),n,a("EDITOR"),t,a("PREVIEW"),o,a("ABOUT"),r,{view:"spacer",height:"64px"}]}}),m.module("search").require("model").require("prompt").require("path").require("session").require("editor").require("messages").require("encode").require("searchSettings").__init__(function(e,t){e.model=t.model,e.path=t.path,e.prompt=t.prompt,e.session=t.session,e.editor=t.editor,e.main=t.main,e.messages=t.messages,e.encode=t.encode,e.searchSettings=t.searchSettings,e.searchSettings.onUpdateSearchResults=e.Ki.bind(e),e.sessionChangeHandler=e.Ot.bind(e),e.session.zt(e.sessionChangeHandler),e.entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},e.Vn()}).def({Ot:function(){this.Vn()},dr:function(){return 500},Vn:function(){var e=this;e.searchResults=null,e.searchTerm=null,e.taskQueue=[],e.tree()&&(e.tree().setData([]),e.container().clearResults(),e.replaceInput().setValue(""),e.findInput().setValue(""))},menuContainer:function(){return $$("menuContainer")},findInput:function(){return $$("searchFindInput")},replaceInput:function(){return $$("searchReplaceInput")},tree:function(){return $$("searchTree")},container:function(){return $$("searchContainer")},isMatchCaseOn:function(){return $$("searchCaseSensitiveIcon").isSelected()},isMatchWholeWordOn:function(){return $$("searchWholeWordIcon").isSelected()},isRegExOn:function(){return $$("searchRegExIcon").isSelected()},clearAll:function(){this.tree().clearAll()},pr:function(e,t,n,i){return e=t?e:this.mr(e),e=i?"\\b"+e+"\\b":e,new RegExp(e,n?"gm":"igm")},vr:function(e,t){var n=this;if(n.taskQueue.length){var i=n.taskQueue.pop();setTimeout(function(){i.call.apply(i.thisArg,i.args).then(function(){n.vr(e,t)})},t||1)}else e&&e()},gr:function(){var e=this.searchResults||[];return this.taskQueue.length?(this.messages.Bt("searchBusyError"),!1):0!==e.length},kr:function(e,t){var n=this,i=n.searchResults;if(n.gr()){for(var o,r,a={},c=0;c<i.length;c++)r=i[c],o=a[r.file.fid]||[],(a[r.file.fid]=o).push({range:{start:r.start,end:r.end},text:e});Object.keys(a).forEach(function(e){n.taskQueue.push({thisArg:n.editor,call:n.editor.Ii,args:[a[e],e]})}),n.vr(function(){n.br(),t&&t()})}},br:function(){var e=this,t=e.searchResults,n=t.map(function(t){return e.model.q(t.file.fid).then(function(e){e&&(t.line=e.text.slice(t.range.start,t.range.end),t.match=null)})}).filter(function(e){return!!e});return Promise.all(n).then(function(){e.wr(t)})},yr:function(){var e=this;e.gr()&&e.prompt.open("Confirmation","",{text:UI.interpolate("Replace all occurrences of <span class='uk-text-danger'>{{find}}</span> with <span class='uk-text-danger'>{{replace}}</span>?",{find:e.searchTerm,replace:e.replaceInput().getValue()}),onResult:function(){e.kr(e.replaceInput().getValue())},type:"confirm"})},Ki:function(){var t=this,n=t.findInput().getValue(),e=t.isMatchWholeWordOn(),i=t.isMatchCaseOn(),o=t.isRegExOn();return t.Ri(n,o,i,e).then(function(e){t.searchResults=e,t.searchTerm=n,t.wr(e)})},wr:function(e){for(var t,n,i=[],o=[],r=0;r<e.length;r++)t=(n=e[r]).file.fid,-1==o.indexOf(t)&&(o.push(t),i.push({$branch:!0,file:!0,id:t,cls:"x-search-branch",path:n.file.path,label:this.path.mn(n.file.path)})),i.push({$branch:!1,$parent:t,search:!0,cls:"x-search-item",label:this.xr(n.line,n.match),row:n.start.row,column:n.start.column,file:n.file});this.tree().setData(i),0===i.length?(this.container().displayNoResults(),$$("searchStatusLabel").setValue("")):$$("searchStatusLabel").setValue(UI.interpolate("{{results}} results in {{files}} files",{files:o.length,results:i.length-o.length}))},Ri:function(e,t,n,i){if(!m.check(e,String)||0===e.length)return Promise.reject("Invalid search pattern.");var c=this,s=c.pr(e,t,n,i),o=c.session.Xt(),u=c.dr(),r=c.searchSettings.Mn(),l=0;return c.model.le(o).then(function(e){return PromisePool(e=e.filter(function(e){return e&&e.fid&&e.path&&!c.encode.b(e.path)&&(!r||-1!==r.indexOf(e.path))}),function(a){return c.model.q(a.fid).then(function(e){if(e&&e.text&&"base64"!==e.encoding){for(var t,n=[],i=e.text,o=0;o<u&&(t=s.exec(i));o++){var r=c._r(i,t.index,t[0].length,36);n.push({start:c.Cr(i,t.index),end:c.Cr(i,s.lastIndex),range:r,line:i.slice(r.start,r.end),match:{start:t.index-r.start,end:s.lastIndex-r.start},file:a})}return l+=n.length,u<=l?(c.container().displayOverflowResults(),Promise.reject("Exceeded max number of results.")):n}})},5,0).then(function(e){return u<=l?(c.container().displayOverflowResults(),Promise.reject("Exceeded max number of results.")):e.reduce(function(e,t){return t?e.concat(t):e},[])})})},_r:function(e,t,n,i){i=n<(i=i||1e4)?i-n:0;var o=t+n,r=e.slice(Math.max(t-i,0),t),a=e.slice(o,o+i);return r=(r=r.split(/[\n\r]/).pop()).replace(/^\s+/,""),a=(a=a.split(/[\n\r]/).shift()).replace(/\s+$/,""),r.length+a.length>i&&(r=r.slice(Math.max(0,r.length-Math.floor(i/2))),a=a.slice(0,i-r.length)),{start:t-r.length,end:o+a.length}},Cr:function(e,t){var n=(e=e.slice(0,t)).split(/\r\n|\r|\n/g);return{row:n.length-1,column:n.pop().length}},mr:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},xr:function(e,t){var i=this,o=t?t.start:-1,r=t?t.end:-1;return e.split("").map(function(e,t){var n=i.entityMap[e]||e;return t===o&&(n='<span class="x-search-highlight">'+n),t===r-1&&(n+="</span>"),n}).join("")}}),m.module("search").require("file-tree").__init__(function(i){i.barTemplate={id:"searchBarContainer",flexSize:"none",flexLayout:"column",cells:[{css:"x-menu-bar",flexSize:"",cells:[{id:"searchFindInput",view:"search-field",flexSize:"flex",placeholder:"Find...",inputAttributes:{style:"padding-right:72px"},searchOptions:[{id:"searchRegExIcon",view:"menu-toggle",css:"ace_icon regex",tooltip:"Use RegEx"},{id:"searchCaseSensitiveIcon",view:"menu-toggle",css:"ace_icon case-sensitive",tooltip:"Match Case"},{id:"searchWholeWordIcon",view:"menu-toggle",css:"ace_icon whole-word",tooltip:"Match Whole Word"}],on:{onKeyUp:function(e,t,n){"Enter"===n.key&&(this.getValue()?i.Ki():i.container().clearResults())},onFocus:function(){i.menuContainer().$blockDrawerCloseByPan=!0},onBlur:function(){i.menuContainer().$blockDrawerCloseByPan=!1}}},{view:"menu-icon",icon:"triangle-left",on:{onClick:function(){var e=this.opened=!this.opened;this.set("icon",e?"triangle-down":"triangle-left"),this.render(),e?$$("searchBarReplaceRow").show():$$("searchBarReplaceRow").hide()}}}]},{id:"searchBarReplaceRow",css:"x-menu-bar",flexSize:"",hidden:!0,cells:[{id:"searchReplaceInput",view:"input",css:"x-input",flexSize:"flex",placeholder:"Replace...",on:{onKeyUp:function(e,t,n){"Enter"===n.key&&i.yr()},onFocus:function(){i.menuContainer().$blockDrawerCloseByPan=!0},onBlur:function(){i.menuContainer().$blockDrawerCloseByPan=!1}}},{view:"menu-icon",icon:"list",on:{onClick:function(){i.searchSettings.modal.open()}}}]},{id:"searchStatusLabel",view:"label",label:"",htmlTag:"SMALL",margin:"x"}]},i.searchTemplate={id:"searchContainer",batch:"search",fill:"height",flexLayout:"column",cells:[{id:"searchTree",view:"file-tree",batch:"list",flexSize:"flex",allowDrag:!1,data:[],draggable:function(e){return!1},orderAfter:function(e){var t=this.$parent==e.id,n=this.$depth<e.$depth,i=this.$parent==e.$parent;return t||n||i&&(this.$branch<e.$branch||this.row>e.row&&!this.$branch&&!e.$branch||this.label>e.label&&this.$branch&&e.branch)},on:{onAdded:function(){1<this.$count&&i.container().showBatch(["list"])},onItemClick:function(e){e.search&&i.editor.Fi(e.file.path,e).then(function(){i.main.editor().navigateTo(e.row,e.column),i.main.menuContainer().close()})}}},{batch:"empty",css:"uk-text-center",flexAlign:"center",fill:"height",flexLayout:"column",cells:[{id:"searchEmptyMessage",css:"uk-h6",view:"label",margin:"x-lg"},{view:"spacer",height:"128px"}]},{batch:"no-results",css:"uk-text-center",flexAlign:"center",fill:"height",flexLayout:"column",cells:[{view:"label",css:"uk-h5",label:"No Results Found."},{view:"spacer",height:"128px"}]},{batch:"list",view:"spacer",height:"256px"}],displayOverflowResults:function(){$$("searchEmptyMessage").setValue(UI.interpolate("There are over {{limit}} results, that's too many to be displayed at once.",{limit:i.dr()})),$$("searchStatusLabel").setValue(""),this.showBatch(["empty"])},clearResults:function(){$$("searchEmptyMessage").setValue("Find and replace text across files within the project."),$$("searchStatusLabel").setValue(""),this.showBatch(["empty"])},displayNoResults:function(){this.showBatch(["no-results"])}},i.template={fill:"height",flexLayout:"column",cells:[i.barTemplate,{id:"searchScroller",view:"scroller",cells:[i.searchTemplate]}]}}),function(t){function e(e){return t.console&&t.console[e]&&t.$consoleEnabled?t.console[e].bind(t.console):n}function n(){}t.$console={log:e("log"),debug:e("debug"),warn:e("warn"),error:e("error")}}(window),function(e){e.NOT_FOUND_ERROR="NotFoundError",e.CONSTRAINT_ERROR="ConstraintError",e.UNKNOWN_ERROR="UnknownError",e.CONNECTION_ERROR="ConnectionError"}(window),UIkit2.support.mutationobserver=null,UI.ready(function(){m.module("views").require("menu").require("main").require("urlQuery").require("cookieBanner");var n=!!window.$embedMode,i=m.modules,o=i.urlQuery.Tn.bind(i.urlQuery);Promise.resolve().then(function(){if("serviceWorker"in navigator)return navigator.serviceWorker.register("/service.worker.js").then(function(t){t.onupdatefound=function(){var e=t.installing;e&&(e.onstatechange=function(){"installed"===e.state&&navigator.serviceWorker.controller&&(window.$embedMode?location.reload():m.initialize("prompt").then(function(e){e.open("Update Avaliable",null,{text:"Do you want to refresh the page to update the app?",okLabel:"UPDATE",onResult:function(){location.reload()}})}))})}}).catch($console.error.bind($console,"[SW ERROR]"))}).then(function(){return m.initialize("views")}).then(function(){return document.body.removeChild(document.getElementById("preloader")),i.settings.ur(),i.projects.Qi(),n&&UI.addClass(document.documentElement,"uk-notouch"),i.model.xe("currentProjectId").then(function(e){if(n){var t=o("name")||"Files";return i.session.rn({pid:t,name:t},{}),i.model.Te(t)}e?i.session.an(e):i.session.in()},function(){i.prompt.open("Incognito Mode Detected!",null,{text:"Your browser is operating in incognito, and the editor will not function properly in this mode. Please restart in a normal browsing session.",okLabel:"OK, GOT IT.",hideCancel:!0}),i.session.in(),i.projects.container().showBatch("empty")})}).then(function(){setTimeout(function(){UI.removeClass(document.getElementById("mainContainer"),"uk-invisible")},100),n&&(window.$embedMode={files:o("files"),preview:o("preview")},i.main.ni(window.$embedMode))})});